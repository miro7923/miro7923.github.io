I"ù6<ul>
  <li>ì‘ì„±ì¼ : 2022.05.27</li>
  <li>
    <p>ì‘ì„±ì : í™©ìœ ì§„</p>
  </li>
  <li>íŒ€ì› : ê¹€ì§„ì˜, ë°•ìŠ¹ì§€, ë°˜í˜„ë¹ˆ, ì˜¤ì„±ì€, ì˜¤ì€í˜„, í™©ìœ ì§„</li>
  <li>íŒ€ì¥ : í™©ìœ ì§„</li>
  <li>ë¶€íŒ€ì¥ : ì˜¤ì„±ì€</li>
  <li>GitHub Repository : <a href="https://github.com/miro7923/Uno-Mas">https://github.com/miro7923/Uno-Mas</a><br /><br /><br /></li>
</ul>

<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Spring Tool Suite 4.14.0</li>
  <li>Spring framework 4.3.1.RELEASE</li>
  <li>Tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ê¸°ê°„">ê¸°ê°„</h1>
<ul>
  <li>2022.4.13 ~ 2022.5.27<br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ë§ˆì§€ë§‰ ê³¼ì œë¡œ íŒ€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>ì¡°ê±´ì€ <code class="language-plaintext highlighter-rouge">Spring</code> ê¸°ë°˜ìœ¼ë¡œ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì œì‘í•˜ëŠ” ê²ƒì´ë‹¤.</li>
  <li>ì´ íŒ€ì›ì€ 6ëª…ì´ë©°, ìš°ë¦¬ íŒ€ì€ <code class="language-plaintext highlighter-rouge">1ì¸ ê°€êµ¬ë¥¼ ìœ„í•œ ì‡¼í•‘ëª°</code>ì„ ì£¼ì œë¡œ ì •í–ˆë‹¤.</li>
  <li>íŒ€ ì´ë¦„ìœ¼ë¡œ ì •í•´ì§„ <code class="language-plaintext highlighter-rouge">Uno mÃ¡s</code>ëŠ” ìŠ¤í˜ì¸ì–´ë¡œ <code class="language-plaintext highlighter-rouge">í•˜ë‚˜ ë”</code>ë¼ëŠ” ëœ»ì´ë‹¤. <br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©">ì§„í–‰ìƒí™©</h1>

<p align="center"><img src="../../assets/images/unomas_addrList1.png" width="500" /></p>

<ul>
  <li>ì‡¼í•‘ëª°ì˜ ìƒí’ˆì„ ì£¼ë¬¸í•˜ëŠ” í˜ì´ì§€ì—ì„œ ë°°ì†¡ì§€ ëª©ë¡ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´</li>
</ul>

<p align="center"><img src="../../assets/images/unomas_addrList2.png" width="900" /></p>

<ul>
  <li>ë°°ì†¡ì§€ë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” ìƒˆ ì°½ì„ ë„ìš°ê³ , ì—¬ê¸°ì„œ ì„ íƒí•œ ì£¼ì†Œë¥¼ ì£¼ë¬¸ í˜ì´ì§€ì— ì…ë ¥í•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="shippinglocationjsp">shippingLocation.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
	pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="nt">&lt;%@taglib </span><span class="na">prefix=</span><span class="s">"c"</span><span class="na"> uri=</span><span class="s">"http://java.sun.com/jsp/jstl/core"</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;%@taglib </span><span class="na">prefix=</span><span class="s">"fn"</span><span class="na"> uri=</span><span class="s">"http://java.sun.com/jsp/jstl/functions"</span> <span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"ko"</span> <span class="na">style=</span><span class="s">"margin: 0px; padding: 0px; height: 100%; overflow: hidden;"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>ë°°ì†¡ì§€ ëª©ë¡<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"${path}/resources/css/themify-icons.css?after"</span> <span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"${path}/resources/css/elegant-icons.css?after"</span> <span class="na">type=</span><span class="s">"text/css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"${path}/resources/css/order_css/shippingLocation.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body</span>
	<span class="na">style=</span><span class="s">"margin: 0px; padding: 0px; height: 100%; width: 100%; overflow: hidden;"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- @@@@@@@ ë°°ì†¡ì§€ ì„ íƒí•˜ë©´ ì£¼ë¬¸ í™”ë©´ì—ì„œ ì‹ ê·œë°°ì†¡ì§€ íƒ­ì— ì¶œë ¥ë˜ê²Œ í•˜ê¸° --&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"pop_wrap"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"pop_header"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">"h1"</span><span class="nt">&gt;</span>ë°°ì†¡ì§€ ëª©ë¡<span class="nt">&lt;/h1&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"pop_container"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"pop_content"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"delivery_list_area"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">value=</span><span class="s">"${sessionScope.saveNUM }"</span> <span class="na">id=</span><span class="s">"user_num"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">value=</span><span class="s">"${curPage }"</span> <span class="na">id=</span><span class="s">"curPage"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"tbl_delivery_list"</span><span class="nt">&gt;</span>    
                        <span class="nt">&lt;colgroup</span> <span class="na">width=</span><span class="s">"100%"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;col</span> <span class="na">style=</span><span class="s">"width: 140px;"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;col</span> <span class="na">style=</span><span class="s">"width: auto;"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;col</span> <span class="na">style=</span><span class="s">"width: 150px;"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;col</span> <span class="na">style=</span><span class="s">"width: 148px;"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;/colgroup&gt;</span>
                        <span class="nt">&lt;thead&gt;</span>
                            <span class="nt">&lt;tr&gt;</span>
                                <span class="nt">&lt;th&gt;</span>ë°°ì†¡ì§€<span class="nt">&lt;/th&gt;</span>
                                <span class="nt">&lt;th&gt;</span>ì£¼ì†Œ<span class="nt">&lt;/th&gt;</span>
                                <span class="nt">&lt;th&gt;</span>ì—°ë½ì²˜<span class="nt">&lt;/th&gt;</span>
                                <span class="nt">&lt;th&gt;</span>ì„ íƒ<span class="nt">&lt;/th&gt;</span>
                            <span class="nt">&lt;/tr&gt;</span>
                        <span class="nt">&lt;/thead&gt;</span>
                        <span class="nt">&lt;tbody&gt;</span>
                            <span class="nt">&lt;c:if </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="n">primaryAddr</span> <span class="o">!=</span> <span class="kc">null</span> <span class="si">}</span><span class="s">"</span><span class="nt">&gt;</span>
	                            <span class="nt">&lt;tr</span> <span class="na">page=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"_address default"</span> <span class="na">style=</span><span class="s">"display: table-row;"</span><span class="nt">&gt;</span>
	                                <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"cell_delivery"</span><span class="nt">&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_addressName nick"</span> <span class="na">id=</span><span class="s">"addr_nameP"</span><span class="nt">&gt;</span>${primaryAddr.addr_name }<span class="nt">&lt;/span&gt;</span>
	                                    <span class="nt">&lt;strong</span> <span class="na">class=</span><span class="s">"_receiverName name"</span> <span class="na">id=</span><span class="s">"addr_recipientP"</span><span class="nt">&gt;</span>${primaryAddr.addr_recipient }<span class="nt">&lt;/strong&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"mark_default"</span><span class="nt">&gt;</span>ê¸°ë³¸ë°°ì†¡ì§€<span class="nt">&lt;/span&gt;</span>
	                                <span class="nt">&lt;/td&gt;</span>
	                                <span class="nt">&lt;td&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_zipCode zipcode"</span> <span class="na">id=</span><span class="s">"addr_postalcodeP"</span><span class="nt">&gt;</span>${primaryAddr.addr_postalcode }<span class="nt">&lt;/span&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_baseAddress"</span> <span class="na">id=</span><span class="s">"addr_roadaddrP"</span><span class="nt">&gt;</span>${primaryAddr.addr_roadaddr }<span class="nt">&lt;/span&gt;&lt;br&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_detailAddress"</span> <span class="na">id=</span><span class="s">"addr_detailaddrP"</span><span class="nt">&gt;</span>${primaryAddr.addr_detailaddr }<span class="nt">&lt;/span&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_roadNameYn"</span> <span class="na">style=</span><span class="s">"display:none;"</span><span class="nt">&gt;</span>Y<span class="nt">&lt;/span&gt;</span>
	                                <span class="nt">&lt;/td&gt;</span>
	                                <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"cell_tel"</span><span class="nt">&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_telNo1"</span><span class="nt">&gt;</span>${fn:substring(primaryAddr.addr_phone, 0, 3) } - ${fn:substring(primaryAddr.addr_phone, 3, 7) } - ${fn:substring(primaryAddr.addr_phone, 7, 11) }<span class="nt">&lt;/span&gt;&lt;br&gt;&lt;span</span> <span class="na">class=</span><span class="s">"_telNo2"</span><span class="nt">&gt;&lt;/span&gt;</span>
	                                    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">value=</span><span class="s">"${primaryAddr.addr_phone }"</span> <span class="na">id=</span><span class="s">"addr_phoneP"</span><span class="nt">&gt;</span>
	                                <span class="nt">&lt;/td&gt;</span>
	                                <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"cell_btn"</span><span class="nt">&gt;</span>
	                                    <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"_select setting_btn type_h green"</span> <span class="na">onclick=</span><span class="s">"chooseLocation('P')"</span><span class="nt">&gt;</span>ì„ íƒ<span class="nt">&lt;/button&gt;</span>
	                                <span class="nt">&lt;/td&gt;</span>
	                            <span class="nt">&lt;/tr&gt;</span>
                            <span class="nt">&lt;/c:if&gt;</span>
                            <span class="nt">&lt;c:forEach </span><span class="na">var=</span><span class="s">"addrVO"</span><span class="na"> items=</span><span class="s">"</span><span class="si">${</span><span class="n">orderAddrList</span> <span class="si">}</span><span class="s">"</span><span class="na"> varStatus=</span><span class="s">"i"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;tr</span> <span class="na">page=</span><span class="s">"1"</span> <span class="na">class=</span><span class="s">"_address default"</span> <span class="na">style=</span><span class="s">"display: table-row;"</span><span class="nt">&gt;</span>
	                                <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"cell_delivery"</span><span class="nt">&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_addressName nick"</span> <span class="na">id=</span><span class="s">"addr_name${i.index }"</span><span class="nt">&gt;</span>${addrVO.addr_name }<span class="nt">&lt;/span&gt;</span>
	                                    <span class="nt">&lt;strong</span> <span class="na">class=</span><span class="s">"_receiverName name"</span> <span class="na">id=</span><span class="s">"addr_recipient${i.index }"</span><span class="nt">&gt;</span>${addrVO.addr_recipient }<span class="nt">&lt;/strong&gt;</span>
	                                <span class="nt">&lt;/td&gt;</span>
	                                <span class="nt">&lt;td&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_zipCode zipcode"</span> <span class="na">id=</span><span class="s">"addr_postalcode${i.index }"</span><span class="nt">&gt;</span>${addrVO.addr_postalcode }<span class="nt">&lt;/span&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_baseAddress"</span> <span class="na">id=</span><span class="s">"addr_roadaddr${i.index }"</span><span class="nt">&gt;</span>${addrVO.addr_roadaddr }<span class="nt">&lt;/span&gt;&lt;br&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_detailAddress"</span> <span class="na">id=</span><span class="s">"addr_detailaddr${i.index }"</span><span class="nt">&gt;</span>${addrVO.addr_detailaddr }<span class="nt">&lt;/span&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_roadNameYn"</span> <span class="na">style=</span><span class="s">"display:none;"</span><span class="nt">&gt;</span>Y<span class="nt">&lt;/span&gt;</span>
	                                <span class="nt">&lt;/td&gt;</span>
	                                <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"cell_tel"</span><span class="nt">&gt;</span>
	                                    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"_telNo1"</span><span class="nt">&gt;</span>${fn:substring(addrVO.addr_phone, 0, 3) } - ${fn:substring(addrVO.addr_phone, 3, 7) } - ${fn:substring(addrVO.addr_phone, 7, 11) }<span class="nt">&lt;/span&gt;&lt;br&gt;&lt;span</span> <span class="na">class=</span><span class="s">"_telNo2"</span><span class="nt">&gt;&lt;/span&gt;</span>
	                                    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">value=</span><span class="s">"${addrVO.addr_phone }"</span> <span class="na">id=</span><span class="s">"addr_phone${i.index }"</span><span class="nt">&gt;</span>
	                                <span class="nt">&lt;/td&gt;</span>
	                                <span class="nt">&lt;td</span> <span class="na">class=</span><span class="s">"cell_btn"</span><span class="nt">&gt;</span>
	                                    <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"_select setting_btn type_h green"</span> <span class="na">onclick=</span><span class="s">"chooseLocation(${i.index})"</span><span class="nt">&gt;</span>ì„ íƒ<span class="nt">&lt;/button&gt;</span>
	                                <span class="nt">&lt;/td&gt;</span>
	                            <span class="nt">&lt;/tr&gt;</span>
                            <span class="nt">&lt;/c:forEach&gt;</span>
                        <span class="nt">&lt;/tbody&gt;</span>
                    <span class="nt">&lt;/table&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"setting_paginate"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;c:if </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="n">pm</span><span class="o">.</span><span class="na">prev</span> <span class="o">==</span> <span class="kc">true</span> <span class="si">}</span><span class="s">"</span><span class="nt">&gt;</span>
		                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/order/addr_book?user_num=${sessionScope.saveNUM }&amp;page=${reviewPm.startPage - 1 }"</span> 
		                <span class="na">id=</span><span class="s">"prev"</span> <span class="na">class=</span><span class="s">"page_btn_prev"</span> <span class="na">style=</span><span class="s">"color: black;"</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">"arrow_carrot-left_alt"</span><span class="nt">&gt;&lt;/span&gt;&lt;/a&gt;</span>
                    <span class="nt">&lt;/c:if&gt;</span>
                    <span class="nt">&lt;c:forEach </span><span class="na">var=</span><span class="s">"page"</span><span class="na"> varStatus=</span><span class="s">"i"</span><span class="na"> begin=</span><span class="s">"</span><span class="si">${</span><span class="n">pm</span><span class="o">.</span><span class="na">startPage</span> <span class="si">}</span><span class="s">"</span><span class="na"> end=</span><span class="s">"</span><span class="si">${</span><span class="n">pm</span><span class="o">.</span><span class="na">endPage</span> <span class="si">}</span><span class="s">"</span><span class="na"> step=</span><span class="s">"1"</span><span class="nt">&gt;</span>
		                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:void(0);"</span> <span class="na">id=</span><span class="s">"page${i.index }"</span> <span class="na">style=</span><span class="s">"color: black;"</span> 
		                 <span class="na">class=</span><span class="s">"_page page_num"</span> <span class="na">onclick=</span><span class="s">"changePageNum(${i.index}, ${pm.endPage - pm.startPage + 1 })"</span><span class="nt">&gt;</span>${page }<span class="nt">&lt;/a&gt;</span>
                    <span class="nt">&lt;/c:forEach&gt;</span>
	                <span class="nt">&lt;c:if </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="n">pm</span><span class="o">.</span><span class="na">next</span> <span class="o">==</span> <span class="kc">true</span> <span class="si">}</span><span class="s">"</span><span class="nt">&gt;</span>
		                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/order/addr_book?user_num=${sessionScope.saveNUM }&amp;page=${reviewPm.endPage + 1 }"</span> 
		                <span class="na">id=</span><span class="s">"next"</span> <span class="na">class=</span><span class="s">"page_btn_next"</span> <span class="na">style=</span><span class="s">"color: black;"</span><span class="nt">&gt;&lt;span</span> <span class="na">class=</span><span class="s">"arrow_carrot-right_alt"</span><span class="nt">&gt;&lt;/span&gt;&lt;/a&gt;</span>
	                <span class="nt">&lt;/c:if&gt;</span>
            	<span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"pop_footer"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"button"</span> <span class="na">onclick=</span><span class="s">"javascript:window.close();return false;"</span><span class="nt">&gt;</span>ë‹«ê¸°<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/jquery-3.3.1.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/bootstrap.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/jquery-ui.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/jquery.countdown.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/jquery.nice-select.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/jquery.zoom.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/jquery.dd.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/jquery.slicknav.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/owl.carousel.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${path}/resources/js/order_js/shippingLocation.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>í˜ì´ì§€ í…œí”Œë¦¿ì€ ë„¤ì´ë²„ ì‡¼í•‘ì˜ ë°°ì†¡ì§€ ëª©ë¡ í…œí”Œë¦¿ì„ ì°¸ê³ í•´ì„œ ë§Œë“¤ì—ˆë‹¤.(ì‚¬ì‹¤ìƒ ê·¸ëƒ¥ ê¸ì–´ì™”â€¦)</li>
  <li>íƒœê·¸ì˜ í´ë˜ìŠ¤ ì„ íƒì ì´ë¦„ì´ ì¶œë ¥í•˜ëŠ” ë‚´ìš©ë¬¼ì˜ ìš©ë„ì— ë§ê²Œ ì§€ì •ë˜ì–´ ìˆì–´ì„œ ë°ì´í„°ë¥¼ ë„£ëŠ” <code class="language-plaintext highlighter-rouge">JSTL</code> í‘œí˜„ì‹ì„ ì“¸ ë•Œ ì •ë§ í¸í–ˆë‹¤. ì—­ì‹œ ëŒ€ê¸°ì—…ì€ ë‹¤ë¥´ë‹¤.</li>
</ul>

<h2 id="orderjsp">order.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"site-btn deliverListBtn"</span>
    <span class="na">onclick=</span><span class="s">"window.open('/order/addr_book?user_num=${sessionScope.saveNUM}&amp;pageNum=1');"</span><span class="nt">&gt;</span>ë°°ì†¡ì§€ ëª©ë¡<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<ul>
  <li>ì£¼ë¬¸í˜ì´ì§€ì—ì„œ <code class="language-plaintext highlighter-rouge">ë°°ì†¡ì§€ëª©ë¡</code> ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì´ í…œí”Œë¦¿ í˜ì´ì§€ê°€ ìƒˆ ì°½ì—ì„œ ì—´ë¦¬ë„ë¡ í–ˆë‹¤.</li>
</ul>

<h2 id="shippinglocationjsp-1">shippingLocation.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"_select setting_btn type_h green"</span> <span class="na">onclick=</span><span class="s">"chooseLocation(${i.index})"</span><span class="nt">&gt;</span>ì„ íƒ<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<ul>
  <li>ë°°ì†¡ì§€ ëª©ë¡ í˜ì´ì§€ì—ì„œ ë°°ì†¡ì§€ë¥¼ ì„ íƒí•˜ë©´ í•´ë‹¹ ë°°ì†¡ì§€ ë°ì´í„°ë¥¼ ì£¼ë¬¸ í˜ì´ì§€ì— ì…ë ¥í•˜ëŠ” ë©”ì„œë“œê°€ ì‹¤í–‰ëœë‹¤.</li>
</ul>

<h2 id="shippinglocationjs">shippingLocation.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">chooseLocation</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ì‹ ê·œë°°ì†¡ì§€ë¡œ ë¼ë””ì˜¤ë²„íŠ¼ ì„ íƒ ë³€ê²½</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">input:radio[name=deliverSpot]:radio[value="2"]</span><span class="dl">'</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="dl">'</span><span class="s1">checked</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#normalAddr</span><span class="dl">'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newAddr</span><span class="dl">'</span><span class="p">).</span><span class="nx">show</span><span class="p">();</span> 

    <span class="c1">// ê° ì¸í’‹íƒœê·¸ê°’ ì„¸íŒ…</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newName</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#addr_recipient</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newPhone1</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#addr_phone</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="p">).</span><span class="nx">val</span><span class="p">().</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newPhone2</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#addr_phone</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="p">).</span><span class="nx">val</span><span class="p">().</span><span class="nx">substring</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">));</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newPhone3</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#addr_phone</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="p">).</span><span class="nx">val</span><span class="p">().</span><span class="nx">substring</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">));</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newPhone</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#addr_phone</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="p">).</span><span class="nx">val</span><span class="p">());</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newPostalcode</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#addr_postalcode</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newRoadAddress</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#addr_roadaddr</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">opener</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newDetailAddress</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#addr_detailaddr</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="p">).</span><span class="nx">text</span><span class="p">());</span>

    <span class="nb">window</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">window.opener</code> ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ì´ ì°½ì„ ì—° ë¶€ëª¨ ì°½ì— ë°ì´í„°ê°€ ì „ë‹¬ë˜ë„ë¡ í–ˆë‹¤.</li>
</ul>

<p align="center"><img src="../../assets/images/unomas_addrList3.png" width="500" /></p>

<ul>
  <li>ê²°ì œ ë¶€ë¶„</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">var</span> <span class="nx">uid</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
    <span class="c1">// IMP.request_pay(param, callback) ê²°ì œì°½ í˜¸ì¶œ</span>
    <span class="nx">IMP</span><span class="p">.</span><span class="nx">request_pay</span><span class="p">({</span> <span class="c1">// param</span>
        <span class="na">pg</span><span class="p">:</span> <span class="dl">"</span><span class="s2">html5_inicis</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">pay_method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">card</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">merchant_uid</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#orderCode</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">name</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodName0</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">amount</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#total</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">buyer_email</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userEmail</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span>
        <span class="na">buyer_name</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userName</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(),</span>
        <span class="na">buyer_tel</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#phone</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">buyer_addr</span><span class="p">:</span> <span class="nx">addr</span><span class="p">,</span>
        <span class="na">buyer_postcode</span><span class="p">:</span> <span class="nx">postalcode</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">rsp</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// callback</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">rsp</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// ê²°ì œ ì„±ê³µ ì‹œ: ê²°ì œ ìŠ¹ì¸ ë˜ëŠ” ê°€ìƒê³„ì¢Œ ë°œê¸‰ì— ì„±ê³µí•œ ê²½ìš°</span>
            <span class="nx">uid</span> <span class="o">=</span> <span class="nx">rsp</span><span class="p">.</span><span class="nx">imp_uid</span><span class="p">;</span>
            <span class="c1">// ê²°ì œê²€ì¦</span>
            <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
                <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/order/verify_iamport/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">rsp</span><span class="p">.</span><span class="nx">imp_uid</span><span class="p">,</span>
                <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span>
            <span class="p">}).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
                <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ë¨¼ì € ê²°ì œ ì •ë³´ë¥¼ ì•„ì„í¬íŠ¸ ì„œë²„ë¡œ ë³´ë‚´ ê²°ì œë¥¼ ì™„ë£Œí•œë‹¤.</li>
  <li>ê²°ì œê°€ ì™„ë£Œë˜ë©´ ê²°ì œ ì •ë³´ë¥¼ ë‹´ì€ json ë°ì´í„°ê°€ ë¦¬í„´ëœë‹¤. ì—¬ê¸°ì„œ ê²°ì œê±´ì˜ ì¸ë±ìŠ¤ ë²ˆí˜¸ì¸ <code class="language-plaintext highlighter-rouge">imp_uid</code>ë¥¼ ì´ìš©í•´ ì •ë§ ì •ìƒì ìœ¼ë¡œ ê²°ì œê°€ ëœ ê²ƒì¸ì§€ ê²€ì¦ì„ í•˜ê¸° ìœ„í•´ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="ì•„ì„í¬íŠ¸-ê²°ì œëª¨ë“ˆ-í…ŒìŠ¤íŠ¸">ì•„ì„í¬íŠ¸ ê²°ì œëª¨ë“ˆ í…ŒìŠ¤íŠ¸</h2>
<ul>
  <li>
    <p><a href="https://github.com/iamport/iamport-rest-client-java/blob/master/src/test/java/com/siot/IamportRestClient/IamportRestTest.java">ì•„ì„í¬íŠ¸ ê²°ì œëª¨ë“ˆ í…ŒìŠ¤íŠ¸ ver.JAVA</a></p>
  </li>
  <li>
    <p>ì‹œì‘ ì „ì— ì•„ì„í¬íŠ¸ì‚¬ì—ì„œ ì œê³µí•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë”°ë¼ ì¨ ë³´ë©´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í–ˆë‹¤. APIì—ì„œ ì œê³µë˜ëŠ” ê°ì²´ì™€ ë©”ì„œë“œë“¤ì´ ì–´ë–¤ ê²ƒë“¤ì´ ìˆëŠ”ì§€ ì‚´í´ë³´ê¸° ì¢‹ì•˜ë‹¤. ì „ì²´ì ìœ¼ë¡œ ê°œë°œìì—ê²Œ ì•„ì£¼ ì¹œì ˆí•œ ëŠë‚Œ!</p>
  </li>
</ul>

<h2 id="ordercontrollerjava">OrderController.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="nc">IamportClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">IamportClient</span><span class="o">(</span><span class="s">"REST API"</span><span class="o">,</span> <span class="s">"REST API Secret"</span><span class="o">);</span>

<span class="nd">@ResponseBody</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/verify_iamport/{imp_uid}"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">IamportResponse</span><span class="o">&lt;</span><span class="nc">Payment</span><span class="o">&gt;</span> <span class="nf">verifyIamportPOST</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"imp_uid"</span><span class="o">)</span> <span class="nc">String</span> <span class="n">imp_uid</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IamportResponseException</span><span class="o">,</span> <span class="nc">IOException</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="na">paymentByImpUid</span><span class="o">(</span><span class="n">imp_uid</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì•„ê¹Œ ë¦¬í„´ë°›ì€ ê²°ì œ ë²ˆí˜¸ë¥¼ ì´ìš©í•´ ì„œë²„ì— í•´ë‹¹ ê²°ì œ ì •ë³´ê°€ ìˆëŠ”ì§€ í™•ì¸í•œ ë’¤ ê°€ì ¸ì˜¨ë‹¤.</li>
  <li>ì•„ì„í¬íŠ¸ ì„œë²„ì— ì ‘ì†í•´ì„œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œëŠ” ê·¸ëƒ¥ì€ ì•ˆ ë˜ê³  ì¸ì¦ì— í•„ìš”í•œ <code class="language-plaintext highlighter-rouge">key</code> ì •ë³´ê°€ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë‚´ ê³„ì •ì—ì„œ <code class="language-plaintext highlighter-rouge">key</code> ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ë„£ì–´ì¤€ë‹¤.</li>
  <li><a href="https://github.com/iamport/iamport-rest-client-java">iamport REST Client for JAVA</a> ì•„ì„í¬íŠ¸ì‚¬ì—ì„œ ì œê³µí•˜ëŠ” ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•´ì„œ ì§„í–‰í–ˆë‹¤. ì •ë¦¬ê°€ ì˜ ë˜ì–´ ìˆì–´ ë³´ê¸° í¸í–ˆë‹¤.</li>
</ul>

<h2 id="orderjs">order.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ê²°ì œê²€ì¦</span>
<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/order/verify_iamport/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">rsp</span><span class="p">.</span><span class="nx">imp_uid</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span>
<span class="p">}).</span><span class="nx">done</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ê²°ì œë¥¼ ìš”ì²­í–ˆë˜ ê¸ˆì•¡ê³¼ ì‹¤ì œ ê²°ì œëœ ê¸ˆì•¡ì´ ê°™ìœ¼ë©´ í•´ë‹¹ ì£¼ë¬¸ê±´ì˜ ê²°ì œê°€ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œëœ ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤.</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#total</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">==</span> <span class="nx">data</span><span class="p">.</span><span class="nx">response</span><span class="p">.</span><span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// jQueryë¡œ HTTP ìš”ì²­</span>
        <span class="c1">// ì£¼ë¬¸ì •ë³´ ìƒì„± ë° í…Œì´ë¸”ì— ì €ì¥ </span>
        <span class="c1">// @@ ì£¼ë¬¸ì •ë³´ëŠ” ìƒí’ˆ ê°œìˆ˜ë§Œí¼ ìƒì„±ë˜ì–´ì•¼ í•´ì„œ ìƒí’ˆ ê°œìˆ˜ë§Œí¼ ë°˜ë³µë¬¸ì„ ëŒë¦°ë‹¤</span>
        <span class="c1">// ì´ë•Œ order codeëŠ” ëª¨ë‘ ê°™ì•„ì•¼ í•œë‹¤.</span>
        
        <span class="c1">// ì´ë²ˆ ì£¼ë¬¸ì˜ ë°°ì†¡ì§€ ì„¤ì • </span>
        <span class="kd">var</span> <span class="nx">roadAddr</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">detailAddr</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">recipient</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>
        
        <span class="c1">// ê¸°ë³¸ ë°°ì†¡ì§€ë¡œ ì„¤ì •ëœ ê²½ìš°</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">input:radio[name=deliverSpot]:checked</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">roadAddr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#roadAddr</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
            <span class="nx">detailAddr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#detailAddr</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
            <span class="nx">recipient</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#name</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="c1">// ì‹ ê·œ ë°°ì†¡ì§€ë¡œ ì„¤ì •ëœ ê²½ìš° </span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">roadAddr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newRoadAddress</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
            <span class="nx">detailAddr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newDetailAddress</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
            <span class="nx">recipient</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#newName</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span>
        <span class="p">}</span>
        
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodCnt</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// ë°ì´í„°ë¥¼ jsonìœ¼ë¡œ ë³´ë‚´ê¸° ìœ„í•´ ë°”ê¿”ì¤€ë‹¤.</span>
            <span class="kd">var</span> <span class="nx">orderVO</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
                <span class="na">order_code</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#orderCode</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
                <span class="na">cart_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#cartNum</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
                <span class="na">order_postalcode</span><span class="p">:</span> <span class="nx">postalcode</span><span class="p">,</span>
                <span class="na">order_roadaddr</span><span class="p">:</span> <span class="nx">roadAddr</span><span class="p">,</span>
                <span class="na">order_detailaddr</span><span class="p">:</span> <span class="nx">detailAddr</span><span class="p">,</span>
                <span class="na">user_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userNum</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
                <span class="na">prod_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodNum</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
                <span class="na">order_quantity</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodQuantity</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
                <span class="na">order_total</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#orderTotal</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
                <span class="na">user_point</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userPoint</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
                <span class="na">order_recipient</span><span class="p">:</span> <span class="nx">recipient</span><span class="p">,</span>
                <span class="na">order_memo</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#ask</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
            <span class="p">});</span>
        
            <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
                <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/order/complete</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// ì˜ˆ: https://www.myservice.com/payments/complete</span>
                <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">contentType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">data</span><span class="p">:</span> <span class="nx">orderVO</span>
            <span class="p">});</span>
        <span class="p">}</span>
    
        <span class="nx">createPayInfo</span><span class="p">(</span><span class="nx">uid</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ê²°ì œ ì‹¤íŒ¨</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ê²°ì œ ê²€ì¦ì´ ì™„ë£Œë˜ë©´ ì£¼ë¬¸ ì •ë³´ë¥¼ ìƒì„±í•´ì„œ DB í…Œì´ë¸”ì— ì €ì¥í•´ì•¼ í•œë‹¤.</li>
  <li>ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ëŠ” ì£¼ë¬¸ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ê³¼ ê²°ì œì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸” ë‘ ê°œê°€ ì¡´ì¬í•œë‹¤. ë‘ ê°œë¥¼ ë”°ë¡œ ë‘” ì´ìœ ëŠ” í•˜ë‚˜ì˜ ê²°ì œê±´ì— ëŒ€í•´ì„œ ì–´ë–¤ ìƒí’ˆë“¤ì„ ì£¼ë¬¸í–ˆëŠ”ì§€ë¥¼ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</li>
  <li>ë§Œì•½ ê²°ì œí…Œì´ë¸” í•˜ë‚˜ë§Œ ì¨ì„œ ê³ ê°ì˜ ê²°ì œì •ë³´ë¥¼ ê´€ë¦¬í•œë‹¤ë©´ DB í…Œì´ë¸”ì˜ ë¡œìš° í•˜ë‚˜ì—ëŠ” ìƒí’ˆì •ë³´ í•˜ë‚˜ë§Œ ì €ì¥í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì‡¼í•‘ëª°ì—ì„œ ê³ ê°ì€ í•­ìƒ í•˜ë‚˜ì˜ ìƒí’ˆë§Œ ì£¼ë¬¸í•˜ì§€ ì•Šê³  ì—¬ëŸ¬ ê°œì˜ ìƒí’ˆì„ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤. ì´ ë•Œ ê° ìƒí’ˆì„ ì–´ë–¤ ì˜µì…˜ìœ¼ë¡œ ëª‡ ê°œë¥¼ ì£¼ë¬¸í–ˆëŠ”ì§€ë„ ì•Œê³  ìˆì–´ì•¼ ê·¸ê±¸ ì°¸ê³ í•´ì„œ ìƒí’ˆì„ ë°°ì†¡í•  ìˆ˜ ìˆê³  ê³ ê° ë¬¸ì˜ë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜ ê³ ê°ì—ê²Œ ê²°ì œê±´ì— ëŒ€í•œ ì •ë³´ë¥¼ ì œê³µí•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
  <li>ê·¸ë˜ì„œ ì£¼ë¬¸í…Œì´ë¸”ì„ ë”°ë¡œ ë‘ì–´ì„œ í•˜ë‚˜ì˜ ê²°ì œê±´ì—ì„œ ë‹¤ìˆ˜ì˜ ìƒí’ˆì´ ì£¼ë¬¸ë˜ì—ˆì„ ê²½ìš° ê° ìƒí’ˆ ì •ë³´ë¥¼ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤. ì´ë•Œ <code class="language-plaintext highlighter-rouge">PK</code>ëŠ” ì£¼ë¬¸ë²ˆí˜¸ì™€ ìƒí’ˆë²ˆí˜¸ë¥¼ ë³µí•©í‚¤ë¡œ ì‚¬ìš©í–ˆë‹¤. ì£¼ë¬¸í…Œì´ë¸”ì˜ ë°ì´í„°ëŠ” ê³ ìœ í•œ <code class="language-plaintext highlighter-rouge">PK</code>ê°€ ìˆì–´ì•¼ ê° ì£¼ë¬¸ê±´ì„ êµ¬ë³„í•  ìˆ˜ ìˆëŠ”ë° ì£¼ë¬¸ë²ˆí˜¸ë§Œ <code class="language-plaintext highlighter-rouge">PK</code>ë¡œ ë‘ë©´ ì£¼ë¬¸ë²ˆí˜¸ í•˜ë‚˜ì— ìƒí’ˆì •ë³´ í•˜ë‚˜ë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì£¼ë¬¸í…Œì´ë¸”ê³¼ ê²°ì œí…Œì´ë¸”ì„ ë”°ë¡œ ì‚¬ìš©í•˜ëŠ” ì˜ë¯¸ê°€ ì—†ì–´ì§„ë‹¤.</li>
</ul>

<p align="center"><img src="../../assets/images/unomas_pay2.png" width="900" /></p>

<ul>
  <li>ê·¸ëŸ°ë° ì£¼ë¬¸ë²ˆí˜¸ì™€ ìƒí’ˆë²ˆí˜¸ë¥¼ ë³µí•©í‚¤ë¡œ ì‚¬ìš©í•˜ë©´ ì–´ë–¤ ì£¼ë¬¸ë²ˆí˜¸ë¡œ ê·¸ì— í•´ë‹¹ë˜ëŠ” ìƒí’ˆì •ë³´ë¥¼ ëª¨ë‘ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê³  ì—¬ëŸ¬ê°œì˜ ì£¼ë¬¸ë²ˆí˜¸ë„ ë“±ë¡í•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ê° ìƒí’ˆì„ ëª‡ ê°œ ì£¼ë¬¸í–ˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ë„ ì €ì¥í•  ìˆ˜ ìˆë‹¤.</li>
  <li>ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì£¼ë¬¸ì •ë³´ë¥¼ DB í…Œì´ë¸”ì— ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ì´ë²ˆ ê²°ì œê±´ì—ì„œ ì£¼ë¬¸ëœ ìƒí’ˆ ì¢…ë¥˜ì˜ ê°œìˆ˜ë§Œí¼ ë°˜ë³µë¬¸ì„ ëŒë ¤ ì£¼ë¬¸ì •ë³´ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@ResponseBody</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/complete"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">completePOST</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">OrderVO</span> <span class="n">vo</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="c1">// ê²°ì œ ì™„ë£Œëœ ì£¼ë¬¸ì •ë³´ DBì— ì €ì¥</span>
    <span class="n">orderService</span><span class="o">.</span><span class="na">createOrder</span><span class="o">(</span><span class="n">vo</span><span class="o">);</span>
    
    <span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;(</span><span class="s">"ì£¼ë¬¸ì •ë³´ ìƒì„± ì™„ë£Œ"</span><span class="o">,</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodCnt</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ë°ì´í„°ë¥¼ jsonìœ¼ë¡œ ë³´ë‚´ê¸° ìœ„í•´ ë°”ê¿”ì¤€ë‹¤.</span>
    <span class="kd">var</span> <span class="nx">orderVO</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">order_code</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#orderCode</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">cart_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#cartNum</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">order_postalcode</span><span class="p">:</span> <span class="nx">postalcode</span><span class="p">,</span>
        <span class="na">order_roadaddr</span><span class="p">:</span> <span class="nx">roadAddr</span><span class="p">,</span>
        <span class="na">order_detailaddr</span><span class="p">:</span> <span class="nx">detailAddr</span><span class="p">,</span>
        <span class="na">user_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userNum</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">prod_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodNum</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">order_quantity</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodQuantity</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">order_total</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#orderTotal</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">user_point</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userPoint</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">order_recipient</span><span class="p">:</span> <span class="nx">recipient</span><span class="p">,</span>
        <span class="na">order_memo</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#ask</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
    <span class="p">});</span>

    <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/order/complete</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// ì˜ˆ: https://www.myservice.com/payments/complete</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">contentType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="nx">orderVO</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="nx">createPayInfo</span><span class="p">(</span><span class="nx">uid</span><span class="p">);</span>
</code></pre></div></div>

<ul>
  <li>ì£¼ë¬¸ì •ë³´ë¥¼ ëª¨ë‘ ìƒì„±í•˜ê³  ë‚˜ë©´ ê²°ì œ ì •ë³´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ë©”ì„œë“œ <code class="language-plaintext highlighter-rouge">createPayInfo(uid)</code>ë¥¼ í˜¸ì¶œí•œë‹¤.</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createPayInfo</span><span class="p">(</span><span class="nx">uid</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ê²°ì œì •ë³´ ìƒì„± ë° í…Œì´ë¸” ì €ì¥ í›„ ê²°ì œì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™ </span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">get</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/order/pay_info</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">imp_uid</span><span class="dl">'</span><span class="p">:</span> <span class="nx">uid</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">amount</span><span class="dl">'</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#total</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="dl">'</span><span class="s1">ship</span><span class="dl">'</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#shippingFee</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
            <span class="dl">'</span><span class="s1">point</span><span class="dl">'</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userPoint</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
        <span class="p">},</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ê²°ì œê°€ ì™„ë£Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</span><span class="dl">'</span><span class="p">);</span>
            <span class="c1">// ê²°ì œì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™</span>
            <span class="nx">location</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">/order/complete?pay_num=</span><span class="dl">'</span><span class="o">+</span><span class="nx">data</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ê²°ì œì •ë³´ ì €ì¥ í†µì‹  ì‹¤íŒ¨</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ê²°ì œ ì •ë³´ ìƒì„±ì„ ìœ„í•´ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ë‹´ì€ í›„ í•´ë‹¹ <code class="language-plaintext highlighter-rouge">url</code>ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/pay_info"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">payInfoPOST</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">,</span>
        <span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">,</span>
        <span class="nd">@RequestParam</span> <span class="nc">String</span> <span class="n">imp_uid</span><span class="o">,</span> <span class="nd">@RequestParam</span> <span class="kt">int</span> <span class="n">amount</span><span class="o">,</span>
        <span class="nd">@RequestParam</span> <span class="kt">int</span> <span class="n">ship</span><span class="o">,</span> <span class="nd">@RequestParam</span> <span class="kt">double</span> <span class="n">point</span><span class="o">,</span> <span class="nc">HttpSession</span> <span class="n">session</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    
    <span class="nc">IamportResponse</span><span class="o">&lt;</span><span class="nc">Payment</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">paymentByImpUid</span><span class="o">(</span><span class="n">imp_uid</span><span class="o">);</span>
        
    <span class="c1">// ê²°ì œ ì •ë³´ ì €ì¥</span>
    <span class="nc">PayVO</span> <span class="n">payVO</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PayVO</span><span class="o">();</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setOrder_code</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getMerchantUid</span><span class="o">()));</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setPay_card_company</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getCardName</span><span class="o">());</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setPay_card_num</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getCardNumber</span><span class="o">());</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setPay_installment</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getCardQuota</span><span class="o">());</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setPay_method</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getPayMethod</span><span class="o">());</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setPay_num</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getMerchantUid</span><span class="o">()));</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setPay_shippingfee</span><span class="o">(</span><span class="n">ship</span><span class="o">);</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setPay_total_price</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getAmount</span><span class="o">().</span><span class="na">intValue</span><span class="o">());</span>
    <span class="n">payVO</span><span class="o">.</span><span class="na">setUser_num</span><span class="o">((</span><span class="kt">int</span><span class="o">)</span> <span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"saveNUM"</span><span class="o">));</span>
    
    <span class="n">orderService</span><span class="o">.</span><span class="na">createPay</span><span class="o">(</span><span class="n">payVO</span><span class="o">);</span>
    
    <span class="c1">// ë°©ê¸ˆ ìƒì„±ëœ ê²°ì œ ì •ë³´ì˜ ì¸ë±ìŠ¤ ë²ˆí˜¸ ê°€ì ¸ì˜´ </span>
    <span class="n">payVO</span> <span class="o">=</span> <span class="n">orderService</span><span class="o">.</span><span class="na">getLastPay</span><span class="o">();</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"payVO"</span><span class="o">,</span> <span class="n">payVO</span><span class="o">);</span>
    
    <span class="c1">// íšŒì› ì ë¦½ê¸ˆ ì¶”ê°€</span>
    <span class="n">userService</span><span class="o">.</span><span class="na">updatePoint</span><span class="o">((</span><span class="kt">int</span><span class="o">)</span><span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"saveNUM"</span><span class="o">),</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">point</span><span class="o">);</span>
    
    <span class="c1">// ì ë¦½ê¸ˆ í…Œì´ë¸”ì— ë‚´ì—­ ì¶”ê°€</span>
    <span class="nc">PointVO</span> <span class="n">pointVO</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PointVO</span><span class="o">();</span>
    <span class="n">pointVO</span><span class="o">.</span><span class="na">setOrder_code</span><span class="o">(</span><span class="n">payVO</span><span class="o">.</span><span class="na">getOrder_code</span><span class="o">());</span>
    <span class="n">pointVO</span><span class="o">.</span><span class="na">setPoint_content</span><span class="o">(</span><span class="s">"ê²°ì œ"</span><span class="o">);</span>
    <span class="n">pointVO</span><span class="o">.</span><span class="na">setPoint_cost</span><span class="o">((</span><span class="kt">int</span><span class="o">)</span><span class="n">point</span><span class="o">);</span>
    <span class="n">pointVO</span><span class="o">.</span><span class="na">setUser_num</span><span class="o">((</span><span class="kt">int</span><span class="o">)</span><span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"saveNUM"</span><span class="o">));</span>
    
    <span class="n">orderService</span><span class="o">.</span><span class="na">createPointInfo</span><span class="o">(</span><span class="n">pointVO</span><span class="o">);</span>
    
    <span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;(</span><span class="n">payVO</span><span class="o">.</span><span class="na">getPay_num</span><span class="o">(),</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">OK</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê²°ì œ ì •ë³´ëŠ” ì•„ì„í¬íŠ¸ ì„œë²„ì—ì„œ ë¶ˆëŸ¬ì™€ ìƒì„±í•œë‹¤.</li>
  <li>ê²°ì œ ë²ˆí˜¸ ì»¬ëŸ¼ì— <code class="language-plaintext highlighter-rouge">Auto increasement</code> ì†ì„±ì„ ê±¸ì–´ ë†“ì•„ì„œ í…Œì´ë¸”ì— ë°ì´í„°ê°€ ì‚½ì…ë  ë•Œ ê²°ì œ ë²ˆí˜¸ê°€ ê²°ì •ëœë‹¤. ê²°ì œ ì™„ë£Œ í™”ë©´ì— ê²°ì € ë²ˆí˜¸ë„ ë¿Œë ¤ì¤„ ê²ƒì´ë¼ ê²°ì œ ì •ë³´ë¥¼ ì €ì¥í•œ ë’¤ í•´ë‹¹ ì •ë³´ë¥¼ ë‹¤ì‹œ ê°€ì ¸ì™€ì„œ <code class="language-plaintext highlighter-rouge">model</code> ê°ì²´ì— ì €ì¥í•˜ë„ë¡ í–ˆë‹¤.</li>
  <li>
    <p>ê²°ì œ ì •ë³´ ì €ì¥ì´ ì™„ë£Œë˜ë©´ ê²°ì œë²ˆí˜¸ ì •ë³´ë¥¼ ë¦¬í„´í•œë‹¤.</p>
  </li>
  <li>ì—¬ê¸°ê¹Œì§€ í•˜ë©´ ëª¨ë“  ê²°ì œ í”„ë¡œì„¸ìŠ¤ê°€ ì™„ë£Œë˜ê³  ê²°ì œì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="êµ¬í˜„í•˜ë©°-í–ˆë˜-ê³ ë¯¼">êµ¬í˜„í•˜ë©° í–ˆë˜ ê³ ë¯¼</h1>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodCnt</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">();</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ë°ì´í„°ë¥¼ jsonìœ¼ë¡œ ë³´ë‚´ê¸° ìœ„í•´ ë°”ê¿”ì¤€ë‹¤.</span>
    <span class="kd">var</span> <span class="nx">orderVO</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
        <span class="na">order_code</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#orderCode</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">cart_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#cartNum</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">order_postalcode</span><span class="p">:</span> <span class="nx">postalcode</span><span class="p">,</span>
        <span class="na">order_roadaddr</span><span class="p">:</span> <span class="nx">roadAddr</span><span class="p">,</span>
        <span class="na">order_detailaddr</span><span class="p">:</span> <span class="nx">detailAddr</span><span class="p">,</span>
        <span class="na">user_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userNum</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">prod_num</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodNum</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">order_quantity</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prodQuantity</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">order_total</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#orderTotal</span><span class="dl">'</span><span class="o">+</span><span class="nx">i</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">user_point</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#userPoint</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(),</span>
        <span class="na">order_recipient</span><span class="p">:</span> <span class="nx">recipient</span><span class="p">,</span>
        <span class="na">order_memo</span><span class="p">:</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#ask</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span>
    <span class="p">});</span>

    <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/order/complete</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// ì˜ˆ: https://www.myservice.com/payments/complete</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">contentType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="nx">orderVO</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì£¼ë¬¸ì •ë³´ ìƒì„± ì‹¤íŒ¨!</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ì²˜ìŒì—ëŠ” <code class="language-plaintext highlighter-rouge">requestPay()</code> ë©”ì„œë“œì˜ ì£¼ë¬¸ì •ë³´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ ì´ëŸ°ì‹ìœ¼ë¡œ ì‘ì„±í•´ì„œ í†µì‹ ì˜ ì„±ê³µ ìœ ë¬´ë¥¼ í™•ì¸í•˜ë ¤ í–ˆë‹¤. ê·¸ëŸ°ë° í†µì‹ ì— ì‹¤íŒ¨í•´ì„œ ì£¼ë¬¸ì •ë³´ ìƒì„±ì— ì‹¤íŒ¨í–ˆë‹¤ëŠ” ë©”ì‹œì§€ê°€ ì¶œë ¥ë˜ëŠ”ë° ì£¼ë¬¸ì •ë³´ëŠ” ë‚´ê°€ ì˜ë„í•œ ëŒ€ë¡œ ìƒì„±ì´ ì˜ ë˜ëŠ”â€¦ ê²°ê³¼ì ìœ¼ë¡œ ë™ì‘ì—ëŠ” ì•„ë¬´ ë¬¸ì œê°€ ì—†ëŠ” ìƒí™©ì´ ë°œìƒë˜ì—ˆë‹¤. ì›ì¸ì´ ê¶ê¸ˆí•´ì„œ ì •ë§ ì—¬ëŸ¬ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ ë³´ì•˜ì§€ë§Œ ì£¼ë¬¸ ì •ë³´ ìƒì„±ì€ ì •ë§ì •ë§ ì˜ ë˜ëŠ”ë° ì—ëŸ¬ ë°ì´í„°ëŠ” ê³„ì† ë¦¬í„´ë˜ëŠ” í¬ì•ˆí•œ ìƒí™©ì´ ê³„ì†ë˜ì—ˆë‹¤. ì•„ì§ê¹Œì§€ë„ ì›ì¸ì„ ëª» ì°¾ìŒâ€¦</li>
  <li>í”„ë¡œì íŠ¸ ì§„í–‰ ë§ˆê°ë‚ ë„ ë‹¤ê°€ì˜¤ê³  ì¼ë‹¨ ì „ì²´ì ì¸ ë™ì‘ì—ëŠ” ë¬¸ì œê°€ ì—†ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">ajax</code> í†µì‹ ì˜ <code class="language-plaintext highlighter-rouge">success</code> ì´í•˜ ë¶€ë¶„ì€ ì‚­ì œí•˜ê³  ê°€ê¸°ë¡œ í–ˆë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">D-1</code><br /><br /><br /></li>
</ul>

<h1 id="ì°¸ê³ ">ì°¸ê³ </h1>
<ul>
  <li><a href="https://velog.io/@poseassome/%EA%B0%9C%EC%9D%B8%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%95%84%EC%9E%84%ED%8F%AC%ED%8A%B8import-%EA%B2%B0%EC%A0%9C-%EA%B8%B0%EB%8A%A5-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0">[ê°œì¸í”„ë¡œì íŠ¸] ì•„ì„í¬íŠ¸(iâ€™mport) ê²°ì œ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°</a></li>
  <li><a href="https://tyrannocoding.tistory.com/44">[JAVA, SPRING, Iamport] ì•„ì„í¬íŠ¸ ê²€ì¦í•˜ê¸°(WEB,APP)</a></li>
  <li><a href="https://github.com/iamport/iamport-manual">ì•„ì„í¬íŠ¸(iamport) ê²°ì œì—°ë™ì„ ìœ„í•œ ë§¤ë‰´ì–¼ GitHub</a></li>
  <li><a href="https://api.iamport.kr/">ì•„ì„í¬íŠ¸ REST API</a></li>
  <li><a href="https://github.com/iamport/iamport-rest-client-java">iamport REST Client for JAVA</a></li>
</ul>
:ET