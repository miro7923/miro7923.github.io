I"¸'<h1 id="ì‚¬ìš©í™˜ê²½">ì‚¬ìš©í™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020) 16GB</li>
  <li>JDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5<br /><br /><br /></li>
</ul>

<h1 id="ì—ëŸ¬ì˜-ë°œìƒ">ì—ëŸ¬ì˜ ë°œìƒ</h1>
<ul>
  <li>ìš”ì¦˜ <code class="language-plaintext highlighter-rouge">JAVA</code>ì™€ <code class="language-plaintext highlighter-rouge">JSP</code>, <code class="language-plaintext highlighter-rouge">Servlet</code>ìœ¼ë¡œ ê²Œì‹œíŒì„ ë§Œë“¤ë˜ ì¤‘ íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤. ê·¸ëŸ°ë° ê²Œì‹œê¸€ì„ ìˆ˜ì •í•˜ë©´ ë“±ë¡ë˜ ìˆë˜ ì´ë¯¸ì§€ì™€ ì²¨ë¶€íŒŒì¼ì´ ì‚­ì œë˜ëŠ” ê²ƒì´ì—ˆë‹¤. ğŸ¥² <code class="language-plaintext highlighter-rouge">DB</code>ì— ë“±ë¡ë˜ ìˆë˜ íŒŒì¼ëª… ìì²´ê°€ <code class="language-plaintext highlighter-rouge">null</code>ì´ ë˜ì–´ë²„ë¦¼â€¦</li>
  <li>êµ¬ê¸€ ê²€ìƒ‰ì„ ì‹œë„í•´ë³´ë‹ˆ ì—…ë¡œë“œ í•œ íŒŒì¼ì˜ ìˆ˜ì •ì´ í•„ìš”í•  ë• ì—…ë¡œë“œ í–ˆë˜ íŒŒì¼ì„ ì‚­ì œí•˜ê³  ë‹¤ì‹œ ì²¨ë¶€í•´ì•¼ í•œë‹¤ëŠ” ë‚´ìš©ì´ ë§ì•„ì„œ ê·¸ë ‡ê²Œ í•´ ë³´ì•˜ëŠ”ë° ì—¬ì „íˆ ë¬¸ì œ í•´ê²°ì—ëŠ” ë„ì›€ì´ ë˜ì§€ ì•Šì•˜ë‹¤.</li>
  <li>ê·¸ë˜ì„œ ì¢€ ë” ìƒê°í•´ ë³´ë‹ˆ ì—…ë¡œë“œ ëœ íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ì½”ë“œë¥¼ ì“´ ì  ì—†ì—ˆê¸° ë•Œë¬¸ì— ì—…ë¡œë“œ ë˜ëŠ” íŒŒì¼ë“¤ì´ ì €ì¥ë˜ëŠ” ê²½ë¡œì— ê°€ì„œ í™•ì¸í•´ ë³´ë‹ˆ ì—­ì‹œ íŒŒì¼ë“¤ì€ ê·¸ëŒ€ë¡œ ìˆì—ˆë‹¤.</li>
  <li>ê²Œì‹œê¸€ ì‘ì„± ë° ìˆ˜ì •ì‹œ í¼íƒœê·¸ì˜ <code class="language-plaintext highlighter-rouge">enctype="multipart/form-data"</code> ì†ì„±ì„ ì‚¬ìš©í•´ì„œ ì „ì†¡ í•˜ê¸° ë•Œë¬¸ì— íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì„ ë•Œ <code class="language-plaintext highlighter-rouge">Multipart</code> ê°ì²´ë¥¼ ì‚¬ìš©í•´ì„œ ë°›ì•„ì•¼ í•˜ëŠ”ë° ì´ ê³¼ì •ì—ì„œ ì‹¤ì œë¡œ ë°›ì€ íŒŒì¼ì´ ì—†ë‹¤ë³´ë‹ˆ íŒŒì¼ëª…ì„ ì¶”ì¶œí•˜ëŠ” ê³¼ì •ì´ ìƒëµë˜ì—ˆê³ , <code class="language-plaintext highlighter-rouge">DB</code> ì—…ë¡œë“œìš© <code class="language-plaintext highlighter-rouge">DTO</code> ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì—ì„œ íŒŒì¼ëª…ì— ëŒ€í•œ ì •ë³´ê°€ ëˆ„ë½ëœ ê²ƒì´ì—ˆë‹¤â€¦!! ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">DB</code> ì ‘ì†í•´ì„œ ì—…ë°ì´íŠ¸ ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •ì—ì„œ <code class="language-plaintext highlighter-rouge">null</code>ì´ ì…ë ¥ë˜ê²Œ ëœë‹¤â€¦</li>
  <li>ê·¸ëŸ¬ë©´ <code class="language-plaintext highlighter-rouge">file</code> íƒ€ì… <code class="language-plaintext highlighter-rouge">input</code> íƒœê·¸ì˜ <code class="language-plaintext highlighter-rouge">value</code> ê°’ì„ ê¸°ì¡´ì— ì €ì¥ë˜ì–´ ìˆë˜ íŒŒì¼ëª…ìœ¼ë¡œ ë„£ì–´ë†“ìœ¼ë©´ ë˜ì§€ ì•Šë‚˜ ì‹¶ì—ˆë‹¤. ê·¸ëŸ°ë° ì•ˆ ë¨</li>
  <li>êµ¬ê¸€ë§ í•´ ë³´ë‹ˆ <code class="language-plaintext highlighter-rouge">file</code> íƒ€ì…ì€ <code class="language-plaintext highlighter-rouge">readonly</code>ë¼ì„œ íŒŒì¼ì„ ì§ì ‘ ë“±ë¡í•  ë•Œê°€ ì•„ë‹ˆë©´ ì„ì˜ë¡œ <code class="language-plaintext highlighter-rouge">value</code>ê°’ì„ ë„£ì–´ì¤„ ìˆ˜ ì—†ë‹¤ê³  í•œë‹¤. <code class="language-plaintext highlighter-rouge">value</code> ìˆ˜ì •ì´ ê°€ëŠ¥í•œ ê²½ìš°ëŠ” <code class="language-plaintext highlighter-rouge">value</code>ê°’ì´ ìˆì„ ë•Œ ê·¸ ê°’ì„ ì§€ìš¸ ë•Œ ë¿ì´ì—ˆìŒ. ê·¸ë˜ì„œ ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ì•„ì•¼ í–ˆë‹¤.<br /><br /></li>
</ul>

<h1 id="ë¬¸ì œ-í•´ê²°">ë¬¸ì œ í•´ê²°</h1>

<h2 id="boardmodifyjsp">boardModify.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%</span>
    <span class="nc">String</span> <span class="n">imgPath</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">().</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/images"</span><span class="o">)</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s">"origins"</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"imgPath: "</span><span class="o">+</span><span class="n">imgPath</span><span class="o">);</span>
<span class="nt">%&gt;</span>
<span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">"write"</span> <span class="na">action=</span><span class="s">"./BoardModifyPro.bo"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">enctype=</span><span class="s">"multipart/form-data"</span> <span class="na">onsubmit=</span><span class="s">"return finalCheck();"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì´ë¯¸ì§€ ë“±ë¡ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">name=</span><span class="s">"image"</span> <span class="na">id=</span><span class="s">"image"</span> <span class="na">oninput=</span><span class="s">"formatCheck();"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"oldImgPath"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">imgPath</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"oldImgName"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"imgUploadStatus"</span> <span class="na">value=</span><span class="s">"true"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div&gt;</span>ë“±ë¡ëœ ì´ë¯¸ì§€ : <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"imgName"</span><span class="nt">&gt;</span> <span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span> <span class="nt">%&gt;</span> <span class="nt">&lt;/span&gt;</span><span class="ni">&amp;nbsp;</span> <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:void(0);"</span> <span class="na">onclick=</span><span class="s">"removeImg();"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="nt">&lt;/a&gt;&lt;/div&gt;&lt;br&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê¸€ ìˆ˜ì • í˜ì´ì§€ì˜ í¼íƒœê·¸ ì•ˆì—ì„œ <code class="language-plaintext highlighter-rouge">hidden</code> íƒ€ì… <code class="language-plaintext highlighter-rouge">input</code> íƒœê·¸ë¥¼ ì¨ì„œ ê¸°ì¡´ì— ì €ì¥ë˜ì–´ ìˆë˜ íŒŒì¼ëª…ì„ ì €ì¥í•´ ë‘ì—ˆë‹¤ í•¨ê»˜ ì „ì†¡í–ˆë‹¤.</li>
  <li>ë§Œì•½ ì‚­ì œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ <code class="language-plaintext highlighter-rouge">onclick</code> ì´ë²¤íŠ¸ë¥¼ í†µí•´ <code class="language-plaintext highlighter-rouge">imgUploadStatus</code>ë¥¼ <code class="language-plaintext highlighter-rouge">false</code>ë¡œ ë°”ê¿” ê¸°ì¡´ì— ë“±ë¡í–ˆë˜ íŒŒì¼ì„ ì‚­ì œí•  ê²ƒì„ì„ ì•Œë¦°ë‹¤.</li>
</ul>

<h2 id="boardmodifyproactionjava">BoardModifyProAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardModifyProAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardModifyProAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// í•œê¸€ì²˜ë¦¬</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
		
        <span class="c1">// DBì—ì„œ ê¸°ì¡´ ê¸€ ì •ë³´ë¥¼ ì°¾ì€ ë‹¤ìŒ ìƒˆ ë‚´ìš©ìœ¼ë¡œ ìˆ˜ì •</span>
        <span class="nc">FileUpload</span> <span class="n">fu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileUpload</span><span class="o">();</span>
        <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="n">fu</span><span class="o">.</span><span class="na">upload</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
  
        <span class="c1">// .. í•˜ëµ</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê¸€ ìˆ˜ì • ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ì„œë¸”ë¦¿ìœ¼ë¡œ ì˜¤ë©´ íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="fileuploadjava">FileUpload.java</h2>

<p>```java</p>

<ul>
  <li>ì§ ğŸ‘ ì ìš© ë!</li>
</ul>
:ET