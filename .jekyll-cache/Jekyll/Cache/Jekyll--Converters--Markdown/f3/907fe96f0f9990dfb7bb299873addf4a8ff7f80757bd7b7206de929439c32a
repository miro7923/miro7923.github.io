I"ª´<ul>
  <li>ì‘ì„±ì¼ : 2022.05.18</li>
  <li>
    <p>ì‘ì„±ì : í™©ìœ ì§„</p>
  </li>
  <li>íŒ€ì› : ê¹€ì§„ì˜, ë°•ìŠ¹ì§€, ë°˜í˜„ë¹ˆ, ì˜¤ì„±ì€, ì˜¤ì€í˜„, í™©ìœ ì§„</li>
  <li>íŒ€ì¥ : í™©ìœ ì§„</li>
  <li>ë¶€íŒ€ì¥ : ì˜¤ì„±ì€</li>
  <li>GitHub Repository : <a href="https://github.com/miro7923/Uno-Mas">https://github.com/miro7923/Uno-Mas</a><br /><br /><br /></li>
</ul>

<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Spring Tool Suite 4.14.0</li>
  <li>Spring framework 4.3.1.RELEASE</li>
  <li>Tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ê¸°ê°„">ê¸°ê°„</h1>
<ul>
  <li>2022.4.13 ~ 2022.5.27<br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ë§ˆì§€ë§‰ ê³¼ì œë¡œ íŒ€ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>ì¡°ê±´ì€ <code class="language-plaintext highlighter-rouge">Spring</code> ê¸°ë°˜ìœ¼ë¡œ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì œì‘í•˜ëŠ” ê²ƒì´ë‹¤.</li>
  <li>ì´ íŒ€ì›ì€ 6ëª…ì´ë©°, ìš°ë¦¬ íŒ€ì€ <code class="language-plaintext highlighter-rouge">1ì¸ ê°€êµ¬ë¥¼ ìœ„í•œ ì‡¼í•‘ëª°</code>ì„ ì£¼ì œë¡œ ì •í–ˆë‹¤.</li>
  <li>íŒ€ ì´ë¦„ìœ¼ë¡œ ì •í•´ì§„ <code class="language-plaintext highlighter-rouge">Uno mÃ¡s</code>ëŠ” ìŠ¤í˜ì¸ì–´ë¡œ <code class="language-plaintext highlighter-rouge">í•˜ë‚˜ ë”</code>ë¼ëŠ” ëœ»ì´ë‹¤. <br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©">ì§„í–‰ìƒí™©</h1>

<p align="center"><img src="../../assets/images/unomas_uploadProdImg2.png" width="900" /></p>

<ul>
  <li>ê´€ë¦¬ììš© ìƒí’ˆ ë“±ë¡ í˜ì´ì§€ì—ì„œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ìƒí’ˆ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ê³  ë“±ë¡ëœ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ë³¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆë‹¤.</li>
</ul>

<h2 id="productmapperxml">productMapper.xml</h2>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;insert</span> <span class="na">id=</span><span class="s">"setProduct"</span><span class="nt">&gt;</span>
    INSERT INTO products(prod_name, prod_category, prod_price, prod_stock, prod_expire, 
                    prod_keep, prod_weight, prod_country, prod_sellunit, prod_explain, prod_packing, 
                    prod_discntrate, prod_image1, prod_image2, prod_image3, prod_image4)
    VALUES (#{prod_name}, #{prod_category}, #{prod_price}, #{prod_stock}, #{prod_expire}, 
            #{prod_keep}, #{prod_weight}, #{prod_country}, #{prod_sellunit}, #{prod_explain}, #{prod_packing},
            #{prod_discntrate}, #{prod_image1}, #{prod_image2}, #{prod_image3}, #{prod_image4})
<span class="nt">&lt;/insert&gt;</span>
</code></pre></div></div>

<ul>
  <li>ì´ë¯¸ì§€ íŒŒì¼ì„ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì—…ë¡œë“œ í•˜ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">DB</code>ì—ëŠ” íŒŒì¼ëª…ë§Œ ë„£ì–´ì£¼ë©´ ëœë‹¤.</li>
</ul>

<h2 id="servlet-contextxml">servlet-context.xml</h2>

<p align="center"><img src="../../assets/images/unomas_uploadProdImg3.png" width="700" /></p>

<ul>
  <li>ì €ì¥ë˜ëŠ” ì´ë¯¸ì§€ì˜ ì¢…ë¥˜ë³„ë¡œ í´ë”ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ê¹”ë”í•˜ê³  í™”ë©´ì— ë¿Œë ¤ì£¼ê¸° ìœ„í•´ í•´ë‹¹ íŒŒì¼ì„ ì°¾ì•„ì˜¬ ë•Œ ë¶„ë¥˜ëœ í´ë”ì—ì„œ ì°¾ì•„ì˜¤ëŠ” ê²ƒì´ ë” ë¹ ë¥¼ ê²ƒì´ë¼ ìƒê°í•´ì„œ ìœ„ì™€ ê°™ì´ ì´ë¯¸ì§€ê°€ ì—…ë¡œë“œ ë˜ëŠ” ê²½ë¡œë¥¼ ë¶„ë¦¬í•´ ì£¼ì—ˆë‹¤.</li>
</ul>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- ìƒí’ˆ ìƒì„¸ì´ë¯¸ì§€ ì—…ë¡œë“œ ê²½ë¡œ --&gt;</span>
<span class="nt">&lt;beans:bean</span> <span class="na">id=</span><span class="s">"prodDimgUploadPath"</span> <span class="na">class=</span><span class="s">"java.lang.String"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;beans:constructor-arg</span> <span class="na">value=</span><span class="s">"í”„ë¡œì íŠ¸ê²½ë¡œ/src/main/webapp/resources/upload/images/products/detail"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/beans:bean&gt;</span>
    
<span class="c">&lt;!-- ìƒí’ˆ ì¸ë„¤ì¼ ì—…ë¡œë“œ ê²½ë¡œ --&gt;</span>
<span class="nt">&lt;beans:bean</span> <span class="na">id=</span><span class="s">"prodThumbUploadPath"</span> <span class="na">class=</span><span class="s">"java.lang.String"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;beans:constructor-arg</span> <span class="na">value=</span><span class="s">"í”„ë¡œì íŠ¸ê²½ë¡œ/src/main/webapp/resources/upload/images/products/thumbnail"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/beans:bean&gt;</span>
    
<span class="c">&lt;!-- ìƒí’ˆ ìƒë‹¨ ì´ë¯¸ì§€ ì—…ë¡œë“œ ê²½ë¡œ --&gt;</span>
<span class="nt">&lt;beans:bean</span> <span class="na">id=</span><span class="s">"prodTopImgUploadPath"</span> <span class="na">class=</span><span class="s">"java.lang.String"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;beans:constructor-arg</span> <span class="na">value=</span><span class="s">"í”„ë¡œì íŠ¸ê²½ë¡œ/src/main/webapp/resources/upload/images/products/top"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/beans:bean&gt;</span>
    
<span class="c">&lt;!-- ìƒí’ˆ í’ˆì ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ ê²½ë¡œ --&gt;</span>
<span class="nt">&lt;beans:bean</span> <span class="na">id=</span><span class="s">"prodSoldoutImgUploadPath"</span> <span class="na">class=</span><span class="s">"java.lang.String"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;beans:constructor-arg</span> <span class="na">value=</span><span class="s">"í”„ë¡œì íŠ¸ê²½ë¡œ/src/main/webapp/resources/upload/images/products/soldout"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/beans:bean&gt;</span>
</code></pre></div></div>

<ul>
  <li>í”„ë ˆì„ì›Œí¬ì—ê²Œ ì•Œë ¤ì£¼ê¸° ìœ„í•´ <code class="language-plaintext highlighter-rouge">servlet-context.xml</code> íŒŒì¼ì—ì„œ ê° í´ë”ë³„ë¡œ ì—…ë¡œë“œ ê²½ë¡œë¥¼ ì§€ì •í•´ ì£¼ì—ˆë‹¤.</li>
</ul>

<h2 id="productregisterjsp">productRegister.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-lg-3 col-sm-6"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"product-item"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pi-text"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h5&gt;</span>ê¸°ë³¸ ì´ë¯¸ì§€(ì„¸ë¡œ)<span class="nt">&lt;/h5&gt;&lt;br&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pi-pic"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">""</span> <span class="na">alt=</span><span class="s">""</span> <span class="na">id=</span><span class="s">"prevImg1"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sale pp-sale"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"prod_image1"</span> <span class="na">name=</span><span class="s">"prod_image1"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">id=</span><span class="s">"uploadImg1"</span> <span class="na">name=</span><span class="s">"uploadImg1"</span> <span class="na">oninput=</span><span class="s">"checkFileName(1, 'top');"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"catagory-name"</span><span class="nt">&gt;</span>[ì´ë¯¸ì§€ ì‚­ì œ]<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-lg-3 col-sm-6"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"product-item"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pi-text"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h5&gt;</span>ìƒí’ˆ ìƒì„¸ ì„¤ëª…<span class="nt">&lt;/h5&gt;&lt;br&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pi-pic"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">""</span> <span class="na">alt=</span><span class="s">""</span> <span class="na">id=</span><span class="s">"prevImg2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sale pp-sale"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"prod_image2"</span> <span class="na">name=</span><span class="s">"prod_image2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">id=</span><span class="s">"uploadImg2"</span> <span class="na">name=</span><span class="s">"uploadImg2"</span> <span class="na">oninput=</span><span class="s">"checkFileName(2, 'detail');"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"catagory-name"</span><span class="nt">&gt;</span>[ì´ë¯¸ì§€ ì‚­ì œ]<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-lg-3 col-sm-6"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"product-item"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pi-text"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h5&gt;</span>ì¸ë„¤ì¼<span class="nt">&lt;/h5&gt;&lt;br&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pi-pic"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">""</span> <span class="na">alt=</span><span class="s">""</span> <span class="na">id=</span><span class="s">"prevImg3"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sale pp-sale"</span><span class="nt">&gt;</span>3<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"prod_image3"</span> <span class="na">name=</span><span class="s">"prod_image3"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">id=</span><span class="s">"uploadImg3"</span> <span class="na">name=</span><span class="s">"uploadImg3"</span> <span class="na">oninput=</span><span class="s">"checkFileName(3, 'thumb');"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"catagory-name"</span><span class="nt">&gt;</span>[ì´ë¯¸ì§€ ì‚­ì œ]<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-lg-3 col-sm-6"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"product-item"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pi-text"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h5&gt;</span>í’ˆì ˆ ì‹œ ëŒ€ì²´ ì¸ë„¤ì¼<span class="nt">&lt;/h5&gt;&lt;br&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"pi-pic"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">""</span> <span class="na">alt=</span><span class="s">""</span> <span class="na">id=</span><span class="s">"prevImg4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sale pp-sale"</span><span class="nt">&gt;</span>4<span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"prod_image4"</span> <span class="na">name=</span><span class="s">"prod_image4"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">id=</span><span class="s">"uploadImg4"</span> <span class="na">name=</span><span class="s">"uploadImg4"</span> <span class="na">oninput=</span><span class="s">"checkFileName(4, 'soldout');"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"catagory-name"</span><span class="nt">&gt;</span>[ì´ë¯¸ì§€ ì‚­ì œ]<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Ajax</code>ë¥¼ ì´ìš©í•´ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•  ê²ƒì´ê¸° ë•Œë¬¸ì— ë·° í˜ì´ì§€ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">oninput</code> ì†ì„±ì— ì´ë¯¸ì§€ ì—…ë¡œë“œ ë©”ì„œë“œë¥¼ ì—°ê²°í–ˆë‹¤.</li>
  <li>ì´ë•Œ ê° ì¸í’‹ íƒœê·¸ë“¤ì— ë“¤ì–´ê°ˆ ì´ë¯¸ì§€ì˜ ì¢…ë¥˜ë§Œ ë‹¤ë¥´ì§€ ìˆ˜í–‰í•  ë™ì‘ ìì²´ëŠ” ëª¨ë‘ ê°™ê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ë©”ì„œë“œì—ì„œ ì¢€ ë” ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ê°™ì€ <code class="language-plaintext highlighter-rouge">id</code>ë¥¼ ì‚¬ìš©í•˜ë˜, <code class="language-plaintext highlighter-rouge">id="uploadImg1"</code>, <code class="language-plaintext highlighter-rouge">id="uploadImg2"</code>ê³¼ ê°™ì´ ë§¨ ë’¤ì— ë²ˆí˜¸ë¥¼ ë¶€ì—¬í•´ì„œ ê° íƒœê·¸ë¥¼ êµ¬ë¶„í–ˆë‹¤. ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">oninput</code>ì˜ <code class="language-plaintext highlighter-rouge">checkFileName(num, type)</code> ë©”ì„œë“œì— ì¸ìê°’ìœ¼ë¡œ í•´ë‹¹ <code class="language-plaintext highlighter-rouge">id</code>ì˜ ë²ˆí˜¸ì™€ ì´ë¯¸ì§€ íƒ€ì…ì„ ë„£ì–´ì¤€ë‹¤.</li>
</ul>

<h2 id="productadminjs">productAdmin.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">checkFileName</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="dl">"</span><span class="s2">(.*?)</span><span class="se">\</span><span class="s2">.(jpg|jpeg|png|gif)</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">maxSize</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">;</span>
	
    <span class="c1">// id ë§¨ ë’¤ì— ë¶™ëŠ” ë²ˆí˜¸ë§Œ ë°”ê¿”ì£¼ë©´ ê°„í¸í•˜ê²Œ í•´ë‹¹ ì¸í’‹ íƒœê·¸ë¥¼ ì°¾ì•„ê°ˆ ìˆ˜ ìˆë‹¤.</span>
    <span class="kd">var</span> <span class="nx">fileSize</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#uploadImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">size</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">fileSize</span> <span class="o">&gt;</span> <span class="nx">maxSize</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">5MB ì´í•˜ë§Œ ì²¨ë¶€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span><span class="dl">'</span><span class="p">);</span>
        <span class="c1">// ì¸í’‹ íƒœê·¸ì— ë“±ë¡ëœ íŒŒì¼ì„ ì‚­ì œí•œë‹¤.</span>
        <span class="nx">crossBrowsing</span><span class="p">(</span><span class="nx">num</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
	
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#uploadImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">).</span><span class="nx">val</span><span class="p">()))</span> <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">í™•ì¥ìê°€ jpeg, jpg, png, gifì¸ ì´ë¯¸ì§€ íŒŒì¼ë§Œ ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span><span class="dl">'</span><span class="p">);</span>
        <span class="c1">// ì¸í’‹ íƒœê·¸ì— ë“±ë¡ëœ íŒŒì¼ì„ ì‚­ì œí•œë‹¤.</span>
        <span class="nx">crossBrowsing</span><span class="p">(</span><span class="nx">num</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
	
    <span class="c1">// ìœ„ì—ì„œ í™•ì¥ì ê²€ì‚¬ì™€ íŒŒì¼ í¬ê¸° ê²€ì‚¬ë¥¼ í†µê³¼í–ˆì„ ë•Œì—ë§Œ ì—…ë¡œë“œ ë©”ì„œë“œ ì‹¤í–‰ </span>
    <span class="nx">uploadImg</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="nx">type</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// ì¸í’‹ íƒœê·¸ì— ë“±ë¡ëœ íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ë©”ì„œë“œ</span>
<span class="kd">function</span> <span class="nx">crossBrowsing</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">agent</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
	
    <span class="c1">// í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§• ì²˜ë¦¬</span>
    <span class="c1">// IEì¼ ë•Œ</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">appName</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">Netscape</span><span class="dl">'</span> <span class="o">&amp;&amp;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">Trident</span><span class="dl">'</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span>
        <span class="nx">agent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">"</span><span class="s2">msie</span><span class="dl">"</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#uploadImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#uploadImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">).</span><span class="nx">clone</span><span class="p">(</span><span class="kc">true</span><span class="p">));</span>
    <span class="k">else</span> <span class="c1">// ê·¸ ì™¸ ë¸Œë¼ìš°ì €</span>
        <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#uploadImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>	
<span class="p">}</span>

<span class="c1">// íŒŒì¼ ì—…ë¡œë“œë¥¼ ìˆ˜í–‰í•˜ëŠ” ë©”ì„œë“œ</span>
<span class="kd">function</span> <span class="nx">uploadImg</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FileReader</span><span class="p">();</span>
	
    <span class="c1">// ì—…ë¡œë“œ í•  íŒŒì¼ì„ ì½ì–´ì™€ì„œ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ì— ë¿Œë ¤ì¤€ë‹¤.</span>
    <span class="nx">reader</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#prevImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span>
	
    <span class="nx">reader</span><span class="p">.</span><span class="nx">readAsDataURL</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#uploadImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	
    <span class="c1">// íŒŒì¼ì„ form ë°ì´í„°ì— ë‹´ì•„ ì „ì†¡í•  ì¤€ë¹„ </span>
    <span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">();</span>
    <span class="nx">form</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">'</span><span class="s1">uploadImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">,</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#uploadImg</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">num</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	
    <span class="c1">// ì—…ë¡œë“œ ë˜ëŠ” ì´ë¯¸ì§€ íƒ€ì…ì— ë”°ë¼ ë§¤í•‘ë˜ëŠ” urlì„ ë‹¤ë¥´ê²Œ ì„¤ì •í•œë‹¤.</span>
    <span class="kd">var</span> <span class="nx">newUrl</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">/product/upload_</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">detail</span><span class="dl">'</span><span class="p">:</span>
            <span class="nx">newUrl</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">deImg</span><span class="dl">'</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">top</span><span class="dl">'</span><span class="p">:</span>
            <span class="nx">newUrl</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">topImg</span><span class="dl">'</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">thumb</span><span class="dl">'</span><span class="p">:</span>
            <span class="nx">newUrl</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">thumb</span><span class="dl">'</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="dl">'</span><span class="s1">soldout</span><span class="dl">'</span><span class="p">:</span>
            <span class="nx">newUrl</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">soldoutImg</span><span class="dl">'</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
	
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">newUrl</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="nx">form</span><span class="p">,</span>
        <span class="na">processData</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">contentType</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„±ê³µ</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì„œë²„ ì˜¤ë¥˜ë¡œ ì§€ì—°ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ì—…ë¡œë“œ í•˜ë ¤ëŠ” ì´ë¯¸ì§€ íŒŒì¼ì„ ì½ì–´ì™€ì„œ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ì— ì¶œë ¥í•œ ë’¤ íŒŒì¼ ì—…ë¡œë“œë¥¼ ìœ„í•´ ì„œë²„ì™€ í†µì‹ í•œë‹¤.</li>
</ul>

<h2 id="productcontrollerjava">ProductController.java</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Ajax</code> í†µì‹ ì„ ìœ„í•œ <code class="language-plaintext highlighter-rouge">RestController</code>ì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œë¥¼ ìˆ˜í–‰í•œë‹¤.</li>
  <li>ì´ë•Œ ìƒí’ˆ ìƒì„¸í˜ì´ì§€ì˜ ìƒë‹¨ê³¼ ë³¸ë¬¸ ì˜ì—­ì— ë³´ì—¬ì§ˆ ì´ë¯¸ì§€ëŠ” ê·¸ëŒ€ë¡œ ì—…ë¡œë“œ í•˜ì§€ë§Œ ì¸ë„¤ì¼ì€ í¬ê¸°ë¥¼ ì¤„ì—¬ì„œ ì—…ë¡œë“œ í•  ê²ƒì´ë¼ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œëŠ” ë‘ ê°€ì§€ ë¶„ê¸°ë¡œ ë‚˜ëˆ ì§„ë‹¤.</li>
</ul>

<h3 id="ì´ë¯¸ì§€-ì›ë³¸-ì—…ë¡œë“œ">ì´ë¯¸ì§€ ì›ë³¸ ì—…ë¡œë“œ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RestController</span>
<span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/product/*"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProductAjaxController</span> <span class="o">{</span>

    <span class="nd">@Inject</span>
    <span class="kd">private</span> <span class="nc">ProductService</span> <span class="n">service</span><span class="o">;</span>
	
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">Logger</span> <span class="n">log</span> <span class="o">=</span> <span class="nc">LoggerFactory</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="nc">ProductAjaxController</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="nd">@Resource</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"reviewImgUploadPath"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">reviewImgUploatPath</span><span class="o">;</span>
	
    <span class="nd">@Resource</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"prodDimgUploadPath"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">prodDimgUploadPath</span><span class="o">;</span>
	
    <span class="nd">@Resource</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"prodThumbUploadPath"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">prodThumbUploadPath</span><span class="o">;</span>
	
    <span class="nd">@Resource</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"prodTopImgUploadPath"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">prodTopImgUploadPath</span><span class="o">;</span>
	
    <span class="nd">@Resource</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"prodSoldoutImgUploadPath"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">prodSoldoutImgUploadPath</span><span class="o">;</span>
	
    <span class="c1">// ìƒì„¸í˜ì´ì§€ ìƒë‹¨ ì´ë¯¸ì§€ </span>
    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/upload_topImg"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">uploadTopImgPOST</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"uploadImg1"</span><span class="o">)</span> <span class="nc">MultipartFile</span> <span class="n">file</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">file</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="nc">Commons</span><span class="o">.</span><span class="na">convertImgName</span><span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">(),</span> <span class="n">service</span><span class="o">.</span><span class="na">getLastProdNum</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="nc">ImgType</span><span class="o">.</span><span class="na">TOP</span><span class="o">);</span>
            <span class="nc">File</span> <span class="n">targetFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">prodTopImgUploadPath</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
            <span class="nc">FileCopyUtils</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="n">targetFile</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="k">return</span> <span class="n">fileName</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// ìƒì„¸í˜ì´ì§€ ë³¸ë¬¸ ì´ë¯¸ì§€ </span>
    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/upload_deImg"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">uploadDeImgPOST</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"uploadImg2"</span><span class="o">)</span> <span class="nc">MultipartFile</span> <span class="n">file</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">file</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="nc">Commons</span><span class="o">.</span><span class="na">convertImgName</span><span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">(),</span> <span class="n">service</span><span class="o">.</span><span class="na">getLastProdNum</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="nc">ImgType</span><span class="o">.</span><span class="na">DETAIL</span><span class="o">);</span>
            <span class="nc">File</span> <span class="n">targetFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">prodDimgUploadPath</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
            <span class="nc">FileCopyUtils</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="n">targetFile</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="k">return</span> <span class="n">fileName</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì´ë¯¸ì§€ ì›ë³¸ì€ ë³„ë„ì˜ ì‘ì—…ì„ í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ì§€ì •ëœ ê²½ë¡œì— ê·¸ëŒ€ë¡œ ì—…ë¡œë“œ í•œë‹¤.</li>
</ul>

<h3 id="ì´ë¯¸ì§€-í¬ê¸°-ì¤„ì—¬ì„œ-ì—…ë¡œë“œ">ì´ë¯¸ì§€ í¬ê¸° ì¤„ì—¬ì„œ ì—…ë¡œë“œ</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/upload_thumb"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">uploadThumbPOST</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"uploadImg3"</span><span class="o">)</span> <span class="nc">MultipartFile</span> <span class="n">file</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">file</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="nc">Commons</span><span class="o">.</span><span class="na">convertImgName</span><span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">(),</span> <span class="n">service</span><span class="o">.</span><span class="na">getLastProdNum</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="nc">ImgType</span><span class="o">.</span><span class="na">THUMBNAIL</span><span class="o">);</span>
            <span class="nc">Commons</span><span class="o">.</span><span class="na">resizeImg</span><span class="o">(</span><span class="n">file</span><span class="o">,</span> <span class="n">prodThumbUploadPath</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="k">return</span> <span class="n">fileName</span><span class="o">;</span>
    <span class="o">}</span>
	
    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/upload_soldoutImg"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">uploadSoldoutImgPOST</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="s">"uploadImg4"</span><span class="o">)</span> <span class="nc">MultipartFile</span> <span class="n">file</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">file</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="nc">Commons</span><span class="o">.</span><span class="na">convertImgName</span><span class="o">(</span><span class="n">file</span><span class="o">.</span><span class="na">getOriginalFilename</span><span class="o">(),</span> <span class="n">service</span><span class="o">.</span><span class="na">getLastProdNum</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="nc">ImgType</span><span class="o">.</span><span class="na">SOLDOUT</span><span class="o">);</span>
            <span class="nc">Commons</span><span class="o">.</span><span class="na">resizeImg</span><span class="o">(</span><span class="n">file</span><span class="o">,</span> <span class="n">prodSoldoutImgUploadPath</span><span class="o">,</span> <span class="n">fileName</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="k">return</span> <span class="n">fileName</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ë§¤í¼ì— í›„ê¸°ê¸€ì— ëŒ€í•œ ì •ë³´ë¥¼ ë³´ë‚¼ ë•Œ <code class="language-plaintext highlighter-rouge">BoardReviewVO</code>ë¥¼ ì‚¬ìš©í•´ì„œ ë³´ë‚´ëŠ”ë° ê²Œì‹œê¸€ì„ ìˆ˜ì •í•  ë•Œ ì´ë¯¸ì§€ íŒŒì¼ì— ëŒ€í•œ ì •ë³´ë„ ì„¤ì •í•´ ì£¼ì§€ ì•Šìœ¼ë©´ <code class="language-plaintext highlighter-rouge">VO</code> ì†ì˜ ì´ë¯¸ì§€ íŒŒì¼ëª… í•„ë“œëŠ” <code class="language-plaintext highlighter-rouge">null</code>ë¡œ ë‚¨ì•„ìˆëŠ” ìƒíƒœë¡œ ë§¤í¼ì— ì „ë‹¬ë  ê²ƒì´ë‹¤. ê·¸ë ‡ê²Œ ë˜ë©´ ê¸°ì¡´ì— ì„œë²„ì— ì—…ë¡œë“œ ëœ ì´ë¯¸ì§€íŒŒì¼ì´ ìˆëŠ”ë°ë„ DB ë°ì´í„° ìƒì—ì„œëŠ” ì´ë¯¸ì§€ íŒŒì¼ëª… ì •ë³´ê°€ ì—†ê¸° ë•Œë¬¸ì— í™”ë©´ì— ì¶œë ¥ë˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ì²¨ë¶€íŒŒì¼ì´ í¬í•¨ëœ ê²Œì‹œê¸€ì„ ìˆ˜ì •í•  ë•Œì—” ìœ„ì™€ ê°™ì´ ë¶„ê¸°ë¥¼ ë‚˜ëˆ„ì–´ ì²˜ë¦¬í•´ ì£¼ê²Œ í–ˆë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="êµ¬í˜„í•˜ë©°-í–ˆë˜-ê³ ë¯¼">êµ¬í˜„í•˜ë©° í–ˆë˜ ê³ ë¯¼</h1>
<ul>
  <li>ê°€ì¥ ê³ ë¯¼í–ˆë˜ ê²ƒì€ ì‚¬ìš©ìê°€ ê¸€ì„ ìˆ˜ì •í•˜ë©´ì„œ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí–ˆëŠ”ì§€ ì•„ë‹Œì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ì—ˆë‹¤. ë‹¨ìˆœíˆ <code class="language-plaintext highlighter-rouge">file</code>ë¡œ ë„˜ì–´ì˜¨ ì •ë³´ê°€ ìˆê³  ì—†ê³ ë¡œ ë”°ì§ˆ ìˆ˜ ì—†ì—ˆê¸° ë•Œë¬¸ì´ë‹¤. <code class="language-plaintext highlighter-rouge">file</code>íƒ€ì…ì˜ ì¸í’‹íƒœê·¸ íŠ¹ì„±ìƒ ê²Œì‹œê¸€ì„ ì‘ì„±í•  ë•Œ íŒŒì¼ì„ ì—…ë¡œë“œ í•˜ì§€ ì•Šìœ¼ë©´ ì‚¬ì§„ ì²¨ë¶€ ì˜ì—­ì˜ ì‚­ì œ ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•´ë„ ê°’ì´ ë¹„ì–´ìˆê³  ê¸°ì¡´ì— ì—…ë¡œë“œí–ˆë˜ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ëŠ” ë™ì‘ì„ í•˜ì§€ ì•Šì•„ë„ ê°’ì´ ë¹„ì–´ìˆë‹¤. ì¦‰ ê²Œì‹œê¸€ì„ ìˆ˜ì •í•  ë•Œ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ì²¨ë¶€í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ í•­ìƒ ë¹„ì–´ìˆëŠ” ìƒíƒœë¡œ ì „ì†¡ë˜ëŠ” ê²ƒì´ë‹¤.</li>
</ul>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;c:choose&gt;</span>
    <span class="nt">&lt;c:when </span><span class="na">test=</span><span class="s">"</span><span class="si">${</span><span class="n">vo</span><span class="o">.</span><span class="na">review_image</span> <span class="o">==</span> <span class="kc">null</span> <span class="si">}</span><span class="s">"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"uploadImgName"</span> <span class="na">id=</span><span class="s">"uploadImgName"</span> <span class="na">value=</span><span class="s">"ì´ë¯¸ì§€ ì„ íƒ"</span>
            <span class="na">readonly</span> <span class="na">name=</span><span class="s">"uploadImgName"</span><span class="nt">&gt;</span> 
    <span class="nt">&lt;/c:when&gt;</span>
    <span class="nt">&lt;c:otherwise&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">class=</span><span class="s">"uploadImgName"</span> <span class="na">id=</span><span class="s">"uploadImgName"</span> <span class="na">value=</span><span class="s">"${vo.review_image }"</span>
            <span class="na">readonly</span> <span class="na">name=</span><span class="s">"uploadImgName"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/c:otherwise&gt;</span>
<span class="nt">&lt;/c:choose&gt;</span>
<span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">"site-btn"</span> <span class="na">for=</span><span class="s">"uploadImg"</span> <span class="na">id=</span><span class="s">"uploadBtn"</span><span class="nt">&gt;</span>ì—…ë¡œë“œ<span class="nt">&lt;/label&gt;</span>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"site-btn"</span> <span class="na">onclick=</span><span class="s">"removeImg();"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">id=</span><span class="s">"uploadImg"</span> <span class="na">name=</span><span class="s">"review_image"</span> <span class="na">oninput=</span><span class="s">"checkFileName();"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<ul>
  <li>ë·° í˜ì´ì§€ UI ë””ìì¸ì„ í•˜ë©° ì—…ë¡œë“œ í•˜ë ¤ëŠ” íŒŒì¼ëª…ì„ ì¶œë ¥í•˜ëŠ” ì¸í’‹ íƒœê·¸ë¥¼ ë¶„ë¦¬í•´ ë’€ê¸° ë•Œë¬¸ì— íŒŒì¼ëª…ì´ ì¶œë ¥ë˜ëŠ” ì¸í’‹ íƒœê·¸ì˜ ê°’ì— ë”°ë¼ ê¸°ì¡´ì— ì—…ë¡œë“œ ëœ ì´ë¯¸ì§€ íŒŒì¼ì˜ ì¡´ì¬ ìœ ë¬´ë¥¼ í™•ì¸í•˜ë„ë¡ ì„¤ê³„í–ˆë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">D-10</code></li>
</ul>
:ET