<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.1">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2022-04-06T13:12:59+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Yujin Dev Log</title><subtitle>ê°œë°œ ê³µë¶€í•˜ëŠ” ë¸”ë¡œê·¸</subtitle><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><entry><title type="html">ì—ëŸ¬í•´ê²° Log) JAVA JSP Servlet ê¸€ ë‚´ìš© ìˆ˜ì •í•  ë•Œ ì²¨ë¶€íŒŒì¼ì´ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œ</title><link href="http://localhost:4000/errorlog/warning-log-04/" rel="alternate" type="text/html" title="ì—ëŸ¬í•´ê²° Log) JAVA JSP Servlet ê¸€ ë‚´ìš© ìˆ˜ì •í•  ë•Œ ì²¨ë¶€íŒŒì¼ì´ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œ" /><published>2022-04-06T00:00:00+09:00</published><updated>2022-04-06T00:00:00+09:00</updated><id>http://localhost:4000/errorlog/warning-log-04</id><content type="html" xml:base="http://localhost:4000/errorlog/warning-log-04/"><![CDATA[<h1 id="ì‚¬ìš©í™˜ê²½">ì‚¬ìš©í™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020) 16GB</li>
  <li>JDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5<br /><br /><br /></li>
</ul>

<h1 id="ì—ëŸ¬ì˜-ë°œìƒ">ì—ëŸ¬ì˜ ë°œìƒ</h1>
<ul>
  <li>ìš”ì¦˜ <code class="language-plaintext highlighter-rouge">JAVA</code>ì™€ <code class="language-plaintext highlighter-rouge">JSP</code>, <code class="language-plaintext highlighter-rouge">Servlet</code>ìœ¼ë¡œ ê²Œì‹œíŒì„ ë§Œë“¤ë˜ ì¤‘ íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤. ê·¸ëŸ°ë° ê²Œì‹œê¸€ì„ ìˆ˜ì •í•˜ë©´ ë“±ë¡ë˜ ìˆë˜ ì´ë¯¸ì§€ì™€ ì²¨ë¶€íŒŒì¼ì´ ì‚­ì œë˜ëŠ” ê²ƒì´ì—ˆë‹¤. ğŸ¥² <code class="language-plaintext highlighter-rouge">DB</code>ì— ë“±ë¡ë˜ ìˆë˜ íŒŒì¼ëª… ìì²´ê°€ <code class="language-plaintext highlighter-rouge">null</code>ì´ ë˜ì–´ë²„ë¦¼â€¦</li>
  <li>êµ¬ê¸€ ê²€ìƒ‰ì„ ì‹œë„í•´ë³´ë‹ˆ ì—…ë¡œë“œ í•œ íŒŒì¼ì˜ ìˆ˜ì •ì´ í•„ìš”í•  ë• ì—…ë¡œë“œ í–ˆë˜ íŒŒì¼ì„ ì‚­ì œí•˜ê³  ë‹¤ì‹œ ì²¨ë¶€í•´ì•¼ í•œë‹¤ëŠ” ë‚´ìš©ì´ ë§ì•„ì„œ ê·¸ë ‡ê²Œ í•´ ë³´ì•˜ëŠ”ë° ì—¬ì „íˆ ë¬¸ì œ í•´ê²°ì—ëŠ” ë„ì›€ì´ ë˜ì§€ ì•Šì•˜ë‹¤.</li>
  <li>ê·¸ë˜ì„œ ì¢€ ë” ìƒê°í•´ ë³´ë‹ˆ ì—…ë¡œë“œ ëœ íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” ì½”ë“œë¥¼ ì“´ ì  ì—†ì—ˆê¸° ë•Œë¬¸ì— ì—…ë¡œë“œ ë˜ëŠ” íŒŒì¼ë“¤ì´ ì €ì¥ë˜ëŠ” ê²½ë¡œì— ê°€ì„œ í™•ì¸í•´ ë³´ë‹ˆ ì—­ì‹œ íŒŒì¼ë“¤ì€ ê·¸ëŒ€ë¡œ ìˆì—ˆë‹¤. ë‚´ê°€ ì§  ë¡œì§ì€ <code class="language-plaintext highlighter-rouge">DB</code>ì—ëŠ” ì—…ë¡œë“œ í•œ íŒŒì¼ëª…ë§Œ ì €ì¥í•˜ê³  ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¬ ë•Œ ì„œë²„ì— ì—…ë¡œë“œ ë˜ëŠ” ê²½ë¡œë¡œ ì°¾ì•„ê°€ì„œ í•´ë‹¹ íŒŒì¼ë“¤ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì´ë¼ì„œ <code class="language-plaintext highlighter-rouge">DB</code>ì—ì„œ ì—…ë°ì´íŠ¸ ë  ë•Œ íŒŒì¼ëª…ë§Œ ì˜ ë³´ì¡´í•´ ì£¼ë©´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê²ƒì´ì—ˆë‹¤.</li>
  <li>ê²Œì‹œê¸€ ì‘ì„± ë° ìˆ˜ì •ì‹œ í¼íƒœê·¸ì˜ <code class="language-plaintext highlighter-rouge">enctype="multipart/form-data"</code> ì†ì„±ì„ ì‚¬ìš©í•´ì„œ ì „ì†¡ í•˜ê¸° ë•Œë¬¸ì— íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì„ ë•Œ <code class="language-plaintext highlighter-rouge">Multipart</code> ê°ì²´ë¥¼ ì‚¬ìš©í•´ì„œ ë°›ì•„ì•¼ í•˜ëŠ”ë° ì´ ê³¼ì •ì—ì„œ ì‹¤ì œë¡œ ë°›ì€ íŒŒì¼ì´ ì—†ë‹¤ë³´ë‹ˆ íŒŒì¼ëª…ì„ ì¶”ì¶œí•˜ëŠ” ê³¼ì •ì´ ìƒëµë˜ì—ˆê³ , <code class="language-plaintext highlighter-rouge">DB</code> ì—…ë¡œë“œìš© <code class="language-plaintext highlighter-rouge">DTO</code> ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê³¼ì •ì—ì„œ íŒŒì¼ëª…ì— ëŒ€í•œ ì •ë³´ê°€ ëˆ„ë½ëœ ê²ƒì´ì—ˆë‹¤â€¦!! ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">DB</code> ì ‘ì†í•´ì„œ ì—…ë°ì´íŠ¸ ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ê³¼ì •ì—ì„œ <code class="language-plaintext highlighter-rouge">null</code>ì´ ì…ë ¥ë˜ê²Œ ëœë‹¤â€¦</li>
  <li>ê·¸ëŸ¬ë©´ <code class="language-plaintext highlighter-rouge">file</code> íƒ€ì… <code class="language-plaintext highlighter-rouge">input</code> íƒœê·¸ì˜ <code class="language-plaintext highlighter-rouge">value</code> ê°’ì„ ê¸°ì¡´ì— ì €ì¥ë˜ì–´ ìˆë˜ íŒŒì¼ëª…ìœ¼ë¡œ ë„£ì–´ë†“ìœ¼ë©´ ë˜ì§€ ì•Šë‚˜ ì‹¶ì—ˆë‹¤. ê·¸ëŸ°ë° ì•ˆ ë¨</li>
  <li>êµ¬ê¸€ë§ í•´ ë³´ë‹ˆ <code class="language-plaintext highlighter-rouge">file</code> íƒ€ì…ì€ <code class="language-plaintext highlighter-rouge">readonly</code>ë¼ì„œ íŒŒì¼ì„ ì§ì ‘ ë“±ë¡í•  ë•Œê°€ ì•„ë‹ˆë©´ ì„ì˜ë¡œ <code class="language-plaintext highlighter-rouge">value</code>ê°’ì„ ë„£ì–´ì¤„ ìˆ˜ ì—†ë‹¤ê³  í•œë‹¤. <code class="language-plaintext highlighter-rouge">value</code> ìˆ˜ì •ì´ ê°€ëŠ¥í•œ ê²½ìš°ëŠ” <code class="language-plaintext highlighter-rouge">value</code>ê°’ì´ ìˆì„ ë•Œ ê·¸ ê°’ì„ ì§€ìš¸ ë•Œ ë¿ì´ì—ˆìŒ. ê·¸ë˜ì„œ ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ì•„ì•¼ í–ˆë‹¤.<br /><br /></li>
</ul>

<h1 id="ë¬¸ì œ-í•´ê²°">ë¬¸ì œ í•´ê²°</h1>

<h2 id="boardmodifyjsp">boardModify.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%</span>
    <span class="nc">String</span> <span class="n">imgPath</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">().</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/images"</span><span class="o">)</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s">"origins"</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">();</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"imgPath: "</span><span class="o">+</span><span class="n">imgPath</span><span class="o">);</span>
<span class="nt">%&gt;</span>
<span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">"write"</span> <span class="na">action=</span><span class="s">"./BoardModifyPro.bo"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">enctype=</span><span class="s">"multipart/form-data"</span> <span class="na">onsubmit=</span><span class="s">"return finalCheck();"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì´ë¯¸ì§€ ë“±ë¡ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">name=</span><span class="s">"image"</span> <span class="na">id=</span><span class="s">"image"</span> <span class="na">oninput=</span><span class="s">"formatCheck();"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"oldImgPath"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">imgPath</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"oldImgName"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"imgUploadStatus"</span> <span class="na">value=</span><span class="s">"true"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div&gt;</span>ë“±ë¡ëœ ì´ë¯¸ì§€ : <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"imgName"</span><span class="nt">&gt;</span> <span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span> <span class="nt">%&gt;</span> <span class="nt">&lt;/span&gt;</span><span class="ni">&amp;nbsp;</span> <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:void(0);"</span> <span class="na">onclick=</span><span class="s">"removeImg();"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="nt">&lt;/a&gt;&lt;/div&gt;&lt;br&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê¸€ ìˆ˜ì • í˜ì´ì§€ì˜ í¼íƒœê·¸ ì•ˆì—ì„œ <code class="language-plaintext highlighter-rouge">hidden</code> íƒ€ì… <code class="language-plaintext highlighter-rouge">input</code> íƒœê·¸ë¥¼ ì¨ì„œ ê¸°ì¡´ì— ì €ì¥ë˜ì–´ ìˆë˜ íŒŒì¼ëª…ì„ ì €ì¥í•´ ë‘ì—ˆë‹¤ í•¨ê»˜ ì „ì†¡í–ˆë‹¤.</li>
  <li>ë§Œì•½ ì‚­ì œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ <code class="language-plaintext highlighter-rouge">onclick</code> ì´ë²¤íŠ¸ë¥¼ í†µí•´ <code class="language-plaintext highlighter-rouge">imgUploadStatus</code>ë¥¼ <code class="language-plaintext highlighter-rouge">false</code>ë¡œ ë°”ê¿” ê¸°ì¡´ì— ë“±ë¡í–ˆë˜ íŒŒì¼ì„ ì‚­ì œí•  ê²ƒì„ì„ ì•Œë¦°ë‹¤.</li>
</ul>

<h2 id="boardmodifyproactionjava">BoardModifyProAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardModifyProAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardModifyProAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// í•œê¸€ì²˜ë¦¬</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
		
        <span class="c1">// DBì—ì„œ ê¸°ì¡´ ê¸€ ì •ë³´ë¥¼ ì°¾ì€ ë‹¤ìŒ ìƒˆ ë‚´ìš©ìœ¼ë¡œ ìˆ˜ì •</span>
        <span class="nc">FileUpload</span> <span class="n">fu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileUpload</span><span class="o">();</span>
        <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="n">fu</span><span class="o">.</span><span class="na">upload</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
  
        <span class="c1">// .. í•˜ëµ</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê¸€ ìˆ˜ì • ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ì„œë¸”ë¦¿ìœ¼ë¡œ ì˜¤ë©´ íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ì¸ <code class="language-plaintext highlighter-rouge">FileUpload</code>ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="fileuploadjava">FileUpload.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDTO</span><span class="o">();</span>

<span class="c1">// ê¸°ì¡´ì— ì €ì¥ë˜ ìˆë˜ íŒŒì¼ ì •ë³´ë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
<span class="nc">String</span> <span class="n">imgUploadStatus</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">oldImgPath</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">oldImgName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

<span class="o">...</span>


<span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldImgName"</span><span class="o">))</span>
    <span class="n">oldImgName</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
<span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"imgUploadStatus"</span><span class="o">))</span>
    <span class="n">imgUploadStatus</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
<span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldImgPath"</span><span class="o">))</span>
    <span class="n">oldImgPath</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
</code></pre></div></div>

<ul>
  <li>ì„œë¸”ë¦¿ìœ¼ë¡œ ì˜¤ë©´ <code class="language-plaintext highlighter-rouge">Multipart</code> ê°ì²´ì—ì„œ ê¸°ì¡´ íŒŒì¼ê³¼ ê´€ë ¨ëœ ë¶€ë¶„ì´ ìˆìœ¼ë©´ ì €ì¥í•œë‹¤.</li>
  <li>ìˆ˜ì •ëª¨ë“œì—ì„œ ìƒˆë¡œìš´ íŒŒì¼ ì²¨ë¶€ë¥¼ í•˜ì§€ ì•Šê³  ì—¬ê¸°ë¡œ ì˜¤ê²Œ ë˜ë©´ ì—…ë¡œë“œ ëœ íŒŒì¼ì´ ì—†ìœ¼ë‹ˆ íŒŒì¼ ë“±ë¡ ê³¼ì •ì„ ê±°ì¹˜ì§€ ì•Šê³  ë‚´ë ¤ì˜¬ ê²ƒì´ë‹¤. <code class="language-plaintext highlighter-rouge">BoardDTO</code> ê°ì²´ì˜ ì´ë¯¸ì§€ íŒŒì¼ëª… ì •ë³´ëŠ” <code class="language-plaintext highlighter-rouge">null</code>ì¸ ìƒíƒœ<br /><br /></li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="o">(</span><span class="n">imgUploadStatus</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
<span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">imgUploadStatus</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"false"</span><span class="o">))</span>
    <span class="o">{</span>
        <span class="c1">// ë“±ë¡ëœ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ëŠ” ê²½ìš°</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">);</span>
        <span class="nc">File</span> <span class="n">oldImg</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">oldImgPath</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">oldImg</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="n">oldImg</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">else</span> 
    <span class="o">{</span>
        <span class="c1">// ì‚­ì œí•˜ì§€ ì•ŠëŠ” ê²½ìš°</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="n">oldImgName</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê¸°ì¡´ ì´ë¯¸ì§€ íŒŒì¼ ì •ë³´ê°€ ìˆì–´ì„œ ê·¸ê²ƒì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•´ë¼ëŠ” ì§€ì‹œì‚¬í•­ì´ ìˆìœ¼ë©´ ê·¸ì— ë§ê²Œ ì²˜ë¦¬í•˜ëŠ” ë¶„ê¸°ë¡œ ì´ë™í•œë‹¤.</li>
  <li>ë“±ë¡ëœ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ëŠ” ê²½ìš°ì—ëŠ” íŒŒì¼ëª…ì„ ì§€ìš°ê³  ì„œë²„ì—ì„œë„ í•´ë‹¹ íŒŒì¼ì„ ì§€ìš´ë‹¤.</li>
  <li>ì‚­ì œí•˜ì§€ ì•ŠëŠ” ê²½ìš°ì¸ë° ë§Œì•½ <code class="language-plaintext highlighter-rouge">BoardDTO</code>ì˜ íŒŒì¼ëª… í•„ë“œê°€ ë¹„ì–´ ìˆìœ¼ë©´ ê¸°ì¡´ íŒŒì¼ëª…ì„ ì €ì¥í•œë‹¤.</li>
  <li>
    <p>ì´ì œ <code class="language-plaintext highlighter-rouge">BoardDTO</code>ë¥¼ <code class="language-plaintext highlighter-rouge">DB</code>ë¡œ ë³´ë‚´ ì—…ë°ì´íŠ¸ ë™ì‘ì„ ìˆ˜í–‰í•˜ë©´ íŒŒì¼ëª… í•„ë“œê°€ <code class="language-plaintext highlighter-rouge">null</code>ì´ ë˜ì§€ ì•Šê³  ì˜ ë‚¨ì•„ìˆê²Œ ëœë‹¤.</p>
  </li>
  <li>ì•„ë˜ëŠ” <code class="language-plaintext highlighter-rouge">FileUpload</code> í´ë˜ìŠ¤ì˜ ì „ì²´ ì½”ë“œì´ë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.DefaultFileRenamePolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.FilePart</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.MultipartParser</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.ParamPart</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.Part</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDTO</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">net.coobird.thumbnailator.Thumbnails</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">net.coobird.thumbnailator.name.Rename</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileUpload</span> 
<span class="o">{</span>
    <span class="kd">public</span> <span class="nc">BoardDTO</span> <span class="nf">upload</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span>
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"upload() í˜¸ì¶œ "</span><span class="o">);</span>
		
        <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDTO</span><span class="o">();</span>
		
        <span class="nc">ServletContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">();</span>
		
        <span class="c1">// íŒŒì¼ì˜ ì €ì¥í¬ê¸°</span>
        <span class="kt">int</span> <span class="n">maxSize</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="o">;</span> <span class="c1">// 10MB</span>
		
        <span class="nc">MultipartParser</span> <span class="n">mp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MultipartParser</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">maxSize</span><span class="o">);</span>
        <span class="n">mp</span><span class="o">.</span><span class="na">setEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
        <span class="nc">Part</span> <span class="n">part</span><span class="o">;</span>
		
        <span class="c1">// ê¸°ì¡´ì— ì €ì¥ë˜ ìˆë˜ íŒŒì¼ ì •ë³´ë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
        <span class="nc">String</span> <span class="n">imgUploadStatus</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">oldImgPath</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">oldImgName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
        <span class="nc">String</span> <span class="n">fileUploadStatus</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">oldFilePath</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">oldFileName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
        <span class="k">while</span> <span class="o">((</span><span class="n">part</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="na">readNextPart</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="c1">// form íƒœê·¸ë¡œ ì €ì¥ëœ íŒŒë¼ë¯¸í„°ë¥¼ ì½ì–´ì˜´</span>
            <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
			
            <span class="k">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isParam</span><span class="o">())</span>
            <span class="o">{</span>
                <span class="c1">// íŒŒì¼ì´ ì•„ë‹ ë•Œ</span>
                <span class="nc">ParamPart</span> <span class="n">param</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ParamPart</span><span class="o">)</span><span class="n">part</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="na">getStringValue</span><span class="o">();</span>
				
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"param name :"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">" value : "</span> <span class="o">+</span> <span class="n">value</span><span class="o">);</span>
				
                <span class="c1">// ê° íŒŒë¼ë¯¸í„°ì— ë§ì¶° dtoì— ì €ì¥</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"id"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"title"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"content"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"num"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setNum</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"re_lev"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setRe_lev</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"re_ref"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setRe_ref</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"re_seq"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setRe_seq</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldImgName"</span><span class="o">))</span>
                    <span class="n">oldImgName</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldFileName"</span><span class="o">))</span>
                    <span class="n">oldFileName</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"fileUploadStatus"</span><span class="o">))</span>
                    <span class="n">fileUploadStatus</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"imgUploadStatus"</span><span class="o">))</span>
                    <span class="n">imgUploadStatus</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldImgPath"</span><span class="o">))</span>
                    <span class="n">oldImgPath</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldFilePath"</span><span class="o">))</span>
                    <span class="n">oldFilePath</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"image"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ì´ë¯¸ì§€ íŒŒì¼ì¼ ë•Œ</span>
                <span class="c1">// ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ ì§€ì •</span>
                <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/images"</span><span class="o">));</span>
                <span class="nc">File</span> <span class="n">originDir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">dir</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s">"origins"</span><span class="o">);</span> <span class="c1">// ì›ë³¸ ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ</span>
                <span class="nc">File</span> <span class="n">thumbnailDir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">dir</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s">"thumbnails"</span><span class="o">);</span> <span class="c1">// ì¸ë„¤ì¼ ì €ì¥ ê²½ë¡œ</span>
				
                <span class="c1">// ê²½ë¡œê°€ ì—†ìœ¼ë©´ ìƒì„±</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">originDir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">originDir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">thumbnailDir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">thumbnailDir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
				
                <span class="nc">FilePart</span> <span class="n">filePart</span> <span class="o">=</span> <span class="o">(</span><span class="nc">FilePart</span><span class="o">)</span> <span class="n">part</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">{</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">setRenamePolicy</span><span class="o">(</span><span class="k">new</span> <span class="nc">DefaultFileRenamePolicy</span><span class="o">());</span>

                    <span class="c1">// ì§€ì •í•œ ê²½ë¡œì— íŒŒì¼ ì“°ê¸°</span>
                    <span class="nc">String</span> <span class="n">file</span> <span class="o">=</span> <span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">();</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">writeTo</span><span class="o">(</span><span class="n">originDir</span><span class="o">);</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
                    <span class="c1">// ì¤‘ë³µ íŒŒì¼ëª…ì„ ì²˜ë¦¬í•  ë¶€ë¶„</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setImage_uid</span><span class="o">(</span><span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">());</span>
					
                    <span class="c1">// ì›ë³¸ ì´ë¯¸ì§€ íŒŒì¼ì„ ì´ìš©í•´ì„œ ì¸ë„¤ì¼ì„ ë§Œë“¤ì–´ ì €ì¥</span>
                    <span class="c1">// í¬ê¸° ì§€ì • í›„ ì§€ì • ê²½ë¡œì— ì €ì¥</span>
                    <span class="nc">Thumbnails</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">originDir</span><span class="o">.</span><span class="na">getPath</span><span class="o">()</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="n">file</span><span class="o">))</span>
						<span class="o">.</span><span class="na">size</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span> <span class="mi">400</span><span class="o">)</span>
						<span class="o">.</span><span class="na">toFiles</span><span class="o">(</span><span class="n">thumbnailDir</span><span class="o">,</span> <span class="nc">Rename</span><span class="o">.</span><span class="na">NO_CHANGE</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="k">else</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"img empty!"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"file"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ì¼ë°˜ íŒŒì¼ì¼ ë•Œ</span>
                <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/upload"</span><span class="o">));</span>
				
                <span class="c1">// ê²½ë¡œ ì—†ìœ¼ë©´ ìƒì„±</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
				
                <span class="nc">FilePart</span> <span class="n">filePart</span> <span class="o">=</span> <span class="o">(</span><span class="nc">FilePart</span><span class="o">)</span> <span class="n">part</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">file</span> <span class="o">=</span> <span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">file</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">{</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">writeTo</span><span class="o">(</span><span class="n">dir</span><span class="o">);</span> <span class="c1">// ì§€ì •í•œ ê²½ë¡œì— íŒŒì¼ ì“°ê¸°</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setFile_uid</span><span class="o">(</span><span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">());</span>
                <span class="o">}</span>
                <span class="k">else</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"file empty!"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="c1">// ì‚¬ìš©ì ipì£¼ì†Œ ì €ì¥</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setIp</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getRemoteAddr</span><span class="o">());</span>
		
        <span class="k">if</span> <span class="o">(</span><span class="n">imgUploadStatus</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">imgUploadStatus</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"false"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ë“±ë¡ëœ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ëŠ” ê²½ìš°</span>
                <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">);</span>
                <span class="nc">File</span> <span class="n">oldImg</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">oldImgPath</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">oldImg</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="n">oldImg</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">else</span> 
            <span class="o">{</span>
                <span class="c1">// ì‚­ì œí•˜ì§€ ì•ŠëŠ” ê²½ìš°</span>
                <span class="c1">// ë§Œì•½ dtoì˜ íŒŒì¼ëª… í•„ë“œê°€ ë¹„ì–´ ìˆìœ¼ë©´ ê¸°ì¡´ íŒŒì¼ëª…ì„ ì €ì¥í•œë‹¤.</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="n">oldImgName</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="k">if</span> <span class="o">(</span><span class="n">fileUploadStatus</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">fileUploadStatus</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"false"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">);</span>
                <span class="nc">File</span> <span class="n">oldFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">oldFilePath</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">oldFile</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="n">oldFile</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">else</span> 
            <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="n">oldFileName</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="k">return</span> <span class="n">dto</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>í•´ê²°~!!</li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="ErrorLog" /><category term="Error" /><category term="Solve" /><category term="Log" /><summary type="html"><![CDATA[ì‚¬ìš©í™˜ê²½ MacBook Air (M1, 2020) 16GB JDK 8 Eclipse 2021-12 tomcat 8.5]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 29 - íŒŒì¼ì—…ë¡œë“œ ê¸°ëŠ¥ ìˆ˜ì •(ì¤‘ë³µíŒŒì¼ëª… ì²˜ë¦¬)</title><link href="http://localhost:4000/project%20log/cafe-project-29/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 29 - íŒŒì¼ì—…ë¡œë“œ ê¸°ëŠ¥ ìˆ˜ì •(ì¤‘ë³µíŒŒì¼ëª… ì²˜ë¦¬)" /><published>2022-04-06T00:00:00+09:00</published><updated>2022-04-06T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-29</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-29/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©">ì§„í–‰ìƒí™©</h1>
<ul>
  <li>ê¸°ì¡´ì— ë§Œë“¤ì—ˆë˜ íŒŒì¼ì—…ë¡œë“œ ê¸°ëŠ¥ì— ìˆ˜ì •ì´ í•„ìš”í–ˆë‹¤.</li>
  <li>ì²˜ìŒì— ë§Œë“¤ì—ˆë˜ í˜•íƒœëŠ” ë‹¨ìˆœí•œ ì—…ë¡œë“œì™€ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ë§Œ ìˆì—ˆê¸° ë•Œë¬¸ì— ì²¨ë¶€íŒŒì¼ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí–ˆì„ ë•Œ í•´ë‹¹ ë¶€ë¶„ì„ ë°˜ì˜í•˜ëŠ” ë¡œì§ì´ ì—†ì—ˆê³  ì¤‘ë³µ íŒŒì¼ëª…ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ë„ ì—†ì—ˆë‹¤. ê·¸ë˜ì„œ ì¤‘ë³µíŒŒì¼ëª… ì²˜ë¦¬ì™€ ìˆ˜ì •/ì‚­ì œ ì²˜ë¦¬ë¥¼ ì¶”ê°€í–ˆë‹¤.</li>
  <li>ê´€ë ¨ ë‚´ìš©ì€ <a href="https://miro7923.github.io/errorlog/warning-log-04/">ì—ëŸ¬í•´ê²° Log) JAVA JSP Servlet ê¸€ ë‚´ìš© ìˆ˜ì •í•  ë•Œ ì²¨ë¶€íŒŒì¼ì´ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œ</a> ì—ì„œë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<h2 id="fileuploadjava">FileUpload.java</h2>
<ul>
  <li>ë¨¼ì € <code class="language-plaintext highlighter-rouge">DB</code> í…Œì´ë¸”ì—ì„œ ì‹¤ì œ íŒŒì¼ëª…ì„ ì €ì¥í•  í•„ë“œë„ ë§Œë“¤ì—ˆë‹¤.</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.DefaultFileRenamePolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.FilePart</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.MultipartParser</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.ParamPart</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.Part</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDTO</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">net.coobird.thumbnailator.Thumbnails</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">net.coobird.thumbnailator.name.Rename</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FileUpload</span> 
<span class="o">{</span>
    <span class="kd">public</span> <span class="nc">BoardDTO</span> <span class="nf">upload</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span>
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"upload() í˜¸ì¶œ "</span><span class="o">);</span>
		
        <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDTO</span><span class="o">();</span>
		
        <span class="nc">ServletContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">();</span>
		
        <span class="c1">// íŒŒì¼ì˜ ì €ì¥í¬ê¸°</span>
        <span class="kt">int</span> <span class="n">maxSize</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="o">;</span> <span class="c1">// 10MB</span>
		
        <span class="nc">MultipartParser</span> <span class="n">mp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MultipartParser</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">maxSize</span><span class="o">);</span>
        <span class="n">mp</span><span class="o">.</span><span class="na">setEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
        <span class="nc">Part</span> <span class="n">part</span><span class="o">;</span>

        <span class="c1">// ê¸°ì¡´ì— ì €ì¥ë˜ ìˆë˜ íŒŒì¼ ì •ë³´ë¥¼ ì €ì¥í•  ë³€ìˆ˜</span>
        <span class="nc">String</span> <span class="n">imgUploadStatus</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">oldImgPath</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">oldImgName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
        <span class="nc">String</span> <span class="n">fileUploadStatus</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">oldFilePath</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">oldFileName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
        <span class="k">while</span> <span class="o">((</span><span class="n">part</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="na">readNextPart</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="c1">// form íƒœê·¸ë¡œ ì €ì¥ëœ íŒŒë¼ë¯¸í„°ë¥¼ ì½ì–´ì˜´</span>
            <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
			
            <span class="k">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isParam</span><span class="o">())</span>
            <span class="o">{</span>
                <span class="c1">// íŒŒì¼ì´ ì•„ë‹ ë•Œ</span>
                <span class="nc">ParamPart</span> <span class="n">param</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ParamPart</span><span class="o">)</span><span class="n">part</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="na">getStringValue</span><span class="o">();</span>
				
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"param name :"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">" value : "</span> <span class="o">+</span> <span class="n">value</span><span class="o">);</span>
				
                <span class="c1">// ê° íŒŒë¼ë¯¸í„°ì— ë§ì¶° dtoì— ì €ì¥</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"id"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"title"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"content"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"num"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setNum</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"re_lev"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setRe_lev</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"re_ref"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setRe_ref</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"re_seq"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setRe_seq</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">value</span><span class="o">));</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldImgName"</span><span class="o">))</span>
                    <span class="n">oldImgName</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldFileName"</span><span class="o">))</span>
                    <span class="n">oldFileName</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"fileUploadStatus"</span><span class="o">))</span>
                    <span class="n">fileUploadStatus</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"imgUploadStatus"</span><span class="o">))</span>
                    <span class="n">imgUploadStatus</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldImgPath"</span><span class="o">))</span>
                    <span class="n">oldImgPath</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"oldFilePath"</span><span class="o">))</span>
                    <span class="n">oldFilePath</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"image"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ì´ë¯¸ì§€ íŒŒì¼ì¼ ë•Œ</span>
                <span class="c1">// ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ ì§€ì •</span>
                <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/images"</span><span class="o">));</span>
                <span class="nc">File</span> <span class="n">originDir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">dir</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s">"origins"</span><span class="o">);</span> <span class="c1">// ì›ë³¸ ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ</span>
                <span class="nc">File</span> <span class="n">thumbnailDir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">dir</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s">"thumbnails"</span><span class="o">);</span> <span class="c1">// ì¸ë„¤ì¼ ì €ì¥ ê²½ë¡œ</span>
				
                <span class="c1">// ê²½ë¡œê°€ ì—†ìœ¼ë©´ ìƒì„±</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">originDir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">originDir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">thumbnailDir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">thumbnailDir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
				
                <span class="nc">FilePart</span> <span class="n">filePart</span> <span class="o">=</span> <span class="o">(</span><span class="nc">FilePart</span><span class="o">)</span> <span class="n">part</span><span class="o">;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">{</span>
                    <span class="c1">// ì¤‘ë³µ íŒŒì¼ëª… ì²˜ë¦¬ - ì‹¤ì œ ì°¸ê³ í•  íŒŒì¼ì€ renameëœ íŒŒì¼ì´ë¦„ ì“°ê¸°</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">setRenamePolicy</span><span class="o">(</span><span class="k">new</span> <span class="nc">DefaultFileRenamePolicy</span><span class="o">());</span>

                    <span class="c1">// ì§€ì •í•œ ê²½ë¡œì— íŒŒì¼ ì“°ê¸°</span>
                    <span class="nc">String</span> <span class="n">file</span> <span class="o">=</span> <span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">();</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">writeTo</span><span class="o">(</span><span class="n">originDir</span><span class="o">);</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setImage_uid</span><span class="o">(</span><span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">());</span>
					
                    <span class="c1">// ì›ë³¸ ì´ë¯¸ì§€ íŒŒì¼ì„ ì´ìš©í•´ì„œ ì¸ë„¤ì¼ì„ ë§Œë“¤ì–´ ì €ì¥</span>
                    <span class="c1">// í¬ê¸° ì§€ì • í›„ ì§€ì • ê²½ë¡œì— ì €ì¥</span>
                    <span class="c1">// ì¸ë„¤ì¼ íŒŒì¼ëª…ì€ ì¤‘ë³µì²˜ë¦¬ëœ íŒŒì¼ëª…ê³¼ ê°™ê²Œ ë§Œë“ ë‹¤.</span>
                    <span class="nc">Thumbnails</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">originDir</span><span class="o">.</span><span class="na">getPath</span><span class="o">()</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">()))</span>
                        <span class="o">.</span><span class="na">size</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span> <span class="mi">400</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">toFiles</span><span class="o">(</span><span class="n">thumbnailDir</span><span class="o">,</span> <span class="nc">Rename</span><span class="o">.</span><span class="na">NO_CHANGE</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="k">else</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"img empty!"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"file"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ì¼ë°˜ íŒŒì¼ì¼ ë•Œ</span>
                <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/upload"</span><span class="o">));</span>
				
                <span class="c1">// ê²½ë¡œ ì—†ìœ¼ë©´ ìƒì„±</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
				
                <span class="nc">FilePart</span> <span class="n">filePart</span> <span class="o">=</span> <span class="o">(</span><span class="nc">FilePart</span><span class="o">)</span> <span class="n">part</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">file</span> <span class="o">=</span> <span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">file</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">{</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">setRenamePolicy</span><span class="o">(</span><span class="k">new</span> <span class="nc">DefaultFileRenamePolicy</span><span class="o">());</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">writeTo</span><span class="o">(</span><span class="n">dir</span><span class="o">);</span> <span class="c1">// ì§€ì •í•œ ê²½ë¡œì— íŒŒì¼ ì“°ê¸°</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setFile_uid</span><span class="o">(</span><span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">());</span>
                <span class="o">}</span>
                <span class="k">else</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"file empty!"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="c1">// ì‚¬ìš©ì ipì£¼ì†Œ ì €ì¥</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setIp</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getRemoteAddr</span><span class="o">());</span>
        
        <span class="k">if</span> <span class="o">(</span><span class="n">imgUploadStatus</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">imgUploadStatus</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"false"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ë“±ë¡ëœ ì´ë¯¸ì§€ë¥¼ ì‚­ì œí•˜ëŠ” ê²½ìš°</span>
                <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">);</span>
                <span class="nc">File</span> <span class="n">oldImg</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">oldImgPath</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">oldImg</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="n">oldImg</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span>
				
                <span class="c1">// ì¸ë„¤ì¼ë„ ì‚­ì œí•œë‹¤.</span>
                <span class="nc">File</span> <span class="n">oldThumbnail</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/thumbnail"</span><span class="o">)</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="n">oldImgName</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">oldThumbnail</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="n">oldThumbnail</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">else</span> 
            <span class="o">{</span>
                <span class="c1">// ì‚­ì œí•˜ì§€ ì•ŠëŠ” ê²½ìš°</span>
                <span class="c1">// ë§Œì•½ dtoì˜ íŒŒì¼ëª… í•„ë“œê°€ ë¹„ì–´ ìˆìœ¼ë©´ ê¸°ì¡´ íŒŒì¼ëª…ì„ ì €ì¥í•œë‹¤.</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="n">oldImgName</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="k">if</span> <span class="o">(</span><span class="n">fileUploadStatus</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">fileUploadStatus</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"false"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">);</span>
                <span class="nc">File</span> <span class="n">oldFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">oldFilePath</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">oldFile</span><span class="o">.</span><span class="na">exists</span><span class="o">())</span> <span class="n">oldFile</span><span class="o">.</span><span class="na">delete</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="k">else</span> 
            <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="n">oldFileName</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="k">return</span> <span class="n">dto</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>íŒŒì¼ëª…ì˜ ì¤‘ë³µì²˜ë¦¬ë¥¼ ì§€ì •í•´ ì¤€ ë‹¤ìŒ ì—…ë¡œë“œë˜ë©´ ì¤‘ë³µì²˜ë¦¬ëœ íŒŒì¼ëª…ì„ ë°›ì•„ì˜¨ë‹¤.</li>
  <li>ê²Œì‹œê¸€ì—ì„œ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ íŒŒì¼ëª…ê³¼ ì„œë²„ì—ì„œ ë‹¤ìš´ë¡œë“œ í•  ë•Œ ì°¸ê³ í•  íŒŒì¼ëª…ì„ ë”°ë¡œ ì €ì¥í•œë‹¤.</li>
  <li>ì‹¤ì œ ë‹¤ìš´ë¡œë“œê°€ ì´ë£¨ì–´ì§ˆ ë• ì„œë²„ì— ì—…ë¡œë“œ ëœ íŒŒì¼ëª…ì¸ <code class="language-plaintext highlighter-rouge">image_uid</code>, <code class="language-plaintext highlighter-rouge">file_uid</code>ë¥¼ ì°¸ê³ í•  ê²ƒì´ë‹¤.</li>
</ul>

<h2 id="boardcontentjsp">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;tr&gt;</span>
  <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"5"</span> <span class="na">style=</span><span class="s">"white-space:pre-wrap; word-wrap:break-word; word-break: break-all;"</span><span class="nt">&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getContent</span><span class="o">()</span> <span class="nt">%&gt;&lt;br&gt;&lt;br&gt;</span>
  <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage_uid</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage_uid</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
    <span class="c">&lt;!-- ì‹¤ì œ ì„œë²„ì— ì—…ë¡œë“œ ëœ íŒŒì¼ëª…ì´ ì¤‘ë³µë˜ë©´ ì´ë¦„ì´ ë°”ë€Œê¸° ë•Œë¬¸ì— ë°”ë€ íŒŒì¼ëª…ì„ ì°¸ì¡°í•´ì•¼ í•œë‹¤. --&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"./BoardImgAction.bo?img_name=</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage_uid</span><span class="o">().</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;%</span><span class="o">}</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;tr&gt;</span>
  <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;</span>ì²¨ë¶€íŒŒì¼<span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"3"</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- ì²¨ë¶€íŒŒì¼ì´ ìˆì„ ë•Œì—ë§Œ í•˜ì´í¼ë§í¬ ì—°ê²° --&gt;</span>
  <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile_uid</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">dto</span><span class="o">.</span><span class="na">getFile_uid</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
      ì—†ìŒ
  <span class="nt">&lt;%</span> <span class="o">}</span>
    <span class="k">else</span> <span class="o">{</span> <span class="nt">%&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./BoardFileDownloadAction.bo?file_name=</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile_uid</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="nt">%&gt;&lt;/a&gt;</span>
  <span class="nt">&lt;%</span><span class="o">}</span> <span class="nt">%&gt;</span>
  <span class="nt">&lt;/td&gt;</span>
<span class="nt">&lt;/tr&gt;</span>
</code></pre></div></div>

<ul>
  <li>ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” íŒŒì¼ëª…ì€ ì‚¬ìš©ìê°€ ì—…ë¡œë“œí–ˆë˜ íŒŒì¼ëª… ê·¸ëŒ€ë¡œ ì“°ì§€ë§Œ ì‹¤ì œ ì°¸ì¡°í•  íŒŒì¼ëª…ì€ ì¤‘ë³µì²˜ë¦¬ëœ íŒŒì¼ëª…ì„ ì‚¬ìš©í•œë‹¤.</li>
</ul>

<p align="center"><img src="../../assets/images/uploadedImg.png" width="300" /></p>

<ul>
  <li>ì—…ë¡œë“œ ë˜ëŠ” í´ë”ì— ì¤‘ë³µì²˜ë¦¬ë˜ì–´ ë“¤ì–´ê°€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>
  <li>ì´ì œ ë‚´ì¼ì´ ë°œí‘œë‹ˆê¹Œ ë°œí‘œìë£Œ ë§Œë“¤ì–´ì•¼ê² ë‹¤â€¦<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li>ë‚´ì¼ì´ ë°œí‘œë„¤â€¦</li>
  <li><code class="language-plaintext highlighter-rouge">D-1</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 27 - ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ íšŒì› ìƒì„¸ì •ë³´ ë³´ê¸° ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-27/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 27 - ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ íšŒì› ìƒì„¸ì •ë³´ ë³´ê¸° ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-04-05T00:00:00+09:00</published><updated>2022-04-05T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-27</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-27/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©">ì§„í–‰ìƒí™©</h1>
<ul>
  <li>ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ íšŒì› í•œ ëª…ì˜ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ê±°ê¸°ì—ì„œ ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="membermanagementjsp">memberManagement.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(!</span><span class="n">memberList</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span>
  <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">memberList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
    <span class="o">{</span> <span class="nt">%&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">name=</span><span class="s">"member"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;a</span> <span class="na">href=</span><span class="s">"./MemberInfoAction.me?id=</span><span class="nt">&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;&lt;/a&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getName</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getEmail</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getRegdate</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;%</span> <span class="o">}}</span> <span class="nt">%&gt;</span>
</code></pre></div></div>

<ul>
  <li>íšŒì› ëª©ë¡ì„ ë³´ëŠ” í˜ì´ì§€ì—ì„œ ì•„ì´ë””ë¥¼ í´ë¦­í•˜ë©´ í•´ë‹¹ íšŒì›ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="memberinfoactionjava">MemberInfoAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.member.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.member.db.MemberDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.member.db.MemberDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberInfoAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : MemberInfoAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// íŒŒë¼ë©”í„° ì €ì¥</span>
        <span class="nc">String</span> <span class="n">memberId</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
		
        <span class="c1">// DB ì ‘ì†í•´ì„œ íšŒì› ì •ë³´ ê°€ì ¸ì˜¤ê¸°</span>
        <span class="nc">MemberDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberDAO</span><span class="o">();</span>
        <span class="nc">MemberDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">getMember</span><span class="o">(</span><span class="n">memberId</span><span class="o">);</span>
		
        <span class="c1">// íšŒì›ì •ë³´ ì €ì¥</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"dto"</span><span class="o">,</span> <span class="n">dto</span><span class="o">);</span>

        <span class="c1">// íšŒì› ìƒì„¸ ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™</span>
        <span class="nc">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActionForward</span><span class="o">();</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">"./admin/memberInfo.jsp"</span><span class="o">);</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setRedirect</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
		
        <span class="k">return</span> <span class="n">forward</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>íšŒì› í•œ ëª…ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ ë’¤ <code class="language-plaintext highlighter-rouge">request</code> ì˜ì—­ì— ì €ì¥í•œë‹¤.</li>
  <li>ê·¸ ë‹¤ìŒ íšŒì› ìƒì„¸ ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="memberinfojsp">memberInfo.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"_r"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/leftNav.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al-o1 de-o2 de10"</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Page"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h3&gt;</span>íšŒì› ìƒì„¸ ì •ë³´<span class="nt">&lt;/h3&gt;&lt;br&gt;</span>
      <span class="nt">&lt;%</span>
      	<span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
      	<span class="k">if</span> <span class="o">(</span><span class="kc">null</span> <span class="o">==</span> <span class="n">id</span><span class="o">)</span>
      		<span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"./login.me"</span><span class="o">);</span>
      	
      	<span class="nc">MemberDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="o">(</span><span class="nc">MemberDTO</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"dto"</span><span class="o">);</span>
      	
      	<span class="nc">String</span><span class="o">[]</span> <span class="n">regdate</span> <span class="o">=</span> <span class="n">dto</span><span class="o">.</span><span class="na">getRegdate</span><span class="o">().</span><span class="na">toString</span><span class="o">().</span><span class="na">split</span><span class="o">(</span><span class="s">" "</span><span class="o">);</span>
      <span class="nt">%&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>íšŒì›ë²ˆí˜¸ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"memberNum"</span> <span class="na">id=</span><span class="s">"memberNum"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getMemberNum</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì•„ì´ë”” <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"id"</span> <span class="na">id=</span><span class="s">"id"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì´ë¦„ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_NameField"</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"name"</span> <span class="na">class=</span><span class="s">"name"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ìƒë…„ì›”ì¼ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_NameField"</span> <span class="na">type=</span><span class="s">"date"</span> <span class="na">name=</span><span class="s">"birth"</span> <span class="na">class=</span><span class="s">"birth"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getBirth</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ë‚˜ì´ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_NameField"</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"age"</span> <span class="na">class=</span><span class="s">"age"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span> <span class="na">disabled</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì„±ë³„ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">class=</span><span class="s">"radio"</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">name=</span><span class="s">"gender"</span> <span class="na">id=</span><span class="s">"gender"</span> <span class="na">value=</span><span class="s">"ë‚¨"</span>
          <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getGender</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"ë‚¨"</span><span class="o">))</span> <span class="o">{</span> <span class="nt">%&gt;</span> 
          <span class="na">checked</span>
          <span class="nt">&lt;%</span><span class="o">}</span> <span class="nt">%&gt;</span> <span class="na">readonly</span><span class="nt">&gt;&lt;label</span> <span class="na">class=</span><span class="s">"radioText"</span><span class="nt">&gt;</span>ë‚¨<span class="nt">&lt;/label&gt;</span> 
          <span class="nt">&lt;input</span> <span class="na">class=</span><span class="s">"radio"</span> <span class="na">id=</span><span class="s">"gender"</span> <span class="na">type=</span><span class="s">"radio"</span> <span class="na">name=</span><span class="s">"gender"</span> <span class="na">value=</span><span class="s">"ì—¬"</span>
          <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getGender</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"ì—¬"</span><span class="o">))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
          <span class="na">checked</span>
          <span class="nt">&lt;%</span><span class="o">}</span> <span class="nt">%&gt;</span> <span class="na">readonly</span><span class="nt">&gt;&lt;label</span> <span class="na">class=</span><span class="s">"radioText"</span><span class="nt">&gt;</span>ì—¬<span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ìš°í¸ë²ˆí˜¸ <span class="nt">&lt;/label&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">"phone"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"postalcode"</span> <span class="na">id=</span><span class="s">"postalcode"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getPostalcode</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
          <span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">id=</span><span class="s">"guide"</span> <span class="na">style=</span><span class="s">"color:#999;display:none"</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ë„ë¡œëª… ì£¼ì†Œ <span class="nt">&lt;/label&gt;</span>
          <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"roadAddress"</span> <span class="na">name=</span><span class="s">"roadAddress"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getRoad_address</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ìƒì„¸ ì£¼ì†Œ <span class="nt">&lt;/label&gt;</span>
		  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"detailAddress"</span> <span class="na">name=</span><span class="s">"detailAddress"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getDetail_address</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span> <span class="na">id=</span><span class="s">"phoneArea"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_TelField"</span><span class="nt">&gt;</span>íœ´ëŒ€í° ë²ˆí˜¸ <span class="nt">&lt;/label&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">class=</span><span class="s">"phone"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"phone1"</span> <span class="na">type=</span><span class="s">"tel"</span> <span class="na">name=</span><span class="s">"phone1"</span> <span class="na">size=</span><span class="s">"1"</span> <span class="na">maxlength=</span><span class="s">"3"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getPhone</span><span class="o">().</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">oninput=</span><span class="s">"tabCursor(1)"</span> <span class="na">readonly</span><span class="nt">&gt;</span> - 
          <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"phone2"</span> <span class="na">type=</span><span class="s">"tel"</span> <span class="na">name=</span><span class="s">"phone2"</span> <span class="na">size=</span><span class="s">"3"</span> <span class="na">maxlength=</span><span class="s">"4"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getPhone</span><span class="o">().</span><span class="na">substring</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">7</span><span class="o">)</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">oninput=</span><span class="s">"tabCursor(2)"</span> <span class="na">readonly</span><span class="nt">&gt;</span> - 
          <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"phone3"</span> <span class="na">type=</span><span class="s">"tel"</span> <span class="na">name=</span><span class="s">"phone3"</span> <span class="na">size=</span><span class="s">"3"</span> <span class="na">maxlength=</span><span class="s">"4"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getPhone</span><span class="o">().</span><span class="na">substring</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span> <span class="mi">11</span><span class="o">)</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
          <span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_EmailField"</span><span class="nt">&gt;</span>ì´ë©”ì¼ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"email"</span> <span class="na">name=</span><span class="s">"email"</span> <span class="na">id=</span><span class="s">"email"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getEmail</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"emailMsg"</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ê°€ì…ì¼ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"regdate"</span> <span class="na">id=</span><span class="s">"regdate"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">regdate</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">readonly</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"./AdminDeleteAction.me"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"member"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn"</span><span class="nt">&gt;</span>íšŒì›ì‚­ì œ<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/form&gt;&lt;br&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"btn"</span> <span class="na">onclick=</span><span class="s">"history.back();"</span><span class="nt">&gt;</span>íšŒì› ëª©ë¡ ë³´ê¸°<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<ul>
  <li>íšŒì› ìƒì„¸ ì •ë³´ í˜ì´ì§€ëŠ” ë§ˆì´í˜ì´ì§€ì™€ ë™ì¼í•œ ë ˆì´ì•„ì›ƒì´ë˜, ê° ì •ë³´ë¥¼ ê´€ë¦¬ìê°€ ìˆ˜ì •í•  í•„ìš”ëŠ” ì—†ê¸° ë•Œë¬¸ì— ëª¨ë‘ <code class="language-plaintext highlighter-rouge">readonly</code>ë¥¼ ê±¸ì—ˆë‹¤.</li>
  <li>í•˜ë‹¨ì— ìˆëŠ” <code class="language-plaintext highlighter-rouge">íšŒì›ì‚­ì œ</code> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ íšŒì›ì„ ì‚­ì œí•  ìˆ˜ ìˆë‹¤. ì‚­ì œ ë¡œì§ì€ ì´ì „ ì¼ì§€ì—ì„œ ë§Œë“¤ì—ˆë˜ ê²ƒê³¼ ë™ì¼í•˜ë‹¤.</li>
  <li>ì°¸ê³  : <a href="https://miro7923.github.io/project%20log/cafe-project-26/">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 26 - ê´€ë¦¬ì í˜ì´ì§€ + íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€</a></li>
  <li><code class="language-plaintext highlighter-rouge">íšŒì› ëª©ë¡ ë³´ê¸°</code> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì´ì „ í˜ì´ì§€ë¡œ ë˜ëŒì•„ ê°„ë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li>ë§ˆê° ê¸°í•œì´ ëŠ˜ì–´ë‚¬ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">D-2</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 28 - ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ê²Œì‹œê¸€ ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-28/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 28 - ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ê²Œì‹œê¸€ ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-04-05T00:00:00+09:00</published><updated>2022-04-05T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-28</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-28/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©-1">ì§„í–‰ìƒí™© 1</h1>
<ul>
  <li>ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ì „ì²´ ê²Œì‹œê¸€ ëª©ë¡ì„ í™•ì¸í•˜ê³  ì—¬ëŸ¬ ê°œë¥¼ ì„ íƒí•´ì„œ ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="boardmanagementjsp">boardManagement.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"_r"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/adminLeftNav.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al-o1 de-o2 de10"</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Page"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h3&gt;</span>ê²Œì‹œê¸€ ê´€ë¦¬ í˜ì´ì§€<span class="nt">&lt;/h3&gt;</span>
      <span class="nt">&lt;p</span> <span class="na">style=</span><span class="s">"font-size: medium;"</span><span class="nt">&gt;</span>ê¸€ ì œëª©ì„ í´ë¦­í•˜ë©´ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<span class="nt">&lt;/p&gt;&lt;br&gt;</span>
      <span class="nt">&lt;%</span>
      	<span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
      	<span class="k">if</span> <span class="o">(</span><span class="kc">null</span> <span class="o">==</span> <span class="n">id</span><span class="o">)</span>
            <span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"./login.me"</span><span class="o">);</span>
      	<span class="k">else</span> 
      	<span class="o">{</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"admin"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ê´€ë¦¬ì ê³„ì •ì´ ì•„ë‹ˆë©´ ì«“ì•„ë‚´ê¸°</span>
                <span class="n">session</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"./login.me"</span><span class="o">);</span>
            <span class="o">}</span>
      	<span class="o">}</span>
      	
        <span class="kt">int</span> <span class="n">postCnt</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"postCnt"</span><span class="o">);</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="err">&gt;</span> <span class="n">postList</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="err">&gt;</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"postList"</span><span class="o">);</span>
    	
        <span class="nc">String</span> <span class="n">pageNum</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"pageNum"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">pageCnt</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"pageCnt"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">pageBlockCnt</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"pageBlockCnt"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">startBlock</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"startBlock"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">endBlock</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"endBlock"</span><span class="o">);</span>
      <span class="nt">%&gt;</span>
      <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"./AdminDeleteAction.bo"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">onsubmit=</span><span class="s">"return finalCheck();"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"type09"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;tbody&gt;</span>
            <span class="nt">&lt;colgroup&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">"5%"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">"10%"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">"40%"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">"15%"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">""</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/colgroup&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
              <span class="nt">&lt;th&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"selectAll"</span><span class="nt">&gt;&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>ê¸€ë²ˆí˜¸<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>ê¸€ì œëª©<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>ê¸€ì“´ì´<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>ì‘ì„±ì¼<span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(!</span><span class="n">boardList</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span>
              <span class="o">{</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">boardList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
                  <span class="o">{</span> <span class="nt">%&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
              <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">name=</span><span class="s">"post"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">postList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">postList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;&lt;a</span> <span class="na">href=</span><span class="s">"./BoardContent.bo?num=</span><span class="nt">&lt;%=</span><span class="n">postList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">&amp;pageNum=1"</span><span class="nt">&gt;&lt;%=</span><span class="n">postList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getTitle</span><span class="o">()</span> <span class="nt">%&gt;&lt;/a&gt;&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">postList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">postList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getDate</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;%</span> <span class="o">}}</span> <span class="nt">%&gt;</span>
          <span class="nt">&lt;/tbody&gt;</span>
        <span class="nt">&lt;/table&gt;&lt;br&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"boardPage"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">startBlock</span> <span class="err">&gt;</span> <span class="n">pageBlockCnt</span><span class="o">)</span> <span class="o">{</span> <span class="nt">%&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./BoardList.bo?flag=a&amp;pageNum=</span><span class="nt">&lt;%=</span><span class="n">startBlock</span> <span class="o">-</span> <span class="n">pageBlockCnt</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>[ì´ì „]<span class="nt">&lt;/a&gt;</span>
          <span class="nt">&lt;%</span><span class="o">}</span> <span class="nt">%&gt;</span>
			
          <span class="nt">&lt;%</span><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">startBlock</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">endBlock</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span> <span class="nt">%&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./BoardList.bo?flag=a&amp;pageNum=</span><span class="nt">&lt;%=</span><span class="n">i</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>[<span class="nt">&lt;%=</span><span class="n">i</span> <span class="nt">%&gt;</span>]<span class="nt">&lt;/a&gt;</span>
          <span class="nt">&lt;%</span><span class="o">}</span> <span class="nt">%&gt;</span>
			
          <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">endBlock</span> <span class="err">&gt;</span> <span class="n">pageBlockCnt</span><span class="o">)</span> <span class="o">{</span> <span class="nt">%&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./BoardList.bo?flag=a&amp;pageNum=</span><span class="nt">&lt;%=</span><span class="n">startBlock</span> <span class="o">+</span> <span class="n">pageBlockCnt</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>[ë‹¤ìŒ]<span class="nt">&lt;/a&gt;</span>
          <span class="nt">&lt;%</span><span class="o">}</span> <span class="nt">%&gt;</span>
		<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn"</span><span class="nt">&gt;</span>ê²Œì‹œê¸€ ì‚­ì œ<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/form&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<ul>
  <li>ì „ì²´ íšŒì› ëª©ë¡ì„ ë³´ëŠ” í˜ì´ì§€ì˜ ë ˆì´ì•„ì›ƒì„ ì•½ê°„ ìˆ˜ì •í•´ì„œ ë§Œë“¤ì—ˆë‹¤.</li>
  <li>ì„ íƒí•´ì„œ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì´ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">javascript</code> ì½”ë“œëŠ” íšŒì› ëª©ë¡ í˜ì´ì§€ì˜ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì¼ë‹¤.</li>
  <li>ê¸°ì¡´ì— ë§Œë“¤ì—ˆë˜ ììœ ê²Œì‹œíŒì˜ í˜ì´ì§• ê¸°ëŠ¥ì„ ê·¸ëŒ€ë¡œ ì“¸ ê²ƒì´ê¸° ë•Œë¬¸ì— ìŠ¤í¬ë¦½í‹€ë¦¿ì˜ ì½”ë“œë„ ê²Œì‹œê¸€ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ì˜ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì¼ë‹¤.</li>
</ul>

<h2 id="adminleftnavjsp">adminLeftNav.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al16 al-o2 de-o1 de6 ec4"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Menu"</span> <span class="na">data-theme=</span><span class="s">"_bo2"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Menutitle"</span> <span class="na">data-theme=</span><span class="s">"_bgs"</span><span class="nt">&gt;</span>Menu<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"./MemberListAction.me"</span><span class="nt">&gt;</span>íšŒì›ê´€ë¦¬<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"./BoardList.bo?flag=a"</span><span class="nt">&gt;</span>ê²Œì‹œê¸€ ê´€ë¦¬<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ê´€ë¦¬ ë©”ë‰´ë¥¼ í´ë¦­í•˜ë©´ ê²Œì‹œê¸€ ì „ì²´ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
  <li>ê¸°ì¡´ì— ë§Œë“¤ì—ˆë˜ ê²Œì‹œê¸€ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì„œë¸”ë¦¿ì„ ì¬í™œìš© í•  ê²ƒì´ê¸° ë•Œë¬¸ì— íŒŒë¼ë¯¸í„°ë¡œ í•¨ê»˜ ë³´ë‚´ëŠ” <code class="language-plaintext highlighter-rouge">flag</code>ë¡œ ìµœì¢…ì ìœ¼ë¡œ ì´ë™í•  ë·° í˜ì´ì§€ë¥¼ ê²°ì •í•œë‹¤.</li>
</ul>

<h2 id="boardmanagementactionjava">BoardManagementAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardListAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardListAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// ì–´ë””ë¡œ ì´ë™í•  ì§€ ê²°ì •í•˜ëŠ” ì •ë³´ ë°›ì•„ì˜¤ê¸°</span>
        <span class="c1">// a : ê´€ë¦¬ììš© ê²Œì‹œê¸€ ê´€ë¦¬ í˜ì´ì§€</span>
        <span class="c1">// n : ì¼ë°˜ ê²Œì‹œíŒ</span>
        <span class="nc">String</span> <span class="n">flag</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"flag"</span><span class="o">);</span>
		
        <span class="c1">// .. ì¤‘ê°„ ìƒëµ</span>
		
        <span class="c1">// í˜ì´ì§€ ì´ë™</span>
        <span class="nc">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActionForward</span><span class="o">();</span>
		
        <span class="k">if</span> <span class="o">(</span><span class="n">flag</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"a"</span><span class="o">))</span>
        <span class="o">{</span>
            <span class="n">forward</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">"./admin/boardManagement.jsp"</span><span class="o">);</span>
            <span class="n">forward</span><span class="o">.</span><span class="na">setRedirect</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">else</span> 
        <span class="o">{</span>
            <span class="n">forward</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">"./contents/boardList.jsp"</span><span class="o">);</span>
            <span class="n">forward</span><span class="o">.</span><span class="na">setRedirect</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>			
        <span class="o">}</span>
		
        <span class="k">return</span> <span class="n">forward</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë¶€ë¶„ì€ ììœ ê²Œì‹œíŒì—ì„œ ì‚¬ìš©í–ˆë˜ ê²ƒì„ ì¡°ê¸ˆ ìˆ˜ì •í•´ì„œ ì¬í™œìš©í–ˆë‹¤.</li>
  <li>ë§¤í•‘ëœ ì£¼ì†Œë¡œ ì´ë™í•  ë•Œ í•¨ê»˜ ë°›ì•„ì˜¨ <code class="language-plaintext highlighter-rouge">flag</code> ê°’ìœ¼ë¡œ ì´ë™í•  ë·° í˜ì´ì§€ë¥¼ êµ¬ë¶„í•œ ë’¤ ììœ ê²Œì‹œíŒê³¼ ê´€ë¦¬ììš© ê²Œì‹œê¸€ ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.</li>
  <li>
    <p>ìƒëµí•œ ì½”ë“œëŠ” <a href="https://miro7923.github.io/project%20log/cafe-project-12/">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 12 - ê²Œì‹œíŒ ê¸€ì“°ê¸° ê¸°ëŠ¥ ë§Œë“¤ê¸°</a> ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
  </li>
  <li>ê²Œì‹œê¸€ ëª©ë¡ì„ ëª¨ë‘ ë¶ˆëŸ¬ì˜¤ê³  ë‚˜ë©´ ê²Œì‹œê¸€ ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<p align="center"><img src="../../assets/images/boardManagementPage.png" width="600" /></p>
<p><br /><br /></p>

<h1 id="ì§„í–‰ìƒí™©-2">ì§„í–‰ìƒí™© 2</h1>
<ul>
  <li>ì„ íƒí•œ ê²Œì‹œê¸€ì„ ì¼ê´„ ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
  <li>ì‚­ì œí•  ê²Œì‹œê¸€ë“¤ì„ ì„ íƒí•œ ë‹¤ìŒ ê²Œì‹œê¸€ ê´€ë¦¬ í˜ì´ì§€ í•˜ë‹¨ì˜ <code class="language-plaintext highlighter-rouge">ê²Œì‹œê¸€ ì‚­ì œ</code> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì¼ê´„ ì‚­ì œ ë™ì‘ì„ ìˆ˜í–‰í•  ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="admindeleteactionjava">AdminDeleteAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdminDeleteAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : AdminDeleteAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// íŒŒë¼ë©”í„° ë°›ê¸°</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">params</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameterValues</span><span class="o">(</span><span class="s">"post"</span><span class="o">);</span>
		
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">postNums</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">p</span> <span class="o">:</span> <span class="n">params</span><span class="o">)</span>
            <span class="n">postNums</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">p</span><span class="o">));</span>
		
        <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/html; charset=utf-8"</span><span class="o">);</span>
        <span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;script&gt;"</span><span class="o">);</span>
		
        <span class="c1">// DB ì ‘ì†í•´ì„œ ì„ íƒëœ ê¸€ë“¤ ì‚­ì œ</span>
        <span class="nc">BoardDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDAO</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">p</span> <span class="o">:</span> <span class="n">postNums</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">deletePost</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">!=</span> <span class="mi">1</span><span class="o">)</span>
            <span class="o">{</span>
                <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"alert('ì˜ëª»ëœ ì ‘ê·¼!');"</span><span class="o">);</span>
                <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"history.back()"</span><span class="o">);</span>
                <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
				
                <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
				
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="c1">// ê²Œì‹œê¸€ ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"alert('ì„ íƒí•œ ê²Œì‹œê¸€ ì‚­ì œê°€ ì™„ë£Œ ë˜ì—ˆìŠµë‹ˆë‹¤.');"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"location.href='./BoardList.bo?flag=a';"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
		
        <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>íšŒì›ê³¼ ê´€ë ¨ëœ í´ë˜ìŠ¤ë“¤ê³¼ ê²Œì‹œê¸€ê³¼ ê´€ë ¨ëœ í´ë˜ìŠ¤ë“¤ì„ ê°ê° ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë¡œ ëª¨ì•„ë†“ì•˜ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ëª…ì€ íšŒì› ê´€ë¦¬í•  ë•Œ ì¼ë˜ ê²ƒê³¼ ê°™ì´ ì¼ë‹¤.</li>
  <li>ê²Œì‹œê¸€ ê´€ë¦¬ í˜ì´ì§€ë¡œ ëŒì•„ì˜¤ë©´ ì—…ë°ì´íŠ¸ ëœ ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆë‹¤.<br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©-3">ì§„í–‰ìƒí™© 3</h1>
<ul>
  <li>ê²Œì‹œê¸€ í•˜ë‚˜ì˜ ë‚´ìš©ì„ í™•ì¸í•˜ê³  ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="boardmanagementjsp-1">boardManagement.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(!</span><span class="n">boardList</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span>
  <span class="o">{</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">boardList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
    <span class="o">{</span> <span class="nt">%&gt;</span>
      <span class="nt">&lt;tr&gt;</span>
        <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">name=</span><span class="s">"post"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">boardList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">boardList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;a</span> <span class="na">href=</span><span class="s">"./BoardContent.bo?num=</span><span class="nt">&lt;%=</span><span class="n">boardList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">&amp;pageNum=1"</span><span class="nt">&gt;&lt;%=</span><span class="n">boardList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getTitle</span><span class="o">()</span> <span class="nt">%&gt;&lt;/a&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">boardList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">boardList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getDate</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
      <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;%</span> <span class="o">}}</span> <span class="nt">%&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ì œëª©ì„ í´ë¦­í•˜ë©´ ê²Œì‹œê¸€ ë³¸ë¬¸ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë§í¬ë¥¼ ê±¸ì–´ì£¼ì—ˆë‹¤.</li>
</ul>

<h2 id="boardcontentjsp">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- ë³¸ì¸ ê¸€ ì¼ë•Œë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ --&gt;</span>
<span class="c">&lt;!-- ê´€ë¦¬ìëŠ” ì‚­ì œë§Œ ê°€ëŠ¥ --&gt;</span>
<span class="nt">&lt;%</span><span class="k">if</span> <span class="o">((</span><span class="n">id</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()))</span> <span class="o">||</span> <span class="o">(</span><span class="n">id</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"admin"</span><span class="o">)))</span> 
  <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
      <span class="nt">&lt;span&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:void(0);"</span> <span class="na">onclick=</span><span class="s">"showCommentBox(</span><span class="nt">&lt;%=</span><span class="n">i</span> <span class="nt">%&gt;</span><span class="s">);"</span> <span class="na">id=</span><span class="s">"modify"</span><span class="nt">&gt;</span>ìˆ˜ì •<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
    <span class="nt">&lt;span&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:void(0);"</span> <span class="na">onclick=</span><span class="s">"confirmDelete(</span><span class="nt">&lt;%=</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">, </span><span class="nt">&lt;%=</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getPost_num</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">, </span><span class="nt">&lt;%=</span><span class="n">pageNum</span><span class="nt">%&gt;</span><span class="s">);"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê´€ë¦¬ìëŠ” ì‚­ì œë§Œ í•  ìˆ˜ ìˆë„ë¡ ì¡°ê±´ ì œí•œì„ í•´ ì£¼ì—ˆë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li>ë§ˆê° ê¸°í•œì´ ëŠ˜ì–´ë‚¬ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">D-2</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 26 - ê´€ë¦¬ì í˜ì´ì§€ + íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-26/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 26 - ê´€ë¦¬ì í˜ì´ì§€ + íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-04-04T00:00:00+09:00</published><updated>2022-04-04T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-26</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-26/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©-1">ì§„í–‰ìƒí™© 1</h1>
<ul>
  <li>ê´€ë¦¬ì í˜ì´ì§€ë¥¼ ì¶”ê°€í–ˆë‹¤.</li>
  <li>ê´€ë¦¬ì ì•„ì´ë””ì¸ <code class="language-plaintext highlighter-rouge">admin</code>ìœ¼ë¡œ ë¡œê·¸ì¸ í–ˆì„ ë•Œì—ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<h2 id="topjsp">top.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"MOD_HEADER1_Phone"</span><span class="nt">&gt;</span>
<span class="nt">&lt;%</span>
    <span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span><span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
		
    <span class="k">if</span> <span class="o">(</span><span class="kc">null</span> <span class="o">==</span> <span class="n">id</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="nt">%&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./login.me"</span><span class="nt">&gt;</span>ë¡œê·¸ì¸<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;nbsp;&amp;nbsp;&amp;nbsp;</span>
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./join.me"</span><span class="nt">&gt;</span>íšŒì›ê°€ì…<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;%</span>
    <span class="o">}</span>
    <span class="k">else</span> 
    <span class="o">{</span>
        <span class="nt">%&gt;</span>
          <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./logout.me"</span><span class="nt">&gt;</span>ë¡œê·¸ì•„ì›ƒ<span class="nt">&lt;/a&gt;</span><span class="ni">&amp;nbsp;&amp;nbsp;&amp;nbsp;</span>
        <span class="nt">&lt;%</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"admin"</span><span class="o">))</span>
        <span class="o">{</span>
            <span class="nt">%&gt;</span>
              <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./admin.me"</span><span class="nt">&gt;</span>ê´€ë¦¬ì í˜ì´ì§€<span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;%</span>
        <span class="o">}</span>
        <span class="k">else</span>
        <span class="o">{</span>
            <span class="nt">%&gt;</span>
              <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./checkPass.me"</span><span class="nt">&gt;</span>ë§ˆì´í˜ì´ì§€<span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;%</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="nt">%&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<ul>
  <li>ì„¸ì…˜ì— ì €ì¥ëœ ì•„ì´ë”” ì •ë³´ê°€ <code class="language-plaintext highlighter-rouge">admin</code>ì¼ ë•Œë§Œ ê´€ë¦¬ì í˜ì´ì§€ ë²„íŠ¼ì´ í™œì„±í™”ëœë‹¤.</li>
</ul>

<h2 id="adminjsp">admin.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"_r"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/adminLeftNav.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al-o1 de-o2 de10"</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Page"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h3&gt;</span>ê´€ë¦¬ì í˜ì´ì§€<span class="nt">&lt;/h3&gt;&lt;br&gt;</span>
      <span class="nt">&lt;%</span>
      	<span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
      	<span class="k">if</span> <span class="o">(</span><span class="kc">null</span> <span class="o">==</span> <span class="n">id</span><span class="o">)</span>
            <span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"./login.me"</span><span class="o">);</span>
      	<span class="k">else</span> 
      	<span class="o">{</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"admin"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ê´€ë¦¬ì ê³„ì •ì´ ì•„ë‹ˆë©´ ì«“ì•„ë‚´ê¸°</span>
                <span class="n">session</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"./login.me"</span><span class="o">);</span>
            <span class="o">}</span>
      	<span class="o">}</span>
      <span class="nt">%&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ê´€ë¦¬ìë‹˜ í™˜ì˜í•©ë‹ˆë‹¤. <span class="nt">&lt;/label&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸í•˜ë©´ ê´€ë¦¬ì ì „ìš© í˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©° ë§Œì•½ ê´€ë¦¬ìê°€ ì•„ë‹Œ ì‚¬ìš©ìê°€ ì ‘ê·¼í•˜ë©´ ì„¸ì…˜ ì •ë³´ë¥¼ ì´ˆê¸°í™”í•˜ê³  ì«“ì•„ë‚¸ë‹¤.</li>
</ul>

<h2 id="adminleftnavjsp">adminLeftNav.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al16 al-o2 de-o1 de6 ec4"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Menu"</span> <span class="na">data-theme=</span><span class="s">"_bo2"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Menutitle"</span> <span class="na">data-theme=</span><span class="s">"_bgs"</span><span class="nt">&gt;</span>Menu<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;ul&gt;</span>
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"./MemberListAction.me"</span><span class="nt">&gt;</span>íšŒì›ê´€ë¦¬<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>ê²Œì‹œê¸€ ê´€ë¦¬<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="nt">&lt;/ul&gt;</span>
  <span class="nt">&lt;/nav&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê´€ë¦¬ì ë©”ë‰´ìš© ì‚¬ì´ë“œ ë©”ë‰´ë„ ë”°ë¡œ ë§Œë“¤ì—ˆë‹¤.<br /><br /></li>
</ul>

<p align="center"><img src="../../assets/images/adminPageMain.png" width="500" /></p>

<ul>
  <li>íšŒì›ê´€ë¦¬ ë©”ë‰´ë¥¼ ëˆ„ë¥´ë©´ ë¨¼ì € íšŒì› ì „ì²´ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ì„œ í•´ë‹¹ ë™ì‘ì„ ìˆ˜í–‰í•  ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="memberlistactionjava">MemberListAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.member.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.member.db.MemberDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.member.db.MemberDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberListAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : MemberListAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// í•œê¸€ì²˜ë¦¬</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
		
        <span class="c1">// DBì—ì„œ ì „ì²´ íšŒì› ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°</span>
        <span class="nc">MemberDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberDAO</span><span class="o">();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">MemberDTO</span><span class="o">&gt;</span> <span class="n">memberList</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">getMemberList</span><span class="o">();</span>
		
        <span class="c1">// requestì— ì €ì¥</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"memberList"</span><span class="o">,</span> <span class="n">memberList</span><span class="o">);</span>
		
        <span class="c1">// í˜ì´ì§€ ì´ë™</span>
        <span class="nc">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActionForward</span><span class="o">();</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">"./admin/memberManagement.jsp"</span><span class="o">);</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setRedirect</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
		
        <span class="k">return</span> <span class="n">forward</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>íšŒì› ì „ì²´ ëª©ë¡ì„ ì„¸ì…˜ì— ì €ì¥í•œ í›„ íšŒì›ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="memberdaojava---getmemberlist">MemberDAO.java - getMemberList()</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">MemberDTO</span><span class="o">&gt;</span> <span class="nf">getMemberList</span><span class="o">()</span>
<span class="o">{</span>
    <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">MemberDTO</span><span class="o">&gt;</span> <span class="n">memberList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">MemberDTO</span><span class="o">&gt;();</span>
		
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">getCon</span><span class="o">();</span>
			
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"select * from cafe_members where id != 'admin'"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
        <span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
        <span class="o">{</span>
            <span class="nc">MemberDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberDTO</span><span class="o">();</span>
				
            <span class="n">dto</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"address"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"age"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setBirth</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getDate</span><span class="o">(</span><span class="s">"birth"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"email"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setGender</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"gender"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"id"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setMemberNum</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"member_num"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"name"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setPhone</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"phone"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setPostalcode</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"postalcode"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setRegdate</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getTimestamp</span><span class="o">(</span><span class="s">"regdate"</span><span class="o">));</span>
				
            <span class="n">memberList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">dto</span><span class="o">);</span>
        <span class="o">}</span>
			
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : íšŒì› ì „ì²´ ëª©ë¡ ì €ì¥ ì™„ë£Œ"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">finally</span> <span class="o">{</span>
        <span class="nc">CloseDB</span><span class="o">();</span>
    <span class="o">}</span>
		
    <span class="k">return</span> <span class="n">memberList</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì „ì²´ íšŒì› ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.</li>
  <li>í•˜ì§€ë§Œ ê´€ë¦¬ì ì •ë³´ëŠ” ë³´ì—¬ì¤„ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ì œì™¸í•˜ê³  ë¶ˆëŸ¬ì˜¨ë‹¤.</li>
</ul>

<h2 id="membermanagementjsp">memberManagement.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"_r"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/adminLeftNav.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al-o1 de-o2 de10"</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Page"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h3&gt;</span>íšŒì›ê´€ë¦¬ í˜ì´ì§€<span class="nt">&lt;/h3&gt;&lt;br&gt;</span>
      <span class="nt">&lt;%</span>
      	<span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
      	<span class="k">if</span> <span class="o">(</span><span class="kc">null</span> <span class="o">==</span> <span class="n">id</span><span class="o">)</span>
            <span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"./login.me"</span><span class="o">);</span>
      	<span class="k">else</span> 
      	<span class="o">{</span>
            <span class="k">if</span> <span class="o">(!</span><span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"admin"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ê´€ë¦¬ì ê³„ì •ì´ ì•„ë‹ˆë©´ ì«“ì•„ë‚´ê¸°</span>
                <span class="n">session</span><span class="o">.</span><span class="na">invalidate</span><span class="o">();</span>
                <span class="n">response</span><span class="o">.</span><span class="na">sendRedirect</span><span class="o">(</span><span class="s">"./login.me"</span><span class="o">);</span>
            <span class="o">}</span>
      	<span class="o">}</span>
      	
      	<span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">MemberDTO</span><span class="err">&gt;</span> <span class="n">memberList</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">MemberDTO</span><span class="err">&gt;</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"memberList"</span><span class="o">);</span>
      <span class="nt">%&gt;</span>
      <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"./AdminDeleteAction.me"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">onsubmit=</span><span class="s">"return finalCheck();"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;table</span> <span class="na">class=</span><span class="s">"type09"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;tbody&gt;</span>
            <span class="nt">&lt;colgroup&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">"5%"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">"10%"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">"10%"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">"35%"</span><span class="nt">&gt;</span>
              <span class="nt">&lt;col</span> <span class="na">width=</span><span class="s">""</span><span class="nt">&gt;</span>
            <span class="nt">&lt;/colgroup&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
              <span class="nt">&lt;th&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">id=</span><span class="s">"selectAll"</span><span class="nt">&gt;&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>ì•„ì´ë””<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>ì´ë¦„<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>ì´ë©”ì¼<span class="nt">&lt;/th&gt;</span>
              <span class="nt">&lt;th&gt;</span>ê°€ì…ì¼<span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(!</span><span class="n">memberList</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span>
              <span class="o">{</span>
                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">memberList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
                  <span class="o">{</span> <span class="nt">%&gt;</span>
            <span class="nt">&lt;tr&gt;</span>
              <span class="nt">&lt;td&gt;&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">name=</span><span class="s">"member"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getName</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getEmail</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
              <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">memberList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getRegdate</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;/tr&gt;</span>
            <span class="nt">&lt;%</span> <span class="o">}}</span> <span class="nt">%&gt;</span>
          <span class="nt">&lt;/tbody&gt;</span>
        <span class="nt">&lt;/table&gt;&lt;br&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn"</span><span class="nt">&gt;</span>íšŒì› ì‚­ì œ<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/form&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<ul>
  <li>ì•„ê¹Œ ì„¸ì…˜ì— ì €ì¥í–ˆë˜ íšŒì›ëª©ë¡ì„ í† ëŒ€ë¡œ íšŒì›ë“¤ì„ ì¶œë ¥í•´ì„œ ë³´ì—¬ì¤€ë‹¤.</li>
</ul>

<p align="center"><img src="../../assets/images/memberManagementPage.png" /></p>

<ul>
  <li>íšŒì› ì‚­ì œ ë™ì‘ì„ í…ŒìŠ¤íŠ¸ í•œë‹¤ê³  ì¢€ ì‚­ì œí–ˆë”ë‹ˆ íšŒì›ì´ ë§ì´ ì¤„ì—ˆë‹¤. ğŸ˜…</li>
</ul>

<h2 id="membermanagementjs">memberManagement.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nx">selectAll</span><span class="p">();</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">selectAll</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// ì „ì²´ ì„ íƒ / í•´ì œ</span>
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#selectAll</span><span class="dl">'</span><span class="p">).</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
    <span class="p">{</span>		
        <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#selectAll</span><span class="dl">'</span><span class="p">).</span><span class="nx">is</span><span class="p">(</span><span class="dl">'</span><span class="s1">:checked</span><span class="dl">'</span><span class="p">))</span>
            <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">input:checkbox[name=member]</span><span class="dl">'</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="dl">'</span><span class="s1">checked</span><span class="dl">'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
        <span class="k">else</span> 
            <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">input:checkbox[name=member]</span><span class="dl">'</span><span class="p">).</span><span class="nx">prop</span><span class="p">(</span><span class="dl">'</span><span class="s1">checked</span><span class="dl">'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">finalCheck</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">input:checkbox[name=member]:checked</span><span class="dl">'</span><span class="p">).</span><span class="nx">length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ì„ íƒëœ ì—˜ë¦¬ë¨¼íŠ¸ê°€ ì—†ìœ¼ë©´ ì‚­ì œí•  íšŒì›ì´ ì—†ìŒ</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì„ íƒëœ íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤!</span><span class="dl">'</span><span class="p">);</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> 
    <span class="p">{</span>
        <span class="c1">// ì„ íƒëœ íšŒì›ì´ ìˆì„ ë•Œ</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì„ íƒí•œ íšŒì›ë“¤ì„ íƒˆí‡´ ì‹œí‚¤ê² ìŠµë‹ˆê¹Œ?</span><span class="dl">'</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
        <span class="k">else</span> 
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>í…Œì´ë¸”ì˜ ë§¨ ìœ„ì— ìˆëŠ” ì²´í¬ë°•ìŠ¤ë¥¼ ëˆ„ë¥´ë©´ ì „ì²´ ì„ íƒê³¼ í—¤ì¬ê°€ ê°€ëŠ¥í•˜ë‹¤.</li>
  <li>ì‚­ì œ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œì—” <code class="language-plaintext highlighter-rouge">finalCheck()</code> ë©”ì„œë“œë¥¼ í†µí•´ ë™ì‘ ë¶„ê¸°ë¥¼ ë‚˜ëˆ„ì—ˆë‹¤.<br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©-2">ì§„í–‰ìƒí™© 2</h1>
<ul>
  <li>ê´€ë¦¬ìê°€ íšŒì›ì„ ì¼ê´„ ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="admindeleteactionjava">AdminDeleteAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.member.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.member.db.MemberDAO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdminDeleteAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : AdminDeleteAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// íŒŒë¼ë¯¸í„° ì €ì¥</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">members</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameterValues</span><span class="o">(</span><span class="s">"member"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"members size: "</span><span class="o">+</span><span class="n">members</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
		
        <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/html; charset=utf-8"</span><span class="o">);</span>
        <span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
		
        <span class="c1">// DB ì ‘ì†í•´ì„œ ì‚­ì œ ì—°ì‚°</span>
        <span class="nc">MemberDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MemberDAO</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">id</span> <span class="o">:</span> <span class="n">members</span><span class="o">)</span> 
        <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"id: "</span><span class="o">+</span><span class="n">id</span><span class="o">);</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">deleteMember</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">result</span> <span class="o">!=</span> <span class="mi">1</span><span class="o">)</span>
            <span class="o">{</span>
                <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;script&gt;"</span><span class="o">);</span>
                <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"alert('ì˜ëª»ëœ ì ‘ê·¼!');"</span><span class="o">);</span>
                <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"history.back();"</span><span class="o">);</span>
                <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
				
                <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
				
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="c1">// í˜ì´ì§€ ì´ë™</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;script&gt;"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"alert('ì„ íƒí•œ íšŒì› íƒˆí‡´ê°€ ì™„ë£Œ ë˜ì—ˆìŠµë‹ˆë‹¤.');"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"location.href='./MemberListAction.me';"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
		
        <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒí•œ íšŒì›ë“¤ì˜ ì•„ì´ë””ë¥¼ ë°›ì•„ì„œ ê·¸ ê°¯ìˆ˜ë§Œí¼ ì‚­ì œ ì—°ì‚°ì„ ë°˜ë³µí•œë‹¤.</li>
  <li>ê¸°ì¡´ì— ë§Œë“¤ì—ˆë˜ íšŒì› í•œ ëª…ì„ ì‚­ì œí•˜ëŠ” ë©”ì†Œë“œê°€ ìˆê¸´ í–ˆëŠ”ë° íšŒì›ì˜ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ í•¨ê»˜ í™•ì¸í•œ í›„ ì‚­ì œ ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì„œë“œë¼ ëª©ì ì— ì¢€ ë§ì§€ ì•Šì•„ì„œ ì˜¤ë²„ë¡œë”©í•´ì„œ í•˜ë‚˜ ë” ë§Œë“¤ì—ˆë‹¤.</li>
</ul>

<h2 id="memberdaojava---deletememberid">MemberDAO.java - deleteMember(id)</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">int</span> <span class="nf">deleteMember</span><span class="o">(</span><span class="nc">String</span> <span class="n">id</span><span class="o">)</span>
<span class="o">{</span>
    <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
		
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">getCon</span><span class="o">();</span>
			
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"select * from cafe_members where id=?"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">id</span><span class="o">);</span>
			
        <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
        <span class="k">if</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
        <span class="o">{</span>
            <span class="n">sql</span> <span class="o">=</span> <span class="s">"delete from cafe_members where id=?"</span><span class="o">;</span>
            <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
				
            <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">id</span><span class="o">);</span>
				
            <span class="n">ret</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
				
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : ìš´ì˜ìê°€ íšŒì›ì •ë³´ ì‚­ì œ ì™„ë£Œ"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">finally</span> <span class="o">{</span>
        <span class="nc">CloseDB</span><span class="o">();</span>
    <span class="o">}</span>
		
    <span class="k">return</span> <span class="n">ret</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì•„ì´ë””ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ ì¼ì¹˜í•˜ëŠ” íšŒì› í•œ ëª…ì˜ ì •ë³´ë¥¼ ì‚­ì œí•œë‹¤.</li>
  <li>ì—¬ê¸°ê¹Œì§€ ìˆ˜í–‰í•˜ê³  ì•„ê¹Œì „ì— ìˆë˜ íšŒì›ê´€ë¦¬ í˜ì´ì§€ë¡œ ëŒì•„ê°€ë©´ ì—…ë°ì´íŠ¸ ëœ íšŒì› ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li>ë§ˆê° ê¸°í•œì´ ëŠ˜ì–´ë‚¬ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">D-3</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 24 - ëŒ“ê¸€ ìˆ˜ì • ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-24/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 24 - ëŒ“ê¸€ ìˆ˜ì • ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-04-04T00:00:00+09:00</published><updated>2022-04-04T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-24</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-24/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©-1">ì§„í–‰ìƒí™© 1</h1>
<ul>
  <li>ê²Œì‹œê¸€ì— ë‹¬ë¦° ëŒ“ê¸€ì„ ìˆ˜ì •í•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="boardcontentjsp">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- ë³¸ì¸ ê¸€ ì¼ë•Œë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ --&gt;</span>
<span class="nt">&lt;span&gt;</span>
<span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">id</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:void(0);"</span> <span class="na">onclick=</span><span class="s">"showCommentBox(</span><span class="nt">&lt;%=</span><span class="n">i</span> <span class="nt">%&gt;</span><span class="s">);"</span> <span class="na">id=</span><span class="s">"modify"</span><span class="nt">&gt;</span>ìˆ˜ì •<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
</code></pre></div></div>

<ul>
  <li>ë¡œê·¸ì¸ ì •ë³´ë¥¼ í™•ì¸ í›„ ë³¸ì¸ ê¸€ ì¼ë•Œë§Œ ìˆ˜ì •ê³¼ ì‚­ì œë¥¼ í•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ì´ ë³´ì¸ë‹¤.</li>
</ul>

<h2 id="boardcontentjs">boardContent.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">showCommentBox</span><span class="p">(</span><span class="nx">idx</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">con</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">modify</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">idx</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">comBlock</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">modifyComment</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">idx</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">comBlock</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">comBlock</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">inline-block</span><span class="dl">'</span><span class="p">;</span>
        <span class="nx">con</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ì·¨ì†Œ</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> 
    <span class="p">{</span>
        <span class="nx">comBlock</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">none</span><span class="dl">'</span><span class="p">;</span>
        <span class="nx">con</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ìˆ˜ì •</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ìˆ˜ì • ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëŒ“ê¸€ì„ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ì°½ì„ ë³´ì—¬ì£¼ê±°ë‚˜ ìˆ¨ê¹€ ìˆ˜ ìˆê²Œ ì œì–´í•œë‹¤.</li>
</ul>

<h2 id="boardcontentjsp-1">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"comContent"</span> <span class="na">id=</span><span class="s">"comContent</span><span class="nt">&lt;%=</span><span class="n">i</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;%=</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getContent</span><span class="o">()</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">"display: none;"</span> <span class="na">id=</span><span class="s">"modifyComment</span><span class="nt">&lt;%=</span><span class="n">i</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"./CommentModifyAction.bo?num=</span><span class="nt">&lt;%=</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">&amp;post_num=</span><span class="nt">&lt;%=</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getPost_num</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">&amp;pageNum=</span><span class="nt">&lt;%=</span><span class="n">pageNum</span><span class="nt">%&gt;</span><span class="s">"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">onsubmit=</span><span class="s">"return writeComment();"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"id"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">id</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;textarea</span> <span class="na">id=</span><span class="s">"comment"</span> <span class="na">name=</span><span class="s">"comment"</span> <span class="na">rows=</span><span class="s">"10"</span> <span class="na">cols=</span><span class="s">"80"</span> <span class="na">maxlength=</span><span class="s">"500"</span><span class="nt">&gt;&lt;%=</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getContent</span><span class="o">()</span> <span class="nt">%&gt;&lt;/textarea&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn"</span> <span class="na">id=</span><span class="s">"commentBtn"</span><span class="nt">&gt;</span>ì…ë ¥<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/form&gt;&lt;br&gt;</span>
<span class="nt">&lt;/div&gt;&lt;br&gt;</span>
</code></pre></div></div>

<ul>
  <li>ìˆ˜ì • ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëŒ“ê¸€ ìˆ˜ì •ì°½ì´ ë‚˜íƒ€ë‚˜ê³  í•œ ë²ˆ ë” ëˆ„ë¥´ë©´ ëŒ“ê¸€ ìˆ˜ì •ì°½ì´ ì‚¬ë¼ì§„ë‹¤.</li>
  <li>ëŒ“ê¸€ ìˆ˜ì • ë‚´ìš©ê³¼ í•¨ê»˜ ëŒ“ê¸€ ë²ˆí˜¸ì™€ ê²Œì‹œê¸€ ì •ë³´ë„ í•¨ê»˜ ì „ë‹¬í•œë‹¤.</li>
</ul>

<h2 id="commentmodifyactionjava">CommentModifyAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.CommentDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommentModifyAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : CommentModifyAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// í•œê¸€ì²˜ë¦¬</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
		
        <span class="c1">// íŒŒë¼ë©”í„° ì €ì¥</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"num"</span><span class="o">));</span>
        <span class="kt">int</span> <span class="n">post_num</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"post_num"</span><span class="o">));</span>
        <span class="nc">String</span> <span class="n">pageNum</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"pageNum"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">comment</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"comment"</span><span class="o">);</span>
		
        <span class="nc">CommentDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CommentDTO</span><span class="o">();</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setNum</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setPost_num</span><span class="o">(</span><span class="n">post_num</span><span class="o">);</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">comment</span><span class="o">);</span>
		
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : commentDTO: "</span><span class="o">+</span><span class="n">dto</span><span class="o">);</span>
		
        <span class="c1">// DB ì ‘ì† ë° update ì‹¤í–‰</span>
        <span class="nc">BoardDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDAO</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">updateComment</span><span class="o">(</span><span class="n">dto</span><span class="o">);</span>
		
        <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/html; charset=utf-8"</span><span class="o">);</span>
        <span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="mi">1</span> <span class="o">!=</span> <span class="n">result</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;script&gt;"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"alert('ì˜ëª»ëœ ì ‘ê·¼');"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"history.back();"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;script&gt;"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"location.href='./BoardContent.bo?num="</span><span class="o">+</span><span class="n">post_num</span><span class="o">+</span><span class="s">"&amp;pageNum="</span><span class="o">+</span><span class="n">pageNum</span><span class="o">+</span><span class="s">";'"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
		
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">DB</code>ì— ì ‘ì†í•´ì„œ ëŒ“ê¸€ ìˆ˜ì • ë™ì‘ì„ ìˆ˜í–‰í•œ ë’¤ ê²°ê³¼ì— ë”°ë¼ í˜ì´ì§€ë¥¼ ì´ë™í•œë‹¤.</li>
  <li>ë¡œê·¸ì¸ í•œ ë³¸ì¸ë§Œ ìˆ˜ì •í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì ‘ê·¼í•œ ì‚¬ëŒì´ ë³¸ì¸ì´ ì•„ë‹Œ ê²½ìš°ëŠ” ì—†ì„ ê²ƒì´ë¼ ìƒê°í•˜ì§€ë§Œ í˜¹ì‹œ ëª¨ë¥´ë‹ˆê¹Œ  ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ ì£¼ì—ˆë‹¤.</li>
</ul>

<h2 id="boarddaojava---updatecommentdto">BoardDAO.java - updateComment(dto)</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">int</span> <span class="nf">updateComment</span><span class="o">(</span><span class="nc">CommentDTO</span> <span class="n">dto</span><span class="o">)</span>
<span class="o">{</span>
    <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
		
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">getCon</span><span class="o">();</span>
			
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"select * from cafe_comment where num=?"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getNum</span><span class="o">());</span>
			
        <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
        <span class="k">if</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
        <span class="o">{</span>
            <span class="c1">// ëŒ“ê¸€ì´ ì¡´ì¬í•˜ë©´ ìˆ˜ì •</span>
            <span class="n">sql</span> <span class="o">=</span> <span class="s">"update cafe_comment set content=? where num=?"</span><span class="o">;</span>
            <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
				
            <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
            <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getNum</span><span class="o">());</span>
				
            <span class="n">ret</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
				
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : ëŒ“ê¸€ ìˆ˜ì • ì™„ë£Œ"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">finally</span> <span class="o">{</span>
        <span class="n">closeDB</span><span class="o">();</span>
    <span class="o">}</span>
		
    <span class="k">return</span> <span class="n">ret</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ëŒ“ê¸€ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œ í›„ ìˆ˜ì •í•œë‹¤.</li>
  <li>ëª¨ë“  ë™ì‘ì´ ì™„ë£Œëœ í›„ ë‹¤ì‹œ ê²Œì‹œê¸€ ë³¸ë¬¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ë©´ ìˆ˜ì •ëœ ëŒ“ê¸€ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li>ë§ˆê° ê¸°í•œì´ ëŠ˜ì–´ë‚¬ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">D-3</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 23 - ëŒ“ê¸€ ë‹¬ê¸° ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-23/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 23 - ëŒ“ê¸€ ë‹¬ê¸° ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-04-04T00:00:00+09:00</published><updated>2022-04-04T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-23</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-23/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©-1">ì§„í–‰ìƒí™© 1</h1>
<ul>
  <li>ê²Œì‹œê¸€ì— ë‹¬ë¦° ëŒ“ê¸€ì„ ë³¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="boardlistjsp">boardList.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;tbody&gt;</span>
<span class="nt">&lt;%</span>
    <span class="k">if</span> <span class="o">(</span><span class="kc">null</span> <span class="o">!=</span> <span class="n">postList</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">postList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> 
        <span class="o">{</span>
            <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="n">postList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
<span class="nt">%&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"row"</span><span class="nt">&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getNum</span><span class="o">()</span> <span class="nt">%&gt;&lt;/th&gt;</span>
    <span class="nt">&lt;td&gt;</span>
<span class="nt">&lt;%</span>
            <span class="kt">int</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="mi">0</span> <span class="o">&lt;</span> <span class="n">dto</span><span class="o">.</span><span class="na">getRe_lev</span><span class="o">())</span> <span class="c1">// ë‹µê¸€ì¼ ë•Œ</span>
            <span class="o">{</span>
                <span class="n">width</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">dto</span><span class="o">.</span><span class="na">getRe_lev</span><span class="o">();</span>
<span class="nt">%&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"reImg"</span> <span class="na">src=</span><span class="s">"./contents/level.gif"</span> <span class="na">width=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">width</span><span class="nt">%&gt;</span><span class="s">"</span> <span class="na">height=</span><span class="s">"15"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"reImg"</span> <span class="na">src=</span><span class="s">"./contents/re.gif"</span><span class="nt">&gt;</span>
<span class="nt">&lt;%</span>
            <span class="o">}</span>
<span class="nt">%&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./BoardContent.bo?num=</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getNum</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">&amp;pageNum=</span><span class="nt">&lt;%=</span><span class="n">pageNum</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getTitle</span><span class="o">()</span> <span class="nt">%&gt;</span> (<span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getComment_count</span><span class="o">()</span> <span class="nt">%&gt;</span>)<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getDate</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
    <span class="nt">&lt;td&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getReadcount</span><span class="o">()</span> <span class="nt">%&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;%</span><span class="o">}}</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;/tbody&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ëª©ë¡ì—ì„œ ëŒ“ê¸€ì´ ë‹¬ë¦° ê°¯ìˆ˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê²Œ ìˆ˜ì •í–ˆë‹¤.</li>
</ul>

<h2 id="boarddaojava---getpostliststartrow-pagesize">BoardDAO.java - getPostList(startRow, pageSize)</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="nf">getPostList</span><span class="o">(</span><span class="kt">int</span> <span class="n">startRow</span><span class="o">,</span> <span class="kt">int</span> <span class="n">pageSize</span><span class="o">)</span>
<span class="o">{</span>
    <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="n">postList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;();</span>
		
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">getCon</span><span class="o">();</span>
			
        <span class="c1">// ê¸€ ìë¥´ê¸° : limit ì‹œì‘í–‰-1, ê°¯ìˆ˜</span>
        <span class="c1">// ì‹œì‘í–‰-1ë¶€í„° xê°œ ë§Œí¼ ê°€ì ¸ì˜¨ë‹¤.</span>
        <span class="c1">// ì •ë ¬ : re_ref(ë‚´ë¦¼ì°¨ìˆœ) / re_seq(ì˜¤ë¦„ì°¨ìˆœ)</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"select * from cafe_board order by re_ref desc, re_seq asc limit ?,?"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">startRow</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span> <span class="c1">// ì‹œì‘í–‰ - 1</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">pageSize</span><span class="o">);</span> <span class="c1">// ê°¯ìˆ˜</span>
			
        <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
        <span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
        <span class="o">{</span>
            <span class="c1">// ê¸€ 1ê°œì˜ ì •ë³´(dto)ì— ì €ì¥í•œ í›„ ë°°ì—´ì— ì €ì¥</span>
            <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDTO</span><span class="o">();</span>
				
            <span class="n">dto</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"content"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setDate</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getDate</span><span class="o">(</span><span class="s">"date"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"file"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"id"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setIp</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"ip"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setNum</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"num"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setRe_lev</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"re_lev"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setRe_ref</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"re_ref"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setRe_seq</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"re_seq"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setReadcount</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"readcount"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"title"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setComment_count</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"comment_count"</span><span class="o">));</span>
				
            <span class="n">postList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">dto</span><span class="o">);</span>
        <span class="o">}</span>
			
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : ê¸€ ì •ë³´ ì €ì¥ ì™„ë£Œ"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">finally</span> <span class="o">{</span>
        <span class="n">closeDB</span><span class="o">();</span>
    <span class="o">}</span>
		
    <span class="k">return</span> <span class="n">postList</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ë•Œ ëŒ“ê¸€ì˜ ê°¯ìˆ˜ë„ í•¨ê»˜ ì €ì¥í•˜ë„ë¡ ìˆ˜ì •í–ˆë‹¤.</li>
  <li>ë¬¼ë¡  í…Œì´ë¸”ì—ë„ ëŒ“ê¸€ ê°¯ìˆ˜ ì»¬ëŸ¼ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<p align="center"><img src="../../assets/images/boardListComment.png" /></p>

<h2 id="boardcontentjsp">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%</span>
    <span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span><span class="n">session</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
	
    <span class="kt">boolean</span> <span class="n">isLogin</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="kc">null</span> <span class="o">==</span> <span class="n">id</span><span class="o">)</span> <span class="n">isLogin</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">else</span> <span class="n">isLogin</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
	
    <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="o">(</span><span class="nc">BoardDTO</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"dto"</span><span class="o">);</span>
    <span class="nc">String</span> <span class="n">pageNum</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"pageNum"</span><span class="o">);</span>
    <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">CommentDTO</span><span class="err">&gt;</span> <span class="n">coList</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">CommentDTO</span><span class="err">&gt;</span><span class="o">)</span><span class="n">request</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="s">"coList"</span><span class="o">);</span>
<span class="nt">%&gt;</span>

<span class="c">&lt;!-- ê²Œì‹œê¸€ ë³¸ë¬¸ ì˜ì—­ --&gt;</span>

<span class="c">&lt;!-- ëŒ“ê¸€ ì˜ì—­ --&gt;</span>  
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"comments"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h3&gt;</span>ëŒ“ê¸€<span class="nt">&lt;/h3&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"postNum"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getNum</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;p&gt;</span>
    <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(!</span><span class="n">coList</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">coList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span> 
            <span class="nc">CommentDTO</span> <span class="n">coDto</span> <span class="o">=</span> <span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span> <span class="nt">%&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"comId"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;%=</span><span class="n">coDto</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="ni">&amp;nbsp;</span>		
    <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"comDate"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;%=</span><span class="n">coDto</span><span class="o">.</span><span class="na">getCommentedDate</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="ni">&amp;nbsp;</span>
    <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>ìˆ˜ì •<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"comContent"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;%=</span><span class="n">coDto</span><span class="o">.</span><span class="na">getContent</span><span class="o">()</span> <span class="nt">%&gt;</span>
  <span class="nt">&lt;/p&gt;&lt;br&gt;</span>
  <span class="nt">&lt;%</span> <span class="o">}}</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="c">&lt;!-- ëŒ“ê¸€ ì˜ì—­ --&gt;</span>

<span class="c">&lt;!-- í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ --&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ë³¸ë¬¸ í˜ì´ì§€ì— ì‘ì„±ëœ ëŒ“ê¸€ë“¤ì„ ë³¼ ìˆ˜ ìˆëŠ” ê³µê°„ì„ ì¶”ê°€í–ˆë‹¤.</li>
  <li>ê²Œì‹œê¸€ ë³¸ë¬¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì„œë¸”ë¦¿ì—ì„œ ëŒ“ê¸€ ëª©ë¡ë„ í•¨ê»˜ ë¶ˆëŸ¬ì™€ì„œ ì¶œë ¥í•œë‹¤.</li>
</ul>

<h2 id="boardcontentactionjava">BoardContentAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.CommentDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardContentAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardContentAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// ì „ë‹¬ë°›ì€ íŒŒë¼ë©”í„°(ê¸€ ë²ˆí˜¸, í˜ì´ì§€ì •ë³´) ì €ì¥</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"num"</span><span class="o">));</span>
        <span class="nc">String</span> <span class="n">pageNum</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"pageNum"</span><span class="o">);</span> <span class="c1">// í˜ì´ì§€ë²ˆí˜¸ëŠ” DB ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ì§„ ì•Šì•„ì„œ í˜•ë³€í™˜ í•„ìš” X</span>
		
        <span class="c1">// DAO ê°ì²´ ìƒì„±</span>
        <span class="nc">BoardDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDAO</span><span class="o">();</span>

        <span class="c1">// ê¸€ ì¡°íšŒìˆ˜ 1 ì¦ê°€</span>
        <span class="n">dao</span><span class="o">.</span><span class="na">updateReadCount</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
		
        <span class="c1">// ê¸€ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°</span>
        <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">getPost</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
        
        <span class="c1">// í•´ë‹¹ ê¸€ì— ë‹¬ë¦° ëŒ“ê¸€ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">CommentDTO</span><span class="o">&gt;</span> <span class="n">coList</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">getComments</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
		
        <span class="c1">// request ì˜ì—­ì— ê¸€ ì •ë³´ë‘ í˜ì´ì§€ì •ë³´, ëŒ“ê¸€ëª©ë¡ ì €ì¥</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"dto"</span><span class="o">,</span> <span class="n">dto</span><span class="o">);</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"pageNum"</span><span class="o">,</span> <span class="n">pageNum</span><span class="o">);</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"coList"</span><span class="o">,</span> <span class="n">coList</span><span class="o">);</span>
		
        <span class="c1">// í˜ì´ì§€ ì´ë™</span>
        <span class="nc">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActionForward</span><span class="o">();</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">"./contents/boardContent.jsp"</span><span class="o">);</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setRedirect</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
		
        <span class="k">return</span> <span class="n">forward</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¬ ë•Œ í•´ë‹¹ ê¸€ì— ë‹¬ë¦° ëŒ“ê¸€ ì •ë³´ë„ í•¨ê»˜ ë¶ˆëŸ¬ì˜¨ë‹¤.</li>
</ul>

<h2 id="boarddaojava---getcommentsnum">BoardDAO.java - getComments(num)</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">CommentDTO</span><span class="o">&gt;</span> <span class="nf">getComments</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">)</span>
<span class="o">{</span>
    <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">CommentDTO</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">CommentDTO</span><span class="o">&gt;();</span>
		
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">getCon</span><span class="o">();</span>
			
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"select * from cafe_comment where post_num=?"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">num</span><span class="o">);</span>
			
        <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
        <span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
        <span class="o">{</span>
            <span class="nc">CommentDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CommentDTO</span><span class="o">();</span>
				
            <span class="n">dto</span><span class="o">.</span><span class="na">setCommentedDate</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getDate</span><span class="o">(</span><span class="s">"commented_date"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"content"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"id"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setIp</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">"ip"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setNum</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"num"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setPost_num</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"post_num"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setRe_lev</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"re_lev"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setRe_ref</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"re_ref"</span><span class="o">));</span>
            <span class="n">dto</span><span class="o">.</span><span class="na">setRe_seq</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"re_seq"</span><span class="o">));</span>
				
            <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">dto</span><span class="o">);</span>
        <span class="o">}</span>
			
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : ëŒ“ê¸€ ëª©ë¡ ì €ì¥ ì™„ë£Œ"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">finally</span> <span class="o">{</span>
        <span class="n">closeDB</span><span class="o">();</span>
    <span class="o">}</span>
		
    <span class="k">return</span> <span class="n">list</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ë²ˆí˜¸ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì„œ í•´ë‹¹ ê¸€ì— ë‹¬ë¦° ëŒ“ê¸€ë“¤ë§Œ ë¶ˆëŸ¬ì˜¨ë‹¤.<br /><br /></li>
</ul>

<p align="center"><img src="../../assets/images/commentEmpty.png" /></p>

<ul>
  <li>ì‘ì„±ëœ ëŒ“ê¸€ì´ ì—†ì„ ë•Œì—” ë¶ˆëŸ¬ì˜¤ì§€ ì•ŠëŠ”ë‹¤.<br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©-2">ì§„í–‰ìƒí™© 2</h1>
<ul>
  <li>ê²Œì‹œê¸€ì— ëŒ“ê¸€ì„ ë‹¤ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="boardcontentjsp-1">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- ê²Œì‹œê¸€ ë³¸ë¬¸ ì˜ì—­ --&gt;</span>

<span class="c">&lt;!-- ëŒ“ê¸€ ì˜ì—­ --&gt;</span>  
<span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"./CommentWriteAction.bo?post_num=</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getNum</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">&amp;pageNum=</span><span class="nt">&lt;%=</span><span class="n">pageNum</span> <span class="nt">%&gt;</span><span class="s">"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">onsubmit=</span><span class="s">"return writeComment();"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"id"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">id</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"comment"</span> <span class="na">name=</span><span class="s">"comment"</span> <span class="na">placeholder=</span><span class="s">"ëŒ“ê¸€ ë‹¬ê¸°"</span><span class="err">.</span> <span class="na">maxlength=</span><span class="s">"500"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn"</span> <span class="na">id=</span><span class="s">"commentBtn"</span><span class="nt">&gt;</span>ì…ë ¥<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;&lt;br&gt;&lt;br&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"comments"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h3&gt;</span>ëŒ“ê¸€<span class="nt">&lt;/h3&gt;</span>
  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">id=</span><span class="s">"postNum"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getNum</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;p&gt;</span>
    <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(!</span><span class="n">coList</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">coList</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span> 
            <span class="nc">CommentDTO</span> <span class="n">coDto</span> <span class="o">=</span> <span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span> <span class="nt">%&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"comId"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;%=</span><span class="n">coDto</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="ni">&amp;nbsp;</span>		
    <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"comDate"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;%=</span><span class="n">coDto</span><span class="o">.</span><span class="na">getCommentedDate</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="ni">&amp;nbsp;</span>
    <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>ìˆ˜ì •<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/span&gt;</span>
    <span class="nt">&lt;span&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"comContent"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;%=</span><span class="n">coDto</span><span class="o">.</span><span class="na">getContent</span><span class="o">()</span> <span class="nt">%&gt;</span>
  <span class="nt">&lt;/p&gt;&lt;br&gt;</span>
  <span class="nt">&lt;%</span> <span class="o">}}</span> <span class="nt">%&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="c">&lt;!-- ëŒ“ê¸€ ì˜ì—­ --&gt;</span>

<span class="c">&lt;!-- í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ --&gt;</span>
</code></pre></div></div>

<ul>
  <li>ì‘ì„±í•œ ëŒ“ê¸€ì„ ì „ì†¡í•  í¼íƒœê·¸ë¥¼ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="boardcontentjs">boardContent.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">writeComment</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#comment</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">().</span><span class="nx">length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”.</span><span class="dl">'</span><span class="p">);</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ëŒ“ê¸€ ì‘ì„± ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•˜ê¸° ì „ì— ëŒ“ê¸€ì´ ì‘ì„±ëœ ê²ƒì„ í™•ì¸í•œ í›„ ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="commentwriteactionjava">CommentWriteAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.CommentDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommentWriteAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : CommentWriteAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// í•œê¸€ì²˜ë¦¬</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
		
        <span class="c1">// íŒŒë¼ë©”í„° ì €ì¥</span>
        <span class="nc">String</span> <span class="n">id</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"id"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">comment</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"comment"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">postNum</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"post_num"</span><span class="o">));</span>
        <span class="nc">String</span> <span class="n">pageNum</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"pageNum"</span><span class="o">);</span>
		
        <span class="nc">CommentDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">CommentDTO</span><span class="o">();</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">comment</span><span class="o">);</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setIp</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getRemoteAddr</span><span class="o">());</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setPost_num</span><span class="o">(</span><span class="n">postNum</span><span class="o">);</span>
		
        <span class="c1">// DB ì—°ê²°í•´ì„œ ëŒ“ê¸€ ì €ì¥</span>
        <span class="nc">BoardDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDAO</span><span class="o">();</span>
        <span class="n">dao</span><span class="o">.</span><span class="na">insertComment</span><span class="o">(</span><span class="n">dto</span><span class="o">);</span>
		
        <span class="c1">// í˜ì´ì§€ ì´ë™</span>
        <span class="nc">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActionForward</span><span class="o">();</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">"./BoardContent.bo?num="</span><span class="o">+</span><span class="n">postNum</span><span class="o">+</span><span class="s">"&amp;pageNum="</span><span class="o">+</span><span class="n">pageNum</span><span class="o">);</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setRedirect</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
		
        <span class="k">return</span> <span class="n">forward</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í†µí•´ ëŒ“ê¸€ ì‘ì„± ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
  <li>ê²Œì‹œê¸€ì„ ì‘ì„±í•  ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ í¼íƒœê·¸ë¡œ ë°›ì•„ì˜¨ íŒŒë¼ë©”í„°ë“¤ì„ ì €ì¥í•œ í›„ <code class="language-plaintext highlighter-rouge">DB</code>ì— ì ‘ì†í•´ì„œ <code class="language-plaintext highlighter-rouge">insert</code> ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤.</li>
  <li>ê²Œì‹œê¸€ ë³¸ë¬¸ í˜ì´ì§€ì—ì„œ ê²Œì‹œê¸€ ë²ˆí˜¸ì™€ í˜ì´ì§€ ë²ˆí˜¸ ì •ë³´ë¥¼ í•„ìš”ë¡œ í•˜ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">get</code>ë°©ì‹ìœ¼ë¡œ í•¨ê»˜ ë„˜ê²¨ì¤€ë‹¤.</li>
</ul>

<h2 id="boarddaojava---insertcommentdto">BoardDAO.java - insertComment(dto)</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertComment</span><span class="o">(</span><span class="nc">CommentDTO</span> <span class="n">dto</span><span class="o">)</span>
<span class="o">{</span>
    <span class="kt">int</span> <span class="n">lastNum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="k">try</span> <span class="o">{</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">getCon</span><span class="o">();</span>
        
        <span class="c1">// ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ê°¯ìˆ˜ ì¦ê°€</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"update cafe_board set comment_count = comment_count + 1 where num=?"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
			
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : ëŒ“ê¸€ ê°¯ìˆ˜ ì¦ê°€ ì™„ë£Œ"</span><span class="o">);</span>
			
        <span class="c1">// ìƒˆ ê¸€ ë²ˆí˜¸ ì°¾ê¸°</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"select max(num) from cafe_comment"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
        <span class="k">if</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
            <span class="n">lastNum</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
			
        <span class="c1">// ëŒ“ê¸€ ì‚½ì…</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"insert into cafe_comment(num, post_num, id, content, commented_date, re_ref, re_lev, re_seq, ip)"</span>
                <span class="o">+</span> <span class="s">" values(?,?,?,?,now(),?,?,?,?)"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">lastNum</span><span class="o">);</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getPost_num</span><span class="o">());</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="n">lastNum</span><span class="o">);</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">6</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getIp</span><span class="o">());</span>
			
        <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
			
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : ëŒ“ê¸€ ì‚½ì… ì™„ë£Œ"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">finally</span> <span class="o">{</span>
        <span class="n">closeDB</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ì‚½ì… ë•Œì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì‚½ì… ì—°ì‚°ì„ ìˆ˜í–‰í•œë‹¤.</li>
  <li>ëŒ“ê¸€ì´ ë‹¬ë¦´ ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ê°¯ìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤.<br /><br /></li>
</ul>

<p align="center"><img src="../../assets/images/loadComments.png" /></p>

<ul>
  <li>ëŒ“ê¸€ ì‚½ì… ì—°ì‚°ì´ ì™„ë£Œëœ í›„ ë‹¤ì‹œ ê²Œì‹œê¸€ ë³¸ë¬¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ë©´ ìƒˆë¡œ ì‘ì„±ëœ ëŒ“ê¸€ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li>ë§ˆê° ê¸°í•œì´ ëŠ˜ì–´ë‚¬ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">D-5</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 25 - ëŒ“ê¸€ ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-25/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 25 - ëŒ“ê¸€ ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-04-04T00:00:00+09:00</published><updated>2022-04-04T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-25</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-25/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©-1">ì§„í–‰ìƒí™© 1</h1>
<ul>
  <li>ê²Œì‹œê¸€ì— ë‹¬ë¦° ëŒ“ê¸€ì„ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
</ul>

<h2 id="boardcontentjsp">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- ë³¸ì¸ ê¸€ ì¼ë•Œë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥ --&gt;</span>
<span class="nt">&lt;span&gt;</span>
<span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">id</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">id</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getId</span><span class="o">()))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:void(0);"</span> <span class="na">onclick=</span><span class="s">"showCommentBox(</span><span class="nt">&lt;%=</span><span class="n">i</span> <span class="nt">%&gt;</span><span class="s">);"</span> <span class="na">id=</span><span class="s">"modify"</span><span class="nt">&gt;</span>ìˆ˜ì •<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"javascript:void(0);"</span> <span class="na">onclick=</span><span class="s">"confirmDelete(</span><span class="nt">&lt;%=</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">, </span><span class="nt">&lt;%=</span><span class="n">coList</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getPost_num</span><span class="o">()</span><span class="nt">%&gt;</span><span class="s">, </span><span class="nt">&lt;%=</span><span class="n">pageNum</span><span class="nt">%&gt;</span><span class="s">);"</span><span class="nt">&gt;</span>ì‚­ì œ<span class="ni">&amp;nbsp;</span><span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
</code></pre></div></div>

<ul>
  <li>ë¡œê·¸ì¸ ì •ë³´ë¥¼ í™•ì¸ í›„ ë³¸ì¸ ê¸€ ì¼ë•Œë§Œ ìˆ˜ì •ê³¼ ì‚­ì œë¥¼ í•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ì´ ë³´ì¸ë‹¤.</li>
</ul>

<h2 id="boardcontentjs">boardContent.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">confirmDelete</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="nx">postNum</span><span class="p">,</span> <span class="nx">pageNum</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì •ë§ ì‚­ì œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</span><span class="dl">'</span><span class="p">))</span>
        <span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">./CommentDeleteAction.bo?num=</span><span class="dl">'</span><span class="o">+</span><span class="nx">num</span><span class="o">+</span><span class="dl">'</span><span class="s1">&amp;post_num=</span><span class="dl">'</span><span class="o">+</span><span class="nx">postNum</span><span class="o">+</span><span class="dl">'</span><span class="s1">&amp;pageNum=</span><span class="dl">'</span><span class="o">+</span><span class="nx">pageNum</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ì‚­ì œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í™•ì¸ì°½ì„ ë„ì›Œì„œ ìµœì¢… í™•ì¸í•œ ë’¤ ì‚­ì œ ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="commentdeleteactionjava">CommentDeleteAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CommentDeleteAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : CommentDeleteAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// íŒŒë¼ë©”í„° ì €ì¥</span>
        <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"num"</span><span class="o">));</span>
        <span class="kt">int</span> <span class="n">post_num</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"post_num"</span><span class="o">));</span>
        <span class="nc">String</span> <span class="n">pageNum</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"pageNum"</span><span class="o">);</span>
		
        <span class="c1">// DB ì ‘ì†í•´ì„œ ì‚­ì œ ì—°ì‚° ìˆ˜í–‰</span>
        <span class="nc">BoardDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDAO</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">deleteComment</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
		
        <span class="c1">// í˜ì´ì§€ ì´ë™</span>
        <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/html; charset=utf-8"</span><span class="o">);</span>
        <span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="mi">1</span> <span class="o">!=</span> <span class="n">result</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;script&gt;"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"alert('ì˜ëª»ëœ ì ‘ê·¼');"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"history.back();"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;script&gt;"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"alert('ëŒ“ê¸€ ì‚­ì œ ì™„ë£Œ!');"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"location.href='./BoardContent.bo?num="</span><span class="o">+</span><span class="n">post_num</span><span class="o">+</span><span class="s">"&amp;pageNum="</span><span class="o">+</span><span class="n">pageNum</span><span class="o">+</span><span class="s">"';"</span><span class="o">);</span>
        <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
		
        <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">DB</code>ì— ì ‘ì†í•´ì„œ ëŒ“ê¸€ ì‚­ì œ ë™ì‘ì„ ìˆ˜í–‰í•œ ë’¤ ê²°ê³¼ì— ë”°ë¼ í˜ì´ì§€ë¥¼ ì´ë™í•œë‹¤.</li>
  <li>ë¡œê·¸ì¸ í•œ ë³¸ì¸ë§Œ ì‚­ì œí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì ‘ê·¼í•œ ì‚¬ëŒì´ ë³¸ì¸ì´ ì•„ë‹Œ ê²½ìš°ëŠ” ì—†ì„ ê²ƒì´ë¼ ìƒê°í•˜ì§€ë§Œ í˜¹ì‹œ ëª¨ë¥´ë‹ˆê¹Œ  ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ ì£¼ì—ˆë‹¤.</li>
</ul>

<h2 id="boarddaojava---deletecommentnum">BoardDAO.java - deleteComment(num)</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">int</span> <span class="nf">deleteComment</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">)</span>
<span class="o">{</span>
    <span class="kt">int</span> <span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
		
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">getCon</span><span class="o">();</span>
			
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"select * from cafe_comment where num=?"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">num</span><span class="o">);</span>
			
        <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
        <span class="k">if</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
        <span class="o">{</span>
            <span class="c1">// ê²Œì‹œê¸€ì˜ ëŒ“ê¸€ ê°¯ìˆ˜ ê°ì†Œ</span>
            <span class="n">sql</span> <span class="o">=</span> <span class="s">"update cafe_board set comment_count = comment_count - 1 where num=?"</span><span class="o">;</span>
            <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
				
            <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">"post_num"</span><span class="o">));</span>
            
            <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
				
            <span class="c1">// ëŒ“ê¸€ ì‚­ì œ</span>
            <span class="n">sql</span> <span class="o">=</span> <span class="s">"delete from cafe_comment where num=?"</span><span class="o">;</span>
            <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
				
            <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">num</span><span class="o">);</span>
				
            <span class="n">ret</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
				
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : ëŒ“ê¸€ ì‚­ì œ ì™„ë£Œ"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">finally</span> <span class="o">{</span>
        <span class="n">closeDB</span><span class="o">();</span>
    <span class="o">}</span>
		
    <span class="k">return</span> <span class="n">ret</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ëŒ“ê¸€ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œ í›„ ì‚­ì œí•œë‹¤.</li>
  <li>ëŒ“ê¸€ì´ ë‹¬ë ¸ë˜ ê²Œì‹œê¸€ì—ì„œë„ ê°¯ìˆ˜ë¥¼ ê°ì†Œì‹œí‚¨ë‹¤.</li>
  <li>ëª¨ë“  ë™ì‘ì´ ì™„ë£Œëœ í›„ ë‹¤ì‹œ ê²Œì‹œê¸€ ë³¸ë¬¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ë©´ ëŒ“ê¸€ì´ ì‚­ì œëœ ê²ƒê³¼ ëŒ“ê¸€ì˜ ê°¯ìˆ˜ë„ ì¤„ì–´ë“  ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li>ë§ˆê° ê¸°í•œì´ ëŠ˜ì–´ë‚¬ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">D-3</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬) TCPì™€ UDP</title><link href="http://localhost:4000/computer%20network/computer-network-tcp-udp/" rel="alternate" type="text/html" title="ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬) TCPì™€ UDP" /><published>2022-04-03T00:00:00+09:00</published><updated>2022-04-03T00:00:00+09:00</updated><id>http://localhost:4000/computer%20network/computer-network-tcp-udp</id><content type="html" xml:base="http://localhost:4000/computer%20network/computer-network-tcp-udp/"><![CDATA[<h1 id="-transport-layer">ğŸ‘€ Transport Layer</h1>
<ul>
  <li>ì‘ìš© ê³„ì¸µ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ê³„ì¸µ</li>
  <li>ëŒ€í‘œì ì¸ ì„œë¹„ìŠ¤ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ ê°„ì˜ ë…¼ë¦¬ì  ì—°ê²°</li>
  <li>í•˜ë‚˜ì˜ ì»´í“¨í„° ì•ˆì—ì„œëŠ” ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ê¸°ë™ë˜ê³  ìˆë‹¤.</li>
  <li>ì „ì†¡ ê³„ì¸µ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ê³„ì¸µì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">IP</code>ë¥¼ ì´ìš©í•´ ìƒëŒ€ í˜¸ìŠ¤íŠ¸ë¥¼ ì°¾ì•„ê°€ëŠ”ë° ì´ê²ƒ ë§Œìœ¼ë¡œëŠ” ìƒëŒ€ë°©ì˜ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.</li>
  <li>ê·¸ë˜ì„œ ì „ì†¡ ê³„ì¸µì—ì„œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë“¤ ì¤‘ì—ì„œ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•´ì•¼ í•  ì§€ ì•Œë ¤ì£¼ëŠ” ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ë‹¤.</li>
  <li>ì „ì†¡ ê³„ì¸µì˜ ë³´ë‚´ëŠ” ìª½ì—ì„œëŠ” ë³´ë‚´ê³ ì í•˜ëŠ” ë©”ì„¸ì§€(íŒŒì¼ ë“±)ë¥¼ ë¶„í• í•œ ë‹¤ìŒì— ì„¸ê·¸ë¨¼íŠ¸ì— ë‹´ì•„ì„œ ì „ì†¡í•œë‹¤.</li>
  <li>ê·¸ëŸ¬ë©´ ë°›ëŠ” ìª½ì—ì„œ ë¶„í• ë˜ì–´ ì˜¨ ì„¸ê·¸ë¨¼íŠ¸ë“¤ì„ í•©ì¹œ í›„ì— ì‘ìš© ê³„ì¸µìœ¼ë¡œ ì „ë‹¬í•œë‹¤.</li>
  <li>ì´ë•Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí† ì½œì€ <code class="language-plaintext highlighter-rouge">TCP</code>ì™€ <code class="language-plaintext highlighter-rouge">UDP</code> ë‘ ê°€ì§€ê°€ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.<br /><br /></li>
</ul>

<h1 id="tcp">TCP</h1>
<ul>
  <li>ì‹ ë¢°ì„± ìˆëŠ” ì „ì†¡</li>
  <li>ë³´ë‚¸ ìˆœì„œëŒ€ë¡œ ì „ì†¡ì´ ë˜ëŠ”ë° ì‚¬ì‹¤ ë°ì´í„°ê°€ ë„ì°©í•˜ëŠ” ìˆœì„œëŠ” ì œê°ê°ì´ë‹¤. ê·¸ê±¸ ìˆœì„œëŒ€ë¡œ ë„ì°©í•œ ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“¤ì–´ì„œ ì‘ìš© ê³„ì¸µìœ¼ë¡œ ë³´ë‚´ëŠ” ê²ƒì´ <code class="language-plaintext highlighter-rouge">TCP</code>ê°€ í•˜ëŠ” ì¼ì´ë‹¤.</li>
  <li>ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê¸° ì „ì— ë¨¼ì € <code class="language-plaintext highlighter-rouge">connection</code>ì„ ì„¤ì •í•œ ë’¤ ë‘˜ ì‚¬ì´ì— íë¥´ëŠ” ë°ì´í„°ë“¤ì˜ ì—ëŸ¬ë‚˜ ì†ë„ë¥¼ ì œì–´í•´ì„œ ì „ì²´ì ìœ¼ë¡œ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.<br /><br /></li>
</ul>

<h1 id="udp">UDP</h1>
<ul>
  <li>ì‹ ë¢°ì„± ì—†ëŠ” ì „ì†¡</li>
  <li><code class="language-plaintext highlighter-rouge">TCP</code>ì—ì„œ ì œê³µí•˜ëŠ” <code class="language-plaintext highlighter-rouge">connection</code>ê³¼ ìˆœì„œ ë³´ì¥ ë“±ì„ ì œê³µí•˜ì§€ ì•Šê³  ì „ì†¡ ê³„ì¸µì—ì„œ ì œê³µí•´ì•¼ í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ì„œë¹„ìŠ¤ë§Œ ì œê³µí•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì•„ë˜ ê³„ì¸µì— ë„˜ê¸°ëŠ” ë°©ì‹</li>
  <li>ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">TCP</code>ë³´ë‹¤ëŠ” ì†ë„ê°€ ë¹ ë¥´ë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì¶œì²˜">ì¶œì²˜</h1>
<ul>
  <li><a href="http://www.kmooc.kr/courses/course-v1:PNUk+CN_C01+2021_KM_013/video">ì»´í“¨í„° ë„¤íŠ¸ì›Œí‚¹ - ë¶€ì‚°ëŒ€í•™êµ K-MOOC ê³µê°œê°•ì˜</a></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Computer Network" /><category term="CS" /><category term="Network" /><category term="Application" /><summary type="html"><![CDATA[ğŸ‘€ Transport Layer ì‘ìš© ê³„ì¸µ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ê³„ì¸µ ëŒ€í‘œì ì¸ ì„œë¹„ìŠ¤ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ ê°„ì˜ ë…¼ë¦¬ì  ì—°ê²° í•˜ë‚˜ì˜ ì»´í“¨í„° ì•ˆì—ì„œëŠ” ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ê¸°ë™ë˜ê³  ìˆë‹¤. ì „ì†¡ ê³„ì¸µ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ê³„ì¸µì—ì„œëŠ” IPë¥¼ ì´ìš©í•´ ìƒëŒ€ í˜¸ìŠ¤íŠ¸ë¥¼ ì°¾ì•„ê°€ëŠ”ë° ì´ê²ƒ ë§Œìœ¼ë¡œëŠ” ìƒëŒ€ë°©ì˜ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ ì „ì†¡ ê³„ì¸µì—ì„œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë“¤ ì¤‘ì—ì„œ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•´ì•¼ í•  ì§€ ì•Œë ¤ì£¼ëŠ” ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ë‹¤. ì „ì†¡ ê³„ì¸µì˜ ë³´ë‚´ëŠ” ìª½ì—ì„œëŠ” ë³´ë‚´ê³ ì í•˜ëŠ” ë©”ì„¸ì§€(íŒŒì¼ ë“±)ë¥¼ ë¶„í• í•œ ë‹¤ìŒì— ì„¸ê·¸ë¨¼íŠ¸ì— ë‹´ì•„ì„œ ì „ì†¡í•œë‹¤. ê·¸ëŸ¬ë©´ ë°›ëŠ” ìª½ì—ì„œ ë¶„í• ë˜ì–´ ì˜¨ ì„¸ê·¸ë¨¼íŠ¸ë“¤ì„ í•©ì¹œ í›„ì— ì‘ìš© ê³„ì¸µìœ¼ë¡œ ì „ë‹¬í•œë‹¤. ì´ë•Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí† ì½œì€ TCPì™€ UDP ë‘ ê°€ì§€ê°€ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.]]></summary></entry><entry><title type="html">OS) Memory Management</title><link href="http://localhost:4000/operating%20system/OS-08-Memory-Management/" rel="alternate" type="text/html" title="OS) Memory Management" /><published>2022-04-02T00:00:00+09:00</published><updated>2022-04-02T00:00:00+09:00</updated><id>http://localhost:4000/operating%20system/OS-08-Memory-Management</id><content type="html" xml:base="http://localhost:4000/operating%20system/OS-08-Memory-Management/"><![CDATA[<h1 id="-ë…¼ë¦¬ì -ì£¼ì†Œì™€-ë¬¼ë¦¬ì -ì£¼ì†Œ">ğŸ‘€ ë…¼ë¦¬ì  ì£¼ì†Œì™€ ë¬¼ë¦¬ì  ì£¼ì†Œ</h1>
<ul>
  <li>
    <p>ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ìœ„ì¹˜í•˜ê³  ìˆëŠ” ê³³ì„ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†ŒëŠ” ë…¼ë¦¬ì  ì£¼ì†Œì™€ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë‚˜ë‰œë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Logical address (= virtual address)</code>
    <ul>
      <li>í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ ë…ë¦½ì ìœ¼ë¡œ ê°€ì§€ëŠ” ì£¼ì†Œ ê³µê°„</li>
      <li>ê° í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ 0ë²ˆì§€ë¶€í„° ì‹œì‘</li>
      <li><code class="language-plaintext highlighter-rouge">CPU</code>ê°€ ë³´ëŠ” ì£¼ì†ŒëŠ” <code class="language-plaintext highlighter-rouge">logical address</code>ì„</li>
      <li>ì™œëƒë©´ ì½”ë“œìƒì˜ ì£¼ì†Œê°€ <code class="language-plaintext highlighter-rouge">logical address</code>ì¸ë° ì´ê²Œ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë°”ë€ë‹¤ í•´ì„œ ì½”ë“œìƒì˜ ì£¼ì†Œë„ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë°”ë€ŒëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ë§Œì•½ ë°”ë€ë‹¤ë©´ ì»´íŒŒì¼ì„ ìƒˆë¡œ í•´ì•¼ í•˜ëŠ”ë° ì´ëŸ¬ë©´ ì´ìƒí•˜ë‹¤. ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">CPU</code>ëŠ” ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ì°¸ê³ í•˜ê²Œ ëœë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Physical address</code>
    <ul>
      <li>ë©”ëª¨ë¦¬ì— ì‹¤ì œë¡œ ì˜¬ë¼ê°€ëŠ” ìœ„ì¹˜</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">CPU</code>ê°€ <code class="language-plaintext highlighter-rouge">instruction</code>ì„ ìˆ˜í–‰í•˜ë‹¤ê°€ ë©”ëª¨ë¦¬ì— ìˆëŠ” ë°ì´í„°ì— ì ‘ê·¼í•  í•„ìš”ê°€ ìˆìœ¼ë©´ ê·¸ ë°ì´í„°ê°€ ìœ„ì¹˜í•˜ê³  ìˆëŠ” ì£¼ì†Œë¥¼ ì•Œì•„ì•¼ í•œë‹¤.</li>
  <li>ì´ë•Œ ì½”ë“œì— ë¬¼ë¦¬ì  ì£¼ì†Œê°€ í•­ìƒ ëª…ì‹œë˜ì–´ ìˆì–´ì„œ ë°”ë¡œ ê·¸ ìœ„ì¹˜ë¡œ ê°€ì„œ ì½ì–´ì˜¤ë©´ ì„œë¡œ í¸í•˜ê² ì§€ë§Œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ì»´í“¨í„°ì™€ í™˜ê²½ì— ë”°ë¼ í•­ìƒ ê°™ì€ ë¬¼ë¦¬ì  ì£¼ì†Œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ë³´ì¥ì´ ì—†ë‹¤.</li>
  <li>ê·¸ë˜ì„œ ì½”ë“œì—ëŠ” ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ì‚¬ìš©í•´ ê° í”„ë¡œì„¸ìŠ¤ë³„ë¡œ ì „ìš© ì£¼ì†Œê³µê°„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ê³  ê·¸ ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ì´ìš©í•´ ë©”ëª¨ë¦¬ì— ì‹¤ì œë¡œ ì˜¬ë ¤ì ¸ ìˆëŠ” ìœ„ì¹˜ë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">CPU</code>ëŠ” ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•  í•„ìš”ê°€ ìˆìœ¼ë©´ ë¨¼ì € ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë³€í™˜í•œ ë’¤ í•´ë‹¹ ìœ„ì¹˜ì— ì ‘ê·¼í•´ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¨ë‹¤.</li>
</ul>

<h2 id="ì£¼ì†Œ-ë°”ì¸ë”©address-binding">ì£¼ì†Œ ë°”ì¸ë”©(Address Binding)</h2>
<ul>
  <li>ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” ê²ƒ</li>
  <li>í•˜ì§€ë§Œ ì£¼ì†Œë³€í™˜ì€ <code class="language-plaintext highlighter-rouge">CPU</code>ê°€ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ í•˜ë“œì›¨ì–´ì ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.</li>
  <li>ì£¼ì†Œë³€í™˜ì´ í•„ìš”í•  ë•Œë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">CPU</code>ê°€ í•„ìš”í•˜ë©´ ê·¸ ë•Œë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">interrupt</code>ê°€ ì¼ì–´ë‚˜ê²Œ ë  ê²ƒì´ê³  ê·¸ê±´ êµ‰ì¥íˆ ë¹„íš¨ìœ¨ì ì¼ ê²ƒì´ë‹¤.</li>
</ul>

<h3 id="ì£¼ì†Œ-ë°”ì¸ë”©-ì‹œì ì—-ë”°ë¥¸-ë¶„ë¥˜">ì£¼ì†Œ ë°”ì¸ë”© ì‹œì ì— ë”°ë¥¸ ë¶„ë¥˜</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Compile time binding</code>
    <ul>
      <li>ì»´íŒŒì¼ë  ë•Œ ë¬¼ë¦¬ì  ì£¼ì†Œê°€ ê²°ì •ëœë‹¤.</li>
      <li>ì‹œì‘ìœ„ì¹˜ê°€ ë³€ê²½ë˜ë©´ ì¬ì»´íŒŒì¼</li>
      <li>ì»´íŒŒì¼ëŸ¬ëŠ” ì ˆëŒ€ ì½”ë“œ(absolute code) ìƒì„±</li>
      <li>ì˜›ë‚ ì— ë§ì´ ì“°ë‹¤ê°€ ì§€ê¸ˆì€ ì˜ ì•ˆ ì“´ë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Load time binding</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Loader</code>ì˜ ì±…ì„í•˜ì— ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ ì£¼ì†Œ ë¶€ì—¬</li>
      <li>í”„ë¡œê·¸ë¨ì´ ë©”ëª¨ë¦¬ì— ë¡œë“œë  ë•Œ ë¬¼ë¦¬ì  ì£¼ì†Œê°€ ê²°ì •ëœë‹¤.</li>
      <li>ì»´íŒŒì¼ëŸ¬ê°€ ì¬ë°°ì¹˜ ê°€ëŠ¥ ì½”ë“œ(relocatable code)ë¥¼ ìƒì„±í•œ ê²½ìš° ê°€ëŠ¥</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Execution time binding (= Run time binding)</code>
    <ul>
      <li>ìˆ˜í–‰ì´ ì‹œì‘ëœ ì´í›„ì—ë„ í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ìƒ ìœ„ì¹˜ë¥¼ ì˜®ê¸¸ ìˆ˜ ìˆë‹¤.</li>
      <li><code class="language-plaintext highlighter-rouge">CPU</code>ê°€ ì£¼ì†Œë¥¼ ì°¸ì¡°í•  ë•Œë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">binding</code> ì ê²€ (address mapping table)</li>
      <li>í•˜ë“œì›¨ì–´ì—ì„œ ì§€ì›í•´ì•¼ ê°€ëŠ¥í•˜ë‹¤.</li>
      <li>ìµœê·¼ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹</li>
    </ul>
  </li>
</ul>

<h2 id="memory-management-unit-mmu">Memory-Management Unit (MMU)</h2>
<ul>
  <li>ì£¼ì†Œ ë³€í™˜ì„ ìœ„í•œ í•˜ë“œì›¨ì–´</li>
  <li>ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë§¤í•‘í•´ ì¤€ë‹¤.</li>
  <li>ì‹¤ì œ ë¬¼ë¦¬ì  ì£¼ì†Œì˜ ì‹œì‘ì ì—ì„œ ë…¼ë¦¬ì  ì£¼ì†Œì˜ <code class="language-plaintext highlighter-rouge">offset</code>ë§Œí¼ì„ ë”í•´ì„œ ë¬¼ë¦¬ì  ì£¼ì†Œë¥¼ ì•Œë ¤ì¤€ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">Limit register</code> : ë§Œì•½ í”„ë¡œì„¸ìŠ¤ê°€ ìê¸° ë²”ìœ„ë¥¼ ë„˜ì–´ê°€ëŠ” ìœ„ì¹˜ì— ìˆëŠ” ë°ì´í„°ì— ì ‘ê·¼ì„ ìš”êµ¬í•˜ë©´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ì¤‘ìš” ë°ì´í„°ì— ì ‘ê·¼í•˜ê²Œ ë  ìˆ˜ ìˆë‹¤. ê·¸ë˜ì„œ ì£¼ì†Œë¥¼ ë³€í™˜í•  ë•Œ í”„ë¡œì„¸ìŠ¤ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ì£¼ì†Œì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ë¨¼ì € ì œí•œí•´ë†“ê³  ê·¸ ë²”ìœ„ ì•ˆì—ì„œë§Œ ë³€í™˜í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.<br /><br /></li>
</ul>

<h1 id="ë©”ëª¨ë¦¬-ë¡œë“œ-ê¸°ë²•ë“¤">ë©”ëª¨ë¦¬ ë¡œë“œ ê¸°ë²•ë“¤</h1>
<h2 id="dynamic-loading">Dynamic Loading</h2>
<ul>
  <li>í”„ë¡œì„¸ìŠ¤ ì „ì²´ë¥¼ ë©”ëª¨ë¦¬ì— ë¯¸ë¦¬ ë‹¤ ì˜¬ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•´ë‹¹ ë£¨í‹´ì´ ë¶ˆë ¤ì§ˆ ë•Œ ë©”ëª¨ë¦¬ì— <code class="language-plaintext highlighter-rouge">load</code>í•˜ëŠ” ê²ƒ</li>
  <li><code class="language-plaintext highlighter-rouge">memory utilization</code>ì´ í–¥ìƒë¨</li>
  <li>ê°€ë”ì”© ì‚¬ìš©ë˜ëŠ” ì½”ë“œê°€ ë§ì„ ë•Œ ìœ ìš©í•˜ë‹¤.
    <ul>
      <li>ìì£¼ ì‚¬ìš©ë˜ëŠ” ë¶€ë¶„ì´ í•œì •ì ì¸ë° ì „ì²´ë¥¼ ì˜¬ë¦¬ë©´ ë¹„íš¨ìœ¨ì ì´ë‹¤.</li>
      <li>ì˜ˆ : ì˜¤ë¥˜ ì²˜ë¦¬ ë£¨í‹´</li>
    </ul>
  </li>
  <li>ìš´ì˜ì²´ì œì˜ íŠ¹ë³„í•œ ì§€ì› ì—†ì´ í”„ë¡œê·¸ë¨ ìì²´ì—ì„œ êµ¬í˜„ ê°€ëŠ¥ (<code class="language-plaintext highlighter-rouge">OS</code>ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì§€ì› ê°€ëŠ¥)</li>
</ul>

<h2 id="dynamic-linking">Dynamic Linking</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Linking</code>ì„ ì‹¤í–‰ì‹œê°„(execution time)`ê¹Œì§€ ë¯¸ë£¨ëŠ” ê¸°ë²•</li>
  <li><code class="language-plaintext highlighter-rouge">Static linking</code>
    <ul>
      <li>ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ íŒŒì¼ ì½”ë“œì— í¬í•¨ë¨</li>
      <li>ì‹¤í–‰ íŒŒì¼ì˜ í¬ê¸°ê°€ ì»¤ì§</li>
      <li>ë™ì¼í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ë¯€ë¡œ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ìƒê¸´ë‹¤.(ì˜ˆ: <code class="language-plaintext highlighter-rouge">printf</code>í•¨ìˆ˜ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œ)</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Overlays</code>
    <ul>
      <li>ë©”ëª¨ë¦¬ì— í”„ë¡œì„¸ìŠ¤ì˜ ë¶€ë¶„ ì¤‘ ì‹¤ì œ í•„ìš”í•œ ì •ë³´ë§Œì„ ì˜¬ë¦¼</li>
      <li>ì´ë ‡ê²Œ ë³´ë©´ <code class="language-plaintext highlighter-rouge">Dynamic loading</code>ê³¼ ë¹„ìŠ·í•´ ë³´ì´ì§€ë§Œ í”„ë¡œê·¸ë˜ë¨¸ê°€ ìˆ˜ì‘ì—…ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•œë‹¤ëŠ” ì ì—ì„œ ë‹¤ë¥´ë‹¤. ì‘ì€ ê³µê°„ì˜ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ë˜ ì´ˆì°½ê¸° ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ë˜ ë°©ì‹ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë°ì´ ë§¤ìš° ë³µì¡í•˜ë‹¤.</li>
      <li>í”„ë¡œì„¸ìŠ¤ì˜ í¬ê¸°ê°€ ë©”ëª¨ë¦¬ë³´ë‹¤ í´ ë•Œ ìœ ìš©</li>
      <li>ìš´ì˜ì²´ì œì˜ ì§€ì› ì—†ì´ ì‚¬ìš©ìì— ì˜í•´ êµ¬í˜„</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Dynamic linking</code>
    <ul>
      <li>ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì‹¤í–‰ì‹œ ì—°ê²°ëœë‹¤.</li>
      <li>ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸ì¶œ ë¶€ë¶„ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ ë£¨í‹´ì˜ ìœ„ì¹˜ë¥¼ ì°¾ê¸° ìœ„í•œ <code class="language-plaintext highlighter-rouge">stub</code>ì´ë¼ëŠ” ì‘ì€ ì½”ë“œë¥¼ ë‘”ë‹¤.</li>
      <li>ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì´ë¯¸ ë©”ëª¨ë¦¬ì— ìˆìœ¼ë©´ ê·¸ ë£¨í‹´ì˜ ì£¼ì†Œë¡œ ê°€ê³  ì—†ìœ¼ë©´ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ì˜´</li>
      <li>ìš´ì˜ì²´ì œì˜ ë„ì›€ í•„ìš”</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Swapping</code>
    <ul>
      <li>í”„ë¡œì„¸ìŠ¤ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ì„œ <code class="language-plaintext highlighter-rouge">backing store(í•˜ë“œë””ìŠ¤í¬)</code>ë¡œ ì«“ì•„ë‚´ëŠ” ê²ƒ</li>
      <li><code class="language-plaintext highlighter-rouge">Backing store</code> : ë§ì€ ì‚¬ìš©ìì˜ í”„ë¡œì„¸ìŠ¤ ì´ë¯¸ì§€ë¥¼ ë‹´ì„ ë§Œí¼ ì¶©ë¶„íˆ ë¹ ë¥´ê³  í° ì €ì¥ ê³µê°„</li>
      <li>ì¼ë°˜ì ìœ¼ë¡œ ì¤‘ê¸° ìŠ¤ì¼€ì¤„ëŸ¬(swapper)ì— ì˜í•´ <code class="language-plaintext highlighter-rouge">swap in/out</code>ë  í”„ë¡œì„¸ìŠ¤ê°€ ì„ ì •ëœë‹¤.</li>
      <li>í”„ë¡œì„¸ìŠ¤ì˜ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ <code class="language-plaintext highlighter-rouge">swap</code>ì´ ì´ë£¨ì–´ì§„ë‹¤.</li>
      <li><code class="language-plaintext highlighter-rouge">Compile time</code> í˜¹ì€ <code class="language-plaintext highlighter-rouge">load time binding</code>ì—ì„œëŠ” ì›ë˜ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¡œ <code class="language-plaintext highlighter-rouge">swap in</code>í•´ì•¼ í•¨</li>
      <li><code class="language-plaintext highlighter-rouge">Execution time binding</code>ì—ì„œëŠ” ì¶”í›„ ë¹ˆ ë©”ëª¨ë¦¬ ì˜ì—­ ì•„ë¬´ ê³³ì—ë‚˜ ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.</li>
      <li><code class="language-plaintext highlighter-rouge">swap time</code>ì€ ëŒ€ë¶€ë¶„ <code class="language-plaintext highlighter-rouge">transfer time</code>(swapë˜ëŠ” ì–‘ì— ë¹„ë¡€í•˜ëŠ” ì‹œê°„)ì´ë‹¤.</li>
    </ul>
  </li>
</ul>

<h2 id="allocation-of-physical-memory">Allocation of Physical Memory</h2>
<ul>
  <li>
    <p>ë©”ëª¨ë¦¬ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‘ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì‚¬ìš©ëœë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">OS</code> ìƒì£¼ ì˜ì—­ : <code class="language-plaintext highlighter-rouge">interrupt vector</code>ì™€ í•¨ê»˜ ë‚®ì€ ì£¼ì†Œ ì˜ì—­ ì‚¬ìš©</li>
  <li>ì‚¬ìš©ì í”„ë¡œì„¸ìŠ¤ ì˜ì—­ : ë†’ì€ ì£¼ì†Œ ì˜ì—­ ì‚¬ìš©</li>
</ul>

<h2 id="ì‚¬ìš©ì-í”„ë¡œì„¸ìŠ¤-ì˜ì—­ì˜-í• ë‹¹-ë°©ë²•">ì‚¬ìš©ì í”„ë¡œì„¸ìŠ¤ ì˜ì—­ì˜ í• ë‹¹ ë°©ë²•</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Contiguous allocation</code>
    <ul>
      <li>ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì˜ ì—°ì†ì ì¸ ê³µê°„ì— ì ì¬ë˜ë„ë¡ í•˜ëŠ” ê²ƒ</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Noncontiguous allocation</code>
    <ul>
      <li>í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì˜ ì—¬ëŸ¬ ì˜ì—­ì— ë¶„ì‚°ë˜ì–´ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆë‹¤.</li>
      <li>í˜„ëŒ€ ìš´ì˜ì²´ì œì—ì„œ ì‚¬ìš©</li>
    </ul>
  </li>
</ul>

<h3 id="contiguous-allocation">Contiguous Allocation</h3>
<ul>
  <li>ê³ ì •ë¶„í•  (Fixed partition) ë°©ì‹
    <ul>
      <li>ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ë¥¼ ëª‡ ê°œì˜ ì˜êµ¬ì  ë¶„í• ë¡œ ë‚˜ëˆ”</li>
      <li>ë¶„í• ì˜ í¬ê¸°ê°€ ëª¨ë‘ ë™ì¼í•œ ë°©ì‹ê³¼ ì„œë¡œ ë‹¤ë¥¸ ë°©ì‹ ì¡´ì¬</li>
      <li>ë¶„í• ë‹¹ í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ ì ì¬</li>
      <li>ë™ì‹œì— ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ìˆ˜ê°€ ê³ ì •ë¨</li>
      <li>ìµœëŒ€ ìˆ˜í–‰ ê°€ëŠ¥ í”„ë¡œê·¸ë¨ í¬ê¸° ì œí•œ</li>
      <li><code class="language-plaintext highlighter-rouge">internal fragmentation(ë‚´ë¶€ ì¡°ê°)</code>, <code class="language-plaintext highlighter-rouge">external fragmentation(ì™¸ë¶€ ì¡°ê°)</code> ë°œìƒ</li>
    </ul>
  </li>
  <li>ê°€ë³€ë¶„í•  (Variable partition) ë°©ì‹
    <ul>
      <li>í”„ë¡œê·¸ë¨ì˜ í¬ê¸°ë¥¼ ê³ ë ¤í•´ì„œ í• ë‹¹</li>
      <li>ë¶„í• ì˜ í¬ê¸°, ê°œìˆ˜ê°€ ë™ì ìœ¼ë¡œ ë³€í•¨</li>
      <li>ê¸°ìˆ ì  ê´€ë¦¬ ê¸°ë²• í•„ìš”</li>
      <li><code class="language-plaintext highlighter-rouge">external fragmentation(ì™¸ë¶€ ì¡°ê°)</code> ë°œìƒ</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">External fragmentation(ì™¸ë¶€ ì¡°ê°)</code>
    <ul>
      <li>í”„ë¡œê·¸ë¨ í¬ê¸°ë³´ë‹¤ ë¶„í•  í¬ê¸°ê°€ ì‘ì„ ë•Œ ìƒê¹€</li>
      <li>ì•„ë¬´ í”„ë¡œê·¸ë¨ì—ë„ ë°°ì •ë˜ì§€ ì•Šì€ ë¹ˆ ê³µê°„ì´ì§€ë§Œ í”„ë¡œê·¸ë¨ì´ ì˜¬ë¼ê°ˆ ìˆ˜ ì—†ëŠ” ì‘ì€ ê³µê°„</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Internal fragmentation(ë‚´ë¶€ ì¡°ê°)</code>
    <ul>
      <li>í”„ë¡œê·¸ë¨ í¬ê¸°ë³´ë‹¤ ë¶„í•  í¬ê¸°ê°€ ê¸€ ë•Œ ìƒê¹€</li>
      <li>í•˜ë‚˜ì˜ ë¶„í•  ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë©”ëª¨ë¦¬ ì¡°ê°</li>
      <li>íŠ¹ì • í”„ë¡œê·¸ë¨ì— ë°°ì •ë˜ì—ˆì§€ë§Œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê³µê°„</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Hole</code>
    <ul>
      <li>ê°€ìš© ë©”ëª¨ë¦¬ ê³µê°„</li>
      <li>ë‹¤ì–‘í•œ í¬ê¸°ì˜ <code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì´ ë©”ëª¨ë¦¬ ì—¬ëŸ¬ ê³³ì— í©ì–´ì ¸ ìˆë‹¤.</li>
      <li>í”„ë¡œì„¸ìŠ¤ê°€ ë„ì°©í•˜ë©´ ìˆ˜ìš©ê°€ëŠ¥í•œ <code class="language-plaintext highlighter-rouge">hole</code>ì„ í• ë‹¹</li>
      <li>ìš´ì˜ì²´ì œëŠ” ë‹¤ìŒì˜ ì •ë³´ ìœ ì§€ - í• ë‹¹ê³µê°„, ê°€ìš©ê³µê°„</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Dynamic Storage-Allocation Problem</code>
    <ul>
      <li>
        <p>ê°€ë³€ ë¶„í•  ë°©ì‹ì—ì„œ size = n ì¸ ìš”ì²­ì„ ë§Œì¡±í•˜ëŠ” ê°€ì¥ ì ì ˆí•œ <code class="language-plaintext highlighter-rouge">hole</code>ì„ ì°¾ëŠ” ë¬¸ì œ</p>
      </li>
      <li><code class="language-plaintext highlighter-rouge">First-fit</code>
        <ul>
          <li>ì‚¬ì´ì¦ˆê°€ n ì´ìƒì¸ ê²ƒ ì¤‘ ìµœì´ˆë¡œ ì°¾ì•„ì§€ëŠ” <code class="language-plaintext highlighter-rouge">hole</code>ì— í• ë‹¹</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">Best-fit</code>
        <ul>
          <li>ì‚¬ì´ì¦ˆê°€ n ì´ìƒì¸ ê°€ì¥ ì‘ì€ <code class="language-plaintext highlighter-rouge">hole</code>ì„ ì°¾ì•„ì„œ í• ë‹¹</li>
          <li><code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì˜ ë¦¬ìŠ¤íŠ¸ê°€ í¬ê¸°ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì§€ ì•Šì€ ê²½ìš° ëª¨ë“  <code class="language-plaintext highlighter-rouge">hole</code> ë¦¬ìŠ¤íŠ¸ë¥¼ íƒìƒ‰í•´ì•¼ í•¨</li>
          <li>ë§ì€ ìˆ˜ì˜ ì•„ì£¼ ì‘ì€ <code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì´ ìƒì„±ë¨</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">Wost-fit</code>
        <ul>
          <li>ê°€ì¥ í° <code class="language-plaintext highlighter-rouge">hole</code>ì— í• ë‹¹</li>
          <li>ëª¨ë“  ë¦¬ìŠ¤íŠ¸ë¥¼ íƒìƒ‰í•´ì•¼ í•¨</li>
          <li>ìƒëŒ€ì ìœ¼ë¡œ ì•„ì£¼ í° <code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì´ ìƒì„±ë¨</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">First-fit</code>ê³¼ <code class="language-plaintext highlighter-rouge">Best-fit</code>ì´ <code class="language-plaintext highlighter-rouge">Wost-fit</code>ë³´ë‹¤ ì†ë„ì™€ ê³µê°„ ì´ìš©ë¥  ì¸¡ë©´ì—ì„œ íš¨ê³¼ì </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Compaction</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">external fragmentation(ì™¸ë¶€ ì¡°ê°)</code> ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•</li>
      <li>ì‚¬ìš© ì¤‘ì¸ ë©”ëª¨ë¦¬ ì˜ì—­ì„ í•œ êµ°ë°ë¡œ ëª°ê³  <code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì„ ë‹¤ë¥¸ í•œ ê³³ìœ¼ë¡œ ëª°ì•„ í° <code class="language-plaintext highlighter-rouge">block</code>ì„ ë§Œë“œëŠ” ê²ƒ</li>
      <li>ì´ë ‡ê²Œ ë³´ë©´ <code class="language-plaintext highlighter-rouge">Windows</code>ì˜ ë””ìŠ¤í¬ ì¡°ê° ëª¨ìŒê³¼ ë¹„ìŠ·í•´ ë³´ì´ì§€ë§Œ ë””ìŠ¤í¬ ëª¨ìŒì€ ë””ìŠ¤í¬ì— ìˆëŠ” ì¡°ê°ë“¤ì„ ëª¨ìœ¼ëŠ” ê²ƒì¸ë° ë°˜í•´ <code class="language-plaintext highlighter-rouge">Compaction</code>ì€ ì‹¤í–‰ ì¤‘ì¸ ë©”ëª¨ë¦¬ì˜ ì¡°ê°ë“¤ì„ ëª¨ìœ¼ëŠ” ê²ƒì´ë¼ëŠ” ì ì—ì„œ ë‹¤ë¥´ë‹¤.</li>
      <li>ë¹„ìš©ì´ ë§¤ìš° ë§ì´ ë“ ë‹¤.</li>
      <li>ìµœì†Œí•œì˜ ë©”ëª¨ë¦¬ ì´ë™ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">Compaction</code>í•˜ëŠ” ë°©ë²•ì´ ìˆì§€ë§Œ ë§¤ìš° ë³µì¡í•˜ë‹¤.</li>
      <li>í”„ë¡œì„¸ìŠ¤ì˜ ì£¼ì†Œê°€ ì‹¤í–‰ ì‹œê°„ì— ë™ì ìœ¼ë¡œ ì¬ë°°ì¹˜ ê°€ëŠ¥í•œ ê²½ìš°ì—ë§Œ ìˆ˜í–‰ë  ìˆ˜ ìˆë‹¤. ëŸ°íƒ€ì„ ë°”ì¸ë”©ì´ ì§€ì›ë  ë•Œì—ë§Œ ì‚¬ìš© ê°€ëŠ¥</li>
    </ul>
  </li>
</ul>

<h1 id="paging">Paging</h1>
<ul>
  <li>í”„ë¡œì„¸ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">virtual memory</code>ë¥¼ ë™ì¼í•œ ì‚¬ì´ì¦ˆì˜ <code class="language-plaintext highlighter-rouge">page</code>ë¡œ ë‚˜ëˆˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">virtual memory</code>ì˜ ë‚´ìš©ì´ <code class="language-plaintext highlighter-rouge">page</code> ë‹¨ìœ„ë¡œ ë¹„ì—°ì†ì ìœ¼ë¡œ ì €ì¥ëœë‹¤.</li>
  <li>ì¼ë¶€ëŠ” <code class="language-plaintext highlighter-rouge">backing storage</code>ì—, ì¼ë¶€ëŠ” <code class="language-plaintext highlighter-rouge">physical memory</code>ì— ì €ì¥</li>
  <li>
    <p>ê° í˜ì´ì§€ë§ˆë‹¤ ë…¼ë¦¬ì  - ë¬¼ë¦¬ì  ì£¼ì†Œ ë§¤í•‘ ì •ë³´(í˜ì´ì§• í…Œì´ë¸”)ê°€ í•„ìš”í•˜ë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">physical memory</code>ë¥¼ ë™ì¼í•œ í¬ê¸°ì˜ <code class="language-plaintext highlighter-rouge">frame</code>ìœ¼ë¡œ ë‚˜ëˆ”</li>
  <li><code class="language-plaintext highlighter-rouge">logical memory</code>ë¥¼ ë™ì¼ í¬ê¸°ì˜ <code class="language-plaintext highlighter-rouge">page</code>ë¡œ ë‚˜ëˆ”(<code class="language-plaintext highlighter-rouge">frame</code>ê³¼ ê°™ì€ í¬ê¸°)</li>
  <li>ëª¨ë“  ê°€ìš© <code class="language-plaintext highlighter-rouge">frame</code>ë“¤ì„ ê´€ë¦¬</li>
  <li><code class="language-plaintext highlighter-rouge">page table</code>ì„ ì‚¬ìš©í•˜ì—¬ ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë°”ê¾¼ë‹¤.</li>
  <li>
    <p>ì™¸ë¶€ì¡°ê°ì´ ë°œìƒí•˜ì§€ ì•Šì§€ë§Œ í˜ì´ì§•í•œ í”„ë¡œì„¸ìŠ¤ì˜ ë§ˆì§€ë§‰ ì¡°ê°ì€ í˜ì´ì§€ í¬ê¸°ë³´ë‹¤ ì‘ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë‚´ë¶€ì¡°ê°ì€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.</p>
  </li>
  <li>ì†ë„ í–¥ìƒì„ ìœ„í•´ <code class="language-plaintext highlighter-rouge">TLB(Translation Look-aside Buffer)</code>ë¼ëŠ” í•˜ë“œì›¨ì–´ë¥¼ ì‚¬ìš©í•œë‹¤.
    <ul>
      <li>ì¼ì¢…ì˜ ìºì‹œë¡œ ë…¼ë¦¬ì  - ë¬¼ë¦¬ì  ì£¼ì†Œ ìŒì„ ê°€ì§€ê³  ìˆë‹¤.</li>
    </ul>
  </li>
  <li>í˜ì´ì§€ ê°¯ìˆ˜ë§Œí¼ í˜ì´ì§• í…Œì´ë¸”ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ê³µê°„ì´ ë§ì´ í•„ìš”í•˜ë‹¤.</li>
</ul>

<h2 id="two-level-page-table">Two-Level Page Table</h2>
<ul>
  <li>í˜ì´ì§€ í…Œì´ë¸” ê³µê°„ì„ ì¤„ì´ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. (ì†ë„ í–¥ìƒì ì¸ ì¸¡ë©´ì—ì„œëŠ” ë³„ íš¨ê³¼ ì—†ìŒ)</li>
  <li>í˜ì´ì§€ í…Œì´ë¸” ìì²´ë¥¼ í˜ì´ì§€ë¡œ êµ¬ì„±í•´ì„œ í˜ì´ì§€ ì•ˆì— í˜ì´ì§€ê°€ ë˜ ìˆëŠ” í˜•íƒœì´ë‹¤.</li>
  <li>ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í˜ì´ì§€ ì˜ì—­ì€ ì•ˆìª½ í˜ì´ì§€ í…Œì´ë¸”ì„ ì•ˆ ë§Œë“¤ê³  í¬ì¸í„°ë¥¼ <code class="language-plaintext highlighter-rouge">NULL</code>ë¡œ ë‘ê¸° ë•Œë¬¸ì— ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.</li>
  <li>ì£¼ì†Œ ê³µê°„ì´ ë” ì»¤ì§€ë©´ ë‹¤ë‹¨ê³„ í˜ì´ì§€ í…Œì´ë¸”ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.</li>
</ul>

<h2 id="memory-protection">Memory Protection</h2>
<ul>
  <li>
    <p>í˜ì´ì§€ í…Œì´ë¸” ê° <code class="language-plaintext highlighter-rouge">entry</code>ë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">bit</code>ë¥¼ ë‘”ë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Protection bit</code>
    <ul>
      <li>í˜ì´ì§€ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ ì„¤ì •(read/write/read-only ë“± ì—°ì‚°ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ)</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Valid-invalid bit</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">valid</code> : í•´ë‹¹ ì£¼ì†Œì˜ <code class="language-plaintext highlighter-rouge">frame</code>ì— ê·¸ í”„ë¡œì„¸ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ìœ íš¨í•œ ë‚´ìš©ì´ ìˆìŒì„ ëœ»í•¨(ì ‘ê·¼ í—ˆìš©)</li>
      <li><code class="language-plaintext highlighter-rouge">invalid</code> : í•´ë‹¹ ì£¼ì†Œì˜ <code class="language-plaintext highlighter-rouge">frame</code>ì— ìœ íš¨í•œ ë‚´ìš©ì´ ì—†ìŒ (ì ‘ê·¼ ë¶ˆí—ˆ)
        <ul>
          <li>í”„ë¡œì„¸ìŠ¤ê°€ ê·¸ ì£¼ì†Œ ë¶€ë¶„ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°</li>
          <li>í•´ë‹¹ í˜ì´ì§€ê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì™€ ìˆì§€ ì•Šê³  <code class="language-plaintext highlighter-rouge">swap area</code>ì— ìˆëŠ” ê²½ìš°</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="inverted-page-table">Inverted Page Table</h2>
<ul>
  <li>í˜ì´ì§€ ê°¯ìˆ˜ê°€ ë§ì•„ì§ì— ë”°ë¼ í˜ì´ì§€ í…Œì´ë¸”ì´ ì»¤ì§€ëŠ” ë¬¸ì œë¥¼ ì¤„ì—¬ë³´ë ¤ê³  ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”</li>
  <li>í”„ë¡œì„¸ìŠ¤ë³„ë¡œ í˜ì´ì§€ í…Œì´ë¸”ì„ ë‘ëŠ” ê²ƒì´ ì•„ë‹Œ í˜ì´ì§€ í”„ë ˆì„ í•˜ë‚˜ë‹¹ í˜ì´ì§€ í…Œì´ë¸”ì— í•˜ë‚˜ì˜ <code class="language-plaintext highlighter-rouge">entry</code>ë¥¼ ë‘” ê²ƒ</li>
  <li>ê° <code class="language-plaintext highlighter-rouge">page table entry</code>ëŠ” ê°ê°ì˜ ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ì˜ <code class="language-plaintext highlighter-rouge">page frame</code>ì´ ë‹´ê³  ìˆëŠ” ë‚´ìš© í‘œì‹œ</li>
  <li>ë¬¼ë¦¬ì  ì£¼ì†Œë¥¼ ë³´ê³  ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ì•Œ ìˆ˜ ìˆëŠ” í…Œì´ë¸”ì´ë¼ í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<h1 id="shared-page">Shared Page</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Shared code</code>
    <ul>
      <li>ê³µìœ ê°€ ê°€ëŠ¥í•œ ì½”ë“œëŠ” <code class="language-plaintext highlighter-rouge">read-only</code>ë¡œ í•œ <code class="language-plaintext highlighter-rouge">frame</code>ì—ë§Œ ì˜¬ë¦¬ëŠ” ê²ƒ</li>
      <li>ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">logical address space</code>ì—ì„œ ë™ì¼í•œ ìœ„ì¹˜ì— ìˆì–´ì•¼ í•¨</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Private code and data</code>
    <ul>
      <li>ê° í”„ë¡œì„¸ìŠ¤ë“¤ì€ ë…ìì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¼</li>
      <li><code class="language-plaintext highlighter-rouge">private data</code>ëŠ” <code class="language-plaintext highlighter-rouge">logical address space</code> ì•„ë¬´ ê³³ì— ì™€ë„ ë¬´ë°©í•¨</li>
    </ul>
  </li>
</ul>

<h1 id="segmentation">Segmentation</h1>
<ul>
  <li>í”„ë¡œê·¸ë¨ì€ ì˜ë¯¸ ë‹¨ìœ„ì¸ ì—¬ëŸ¬ ê°œì˜ <code class="language-plaintext highlighter-rouge">segment</code>ë¡œ êµ¬ì„±</li>
  <li>ì‘ê²ŒëŠ” í”„ë¡œê·¸ë¨ì„ êµ¬ì„±í•˜ëŠ” í•¨ìˆ˜ í•˜ë‚˜í•˜ë‚˜ì—ì„œ í¬ê²ŒëŠ” í”„ë¡œê·¸ë¨ ì „ì²´ê¹Œì§€ë„ ê°€ëŠ¥</li>
  <li>ì¼ë°˜ì ìœ¼ë¡œëŠ” <code class="language-plaintext highlighter-rouge">code</code>, <code class="language-plaintext highlighter-rouge">data</code>, <code class="language-plaintext highlighter-rouge">stack</code> ë¶€ë¶„ì´ í•˜ë‚˜ì”©ì˜ ì„¸ê·¸ë¨¼íŠ¸ë¡œ ì •ì˜ë¨
    <ul>
      <li><code class="language-plaintext highlighter-rouge">main()</code>, <code class="language-plaintext highlighter-rouge">function</code>, <code class="language-plaintext highlighter-rouge">global variables</code>, <code class="language-plaintext highlighter-rouge">stack</code>, <code class="language-plaintext highlighter-rouge">symbol table</code>, <code class="language-plaintext highlighter-rouge">arrays</code></li>
    </ul>
  </li>
  <li>ë…¼ë¦¬ì  ì£¼ì†ŒëŠ” <code class="language-plaintext highlighter-rouge">segment-number, offest</code> ìŒìœ¼ë¡œ êµ¬ì„±ëœë‹¤.</li>
  <li>ì„¸ê·¸ë¨¼íŠ¸ë³„ ì£¼ì†Œ ë³€í™˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” <code class="language-plaintext highlighter-rouge">segment table</code>ì´ í•„ìš”í•˜ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">segment-number</code>ë¡œë¶€í„° <code class="language-plaintext highlighter-rouge">offest</code>ë§Œí¼ ë–¨ì–´ì§„ ìœ„ì¹˜ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹</li>
  <li>ê° ì„¸ê·¸ë¨¼íŠ¸ë³„ë¡œ <code class="language-plaintext highlighter-rouge">protection bit</code> ì„¤ì •í•˜ê¸°ê°€ ìš©ì´í•˜ë‹¤.</li>
  <li>ì˜ë¯¸ ë‹¨ìœ„ì´ê¸° ë•Œë¬¸ì— ê³µìœ ì™€ ë³´ì•ˆì— ìˆì–´ í˜ì´ì§• ê¸°ë²•ë³´ë‹¤ í›¨ì”¬ íš¨ê³¼ì ì´ë‹¤.(í˜ì´ì§•ì€ í•œ í˜ì´ì§€ ì•ˆì— í•œ ì¢…ë¥˜ë§Œ ë“¤ì–´ìˆì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¢…ë¥˜ë³„ë¡œ ë³´ì•ˆ ì„¤ì •ì„ ë‹¤ë¥´ê²Œ í•´ ì¤˜ì•¼ í•œë‹¤)</li>
  <li>í˜ì´ì§• ê¸°ë²•ë³´ë‹¤ëŠ” í…Œì´ë¸” í¬ê¸°ê°€ ì‘ë‹¤.</li>
  <li>ì™¸ë¶€ì¡°ê° ë°œìƒ</li>
  <li>í• ë‹¹ì€ <code class="language-plaintext highlighter-rouge">first fit / best fit</code> ë°©ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë©° ì„¸ê·¸ë¨¼íŠ¸ì˜ ê¸¸ì´ê°€ ë™ì¼í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°€ë³€ë¶„í• ì—ì„œì™€ ë™ì¼í•œ ë¬¸ì œì ì´ ë°œìƒí•œë‹¤.</li>
</ul>

<h1 id="segmentation-with-paging">Segmentation with Paging</h1>
<ul>
  <li>ì„¸ê·¸ë¨¼íŠ¸ í•˜ë‚˜ê°€ ì—¬ëŸ¬ê°œì˜ í˜ì´ì§€ë¡œ êµ¬ì„±ëœë‹¤. ë‘˜ì„ ì„ì€ ê²ƒ</li>
  <li>í›¨ì”¬ íš¨ìœ¨ì ì´ë¼ ë§ì´ ì“°ëŠ” ë°©ì‹ì´ë‹¤.</li>
  <li>ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°ˆ ë• í˜ì´ì§€ ë‹¨ìœ„ë¡œ ì˜¬ë¼ê°€ê³  ê³µìœ ëŠ” ì„¸ê·¸ë¨¼íŠ¸ ë‹¨ìœ„ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì¶œì²˜">ì¶œì²˜</h1>
<ul>
  <li><a href="http://www.kocw.net/home/search/kemView.do?kemId=1046323">ìš´ì˜ì²´ì œ - ì´í™”ì—¬ìëŒ€í•™êµ KOCW ê³µê°œê°•ì˜</a></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Operating System" /><category term="CS" /><category term="OS" /><category term="Process" /><category term="MemoryManagement" /><summary type="html"><![CDATA[ğŸ‘€ ë…¼ë¦¬ì  ì£¼ì†Œì™€ ë¬¼ë¦¬ì  ì£¼ì†Œ ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ìœ„ì¹˜í•˜ê³  ìˆëŠ” ê³³ì„ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†ŒëŠ” ë…¼ë¦¬ì  ì£¼ì†Œì™€ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë‚˜ë‰œë‹¤.]]></summary></entry></feed>