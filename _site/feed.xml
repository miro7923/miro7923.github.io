<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.1">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2022-04-03T13:30:47+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Yujin Dev Log</title><subtitle>ê°œë°œ ê³µë¶€í•˜ëŠ” ë¸”ë¡œê·¸</subtitle><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><entry><title type="html">ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬) TCPì™€ UDP</title><link href="http://localhost:4000/computer%20network/computer-network-tcp-udp/" rel="alternate" type="text/html" title="ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬) TCPì™€ UDP" /><published>2022-04-03T00:00:00+09:00</published><updated>2022-04-03T00:00:00+09:00</updated><id>http://localhost:4000/computer%20network/computer-network-tcp-udp</id><content type="html" xml:base="http://localhost:4000/computer%20network/computer-network-tcp-udp/"><![CDATA[<h1 id="-transport-layer">ğŸ‘€ Transport Layer</h1>
<ul>
  <li>ì‘ìš© ê³„ì¸µ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ê³„ì¸µ</li>
  <li>ëŒ€í‘œì ì¸ ì„œë¹„ìŠ¤ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ ê°„ì˜ ë…¼ë¦¬ì  ì—°ê²°</li>
  <li>í•˜ë‚˜ì˜ ì»´í“¨í„° ì•ˆì—ì„œëŠ” ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ê¸°ë™ë˜ê³  ìˆë‹¤.</li>
  <li>ì „ì†¡ ê³„ì¸µ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ê³„ì¸µì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">IP</code>ë¥¼ ì´ìš©í•´ ìƒëŒ€ í˜¸ìŠ¤íŠ¸ë¥¼ ì°¾ì•„ê°€ëŠ”ë° ì´ê²ƒ ë§Œìœ¼ë¡œëŠ” ìƒëŒ€ë°©ì˜ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.</li>
  <li>ê·¸ë˜ì„œ ì „ì†¡ ê³„ì¸µì—ì„œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë“¤ ì¤‘ì—ì„œ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•´ì•¼ í•  ì§€ ì•Œë ¤ì£¼ëŠ” ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ë‹¤.</li>
  <li>ì „ì†¡ ê³„ì¸µì˜ ë³´ë‚´ëŠ” ìª½ì—ì„œëŠ” ë³´ë‚´ê³ ì í•˜ëŠ” ë©”ì„¸ì§€(íŒŒì¼ ë“±)ë¥¼ ë¶„í• í•œ ë‹¤ìŒì— ì„¸ê·¸ë¨¼íŠ¸ì— ë‹´ì•„ì„œ ì „ì†¡í•œë‹¤.</li>
  <li>ê·¸ëŸ¬ë©´ ë°›ëŠ” ìª½ì—ì„œ ë¶„í• ë˜ì–´ ì˜¨ ì„¸ê·¸ë¨¼íŠ¸ë“¤ì„ í•©ì¹œ í›„ì— ì‘ìš© ê³„ì¸µìœ¼ë¡œ ì „ë‹¬í•œë‹¤.</li>
  <li>ì´ë•Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí† ì½œì€ <code class="language-plaintext highlighter-rouge">TCP</code>ì™€ <code class="language-plaintext highlighter-rouge">UDP</code> ë‘ ê°€ì§€ê°€ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.<br /><br /></li>
</ul>

<h1 id="tcp">TCP</h1>
<ul>
  <li>ì‹ ë¢°ì„± ìˆëŠ” ì „ì†¡</li>
  <li>ë³´ë‚¸ ìˆœì„œëŒ€ë¡œ ì „ì†¡ì´ ë˜ëŠ”ë° ì‚¬ì‹¤ ë°ì´í„°ê°€ ë„ì°©í•˜ëŠ” ìˆœì„œëŠ” ì œê°ê°ì´ë‹¤. ê·¸ê±¸ ìˆœì„œëŒ€ë¡œ ë„ì°©í•œ ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“¤ì–´ì„œ ì‘ìš© ê³„ì¸µìœ¼ë¡œ ë³´ë‚´ëŠ” ê²ƒì´ <code class="language-plaintext highlighter-rouge">TCP</code>ê°€ í•˜ëŠ” ì¼ì´ë‹¤.</li>
  <li>ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê¸° ì „ì— ë¨¼ì € <code class="language-plaintext highlighter-rouge">connection</code>ì„ ì„¤ì •í•œ ë’¤ ë‘˜ ì‚¬ì´ì— íë¥´ëŠ” ë°ì´í„°ë“¤ì˜ ì—ëŸ¬ë‚˜ ì†ë„ë¥¼ ì œì–´í•´ì„œ ì „ì²´ì ìœ¼ë¡œ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•œë‹¤.<br /><br /></li>
</ul>

<h1 id="udp">UDP</h1>
<ul>
  <li>ì‹ ë¢°ì„± ì—†ëŠ” ì „ì†¡</li>
  <li><code class="language-plaintext highlighter-rouge">TCP</code>ì—ì„œ ì œê³µí•˜ëŠ” <code class="language-plaintext highlighter-rouge">connection</code>ê³¼ ìˆœì„œ ë³´ì¥ ë“±ì„ ì œê³µí•˜ì§€ ì•Šê³  ì „ì†¡ ê³„ì¸µì—ì„œ ì œê³µí•´ì•¼ í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ì„œë¹„ìŠ¤ë§Œ ì œê³µí•˜ê³  ë‚˜ë¨¸ì§€ëŠ” ì•„ë˜ ê³„ì¸µì— ë„˜ê¸°ëŠ” ë°©ì‹</li>
  <li>ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">TCP</code>ë³´ë‹¤ëŠ” ì†ë„ê°€ ë¹ ë¥´ë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì¶œì²˜">ì¶œì²˜</h1>
<ul>
  <li><a href="http://www.kmooc.kr/courses/course-v1:PNUk+CN_C01+2021_KM_013/video">ì»´í“¨í„° ë„¤íŠ¸ì›Œí‚¹ - ë¶€ì‚°ëŒ€í•™êµ K-MOOC ê³µê°œê°•ì˜</a></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Computer Network" /><category term="CS" /><category term="Network" /><category term="Application" /><summary type="html"><![CDATA[ğŸ‘€ Transport Layer ì‘ìš© ê³„ì¸µ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ê³„ì¸µ ëŒ€í‘œì ì¸ ì„œë¹„ìŠ¤ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ ê°„ì˜ ë…¼ë¦¬ì  ì—°ê²° í•˜ë‚˜ì˜ ì»´í“¨í„° ì•ˆì—ì„œëŠ” ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ê¸°ë™ë˜ê³  ìˆë‹¤. ì „ì†¡ ê³„ì¸µ ë°”ë¡œ ì•„ë˜ì— ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ê³„ì¸µì—ì„œëŠ” IPë¥¼ ì´ìš©í•´ ìƒëŒ€ í˜¸ìŠ¤íŠ¸ë¥¼ ì°¾ì•„ê°€ëŠ”ë° ì´ê²ƒ ë§Œìœ¼ë¡œëŠ” ìƒëŒ€ë°©ì˜ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ ì „ì†¡ ê³„ì¸µì—ì„œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë“¤ ì¤‘ì—ì„œ ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì „ë‹¬í•´ì•¼ í•  ì§€ ì•Œë ¤ì£¼ëŠ” ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ë‹¤. ì „ì†¡ ê³„ì¸µì˜ ë³´ë‚´ëŠ” ìª½ì—ì„œëŠ” ë³´ë‚´ê³ ì í•˜ëŠ” ë©”ì„¸ì§€(íŒŒì¼ ë“±)ë¥¼ ë¶„í• í•œ ë‹¤ìŒì— ì„¸ê·¸ë¨¼íŠ¸ì— ë‹´ì•„ì„œ ì „ì†¡í•œë‹¤. ê·¸ëŸ¬ë©´ ë°›ëŠ” ìª½ì—ì„œ ë¶„í• ë˜ì–´ ì˜¨ ì„¸ê·¸ë¨¼íŠ¸ë“¤ì„ í•©ì¹œ í›„ì— ì‘ìš© ê³„ì¸µìœ¼ë¡œ ì „ë‹¬í•œë‹¤. ì´ë•Œ ì‚¬ìš©í•˜ëŠ” í”„ë¡œí† ì½œì€ TCPì™€ UDP ë‘ ê°€ì§€ê°€ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 22 - ê²Œì‹œíŒ ì´ë¯¸ì§€ ì¸ë„¤ì¼ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-22/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 22 - ê²Œì‹œíŒ ì´ë¯¸ì§€ ì¸ë„¤ì¼ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-04-02T00:00:00+09:00</published><updated>2022-04-02T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-22</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-22/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©">ì§„í–‰ìƒí™©</h1>
<ul>
  <li>ê²Œì‹œê¸€ì— ì²¨ë¶€ëœ ì´ë¯¸ì§€ê°€ ìˆìœ¼ë©´ ë©”ì¸ í™”ë©´ì—ì„œ ê²Œì‹œê¸€ ë‚´ìš©ì„ ë¯¸ë¦¬ë³´ê¸°ë¡œ ë³´ì—¬ì¤„ ë•Œ ì´ë¯¸ì§€ë„ í•¨ê»˜ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
  <li>ì›ë³¸ ì´ë¯¸ì§€ë¡œ ì¸ë„¤ì¼ìš© ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” <code class="language-plaintext highlighter-rouge">Thumbnailator</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆë‹¤.</li>
</ul>

<h2 id="thumbnailator-ë¼ì´ë¸ŒëŸ¬ë¦¬-ë‹¤ìš´ë¡œë“œ-ë°-ì„¤ì¹˜">Thumbnailator ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜</h2>
<ul>
  <li><a href="https://search.maven.org/artifact/net.coobird/thumbnailator/0.4.17/jar">https://search.maven.org/artifact/net.coobird/thumbnailator/0.4.17/jar</a></li>
  <li>ìœ„ ì‚¬ì´íŠ¸ì— ì ‘ì†í•´ì„œ ì˜¤ë¥¸ìª½ ìƒë‹¨ì— ë³´ì´ëŠ” <code class="language-plaintext highlighter-rouge">Download</code> ë²„íŠ¼ì„ ëˆŒëŸ¬ <code class="language-plaintext highlighter-rouge">jar</code>íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•œë‹¤.</li>
  <li>ë‹¤ìš´ë°›ì€ <code class="language-plaintext highlighter-rouge">thumbnailator-0.4.17.jar</code> íŒŒì¼ì„ <code class="language-plaintext highlighter-rouge">WEB-INF/lib</code> í´ë”ì— ë„£ëŠ”ë‹¤.</li>
</ul>

<h2 id="boardwriteactionjava">BoardWriteAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.FilePart</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.MultipartParser</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.ParamPart</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.Part</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDTO</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">net.coobird.thumbnailator.Thumbnails</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">net.coobird.thumbnailator.name.Rename</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardWriteAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="c1">// .. ìƒëµ</span>
		
        <span class="k">while</span> <span class="o">((</span><span class="n">part</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="na">readNextPart</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="c1">//.. ìƒëµ</span>
            
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"image"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ì´ë¯¸ì§€ íŒŒì¼ì¼ ë•Œ</span>
                <span class="c1">// ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ ì§€ì •</span>
                <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/images"</span><span class="o">));</span>
                <span class="nc">File</span> <span class="n">originDir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">dir</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s">"origins"</span><span class="o">);</span> <span class="c1">// ì›ë³¸ ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ</span>
                <span class="nc">File</span> <span class="n">thumbnailDir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">dir</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="s">"thumbnails"</span><span class="o">);</span> <span class="c1">// ì¸ë„¤ì¼ ì €ì¥ ê²½ë¡œ</span>
				
                <span class="c1">// ê²½ë¡œê°€ ì—†ìœ¼ë©´ ìƒì„±</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">originDir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">originDir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">thumbnailDir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">thumbnailDir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
				
                <span class="nc">FilePart</span> <span class="n">filePart</span> <span class="o">=</span> <span class="o">(</span><span class="nc">FilePart</span><span class="o">)</span> <span class="n">part</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">file</span> <span class="o">=</span> <span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">file</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">{</span>
                    <span class="c1">// ì§€ì •í•œ ê²½ë¡œì— ì›ë³¸ ì´ë¯¸ì§€ íŒŒì¼ ì“°ê¸°</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">writeTo</span><span class="o">(</span><span class="n">originDir</span><span class="o">);</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
					
                    <span class="c1">// ì›ë³¸ ì´ë¯¸ì§€ íŒŒì¼ì„ ì´ìš©í•´ì„œ ì¸ë„¤ì¼ì„ ë§Œë“¤ì–´ ì €ì¥</span>
                    <span class="c1">// í¬ê¸° ì§€ì • í›„ ì§€ì • ê²½ë¡œì— ì €ì¥</span>
                    <span class="nc">Thumbnails</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">originDir</span><span class="o">.</span><span class="na">getPath</span><span class="o">()</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="n">file</span><span class="o">))</span>
                        <span class="o">.</span><span class="na">size</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span> <span class="mi">400</span><span class="o">)</span>
                        <span class="o">.</span><span class="na">toFiles</span><span class="o">(</span><span class="n">thumbnailDir</span><span class="o">,</span> <span class="nc">Rename</span><span class="o">.</span><span class="na">NO_CHANGE</span><span class="o">);</span>
					
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"img name: "</span><span class="o">+</span><span class="n">file</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="k">else</span> 
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"image; name: "</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"; EMPTY"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="c1">// .. ìƒëµ</span>
        <span class="o">}</span>
		
        <span class="c1">// .. ìƒëµ</span>
		
        <span class="k">return</span> <span class="n">forward</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ìƒˆ ê²Œì‹œê¸€ì„ ì‘ì„±í•˜ëŠ” ì„œë¸”ë¦¿ì—ì„œ ì›ë³¸ ì´ë¯¸ì§€ ì™¸ì—ë„ ì¸ë„¤ì¼ì„ ë§Œë“¤ì–´ ì €ì¥í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í–ˆë‹¤.</li>
  <li>ì›ë³¸ ì´ë¯¸ì§€ì™€ ì¸ë„¤ì¼ì„ ì €ì¥í•  í´ë”ë¥¼ ê°ê° êµ¬ë¶„í•´ì„œ ì—…ë¡œë“œí•œë‹¤.</li>
</ul>

<h2 id="boardimgactionjava">BoardImgAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.awt.image.renderable.ParameterBlock</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLEncoder</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.ServletOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardImgAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardImgAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// ì „ë‹¬ëœ ì´ë¯¸ì§€ íŒŒì¼ ì´ë¦„ ì €ì¥</span>
        <span class="nc">String</span> <span class="n">originImgName</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"img_name"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">thumbnailName</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"thumbnail"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">imgName</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
        <span class="c1">// ì„œë²„ì— ì—…ë¡œë“œ ëœ í´ë” ì°¾ê¸°</span>
        <span class="nc">String</span> <span class="n">savePath</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">originImgName</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="n">savePath</span> <span class="o">=</span> <span class="s">"images/origins"</span><span class="o">;</span>
            <span class="n">imgName</span> <span class="o">=</span> <span class="n">originImgName</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">else</span> 
        <span class="o">{</span>
            <span class="n">savePath</span> <span class="o">=</span> <span class="s">"images/thumbnails"</span><span class="o">;</span>
            <span class="n">imgName</span> <span class="o">=</span> <span class="n">thumbnailName</span><span class="o">;</span>
        <span class="o">}</span>
		
        <span class="c1">// ì„œë²„ì— ì—…ë¡œë“œ ëœ íŒŒì¼ ìœ„ì¹˜ ê³„ì‚°</span>
        <span class="nc">ServletContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">downloadPath</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="n">savePath</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"download path: "</span><span class="o">+</span><span class="n">downloadPath</span><span class="o">);</span>
		
        <span class="c1">// ë‹¤ìš´ë¡œë“œ í•  ì´ë¯¸ì§€ì˜ ì „ì²´ ê²½ë¡œ ê³„ì‚°</span>
        <span class="c1">// ì‚¬ìš©ì OSì— ë”°ë¼ ì—°ê²°ì êµ¬ë¶„</span>
        <span class="nc">String</span> <span class="n">imgPath</span> <span class="o">=</span> <span class="n">downloadPath</span> <span class="o">+</span> <span class="nc">File</span><span class="o">.</span><span class="na">separator</span> <span class="o">+</span> <span class="n">imgName</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"imgPath: "</span><span class="o">+</span><span class="n">imgPath</span><span class="o">);</span>
		
        <span class="c1">//.. ì´í•˜ ìƒëµ</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì¸ë„¤ì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë¡œì§ ë˜í•œ ê¸°ì¡´ì— ë§Œë“¤ì—ˆë˜ ì´ë¯¸ì§€ ë¡œë“œ ë¡œì§ê³¼ ê°™ê¸° ë•Œë¬¸ì— ê¸°ì¡´ í•¨ìˆ˜ë¥¼ ì•½ê°„ ìˆ˜ì •í–ˆë‹¤.</li>
  <li>íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ê°’ì— ë”°ë¼ ì›ë³¸ ì´ë¯¸ì§€ê°€ ìˆëŠ” í´ë”ì™€ ì¸ë„¤ì¼ì´ ìˆëŠ” í´ë”ì— ê°ê° ì ‘ê·¼í•´ì„œ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.</li>
  <li>í•˜ëµí•œ ì½”ë“œëŠ” <a href="https://miro7923.github.io/project%20log/cafe-project-21/">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 21 - ê²Œì‹œë¬¼ì— ì²¨ë¶€ëœ ì´ë¯¸ì§€ì™€ íŒŒì¼ ë‹¤ë¥¸ ê²½ë¡œì— ì €ì¥í•˜ê¸°</a> ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<h2 id="mainjsp">main.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">data-theme=</span><span class="s">"_bgp"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"_r"</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al16 ec8"</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Cont"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h2&gt;</span>ìµœì‹ ê¸€<span class="nt">&lt;/h2&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">""</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_BlockLarge"</span> <span class="na">id=</span><span class="s">"mainHref1"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- ì¸ë„¤ì¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ --&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"thumbnail1"</span> <span class="na">src=</span><span class="s">""</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Img"</span> <span class="na">role=</span><span class="s">"img"</span> <span class="na">aria-label=</span><span class="s">"alt text"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Txt"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Title"</span> <span class="na">id=</span><span class="s">"mainTitle1"</span><span class="nt">&gt;</span>Article Title<span class="nt">&lt;/h3&gt;</span>
          <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Category"</span> <span class="na">id=</span><span class="s">"mainContent1"</span><span class="nt">&gt;</span>Category<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al16 ch8 ec4"</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Cont"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">""</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_BlockSmall"</span> <span class="na">id=</span><span class="s">"mainHref2"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- ì¸ë„¤ì¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ --&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"thumbnail2"</span> <span class="na">src=</span><span class="s">""</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Img"</span> <span class="na">role=</span><span class="s">"img"</span> <span class="na">aria-label=</span><span class="s">"alt text"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Txt"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Title"</span> <span class="na">id=</span><span class="s">"mainTitle2"</span><span class="nt">&gt;</span>Article Title<span class="nt">&lt;/h3&gt;</span>
          <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Category"</span> <span class="na">id=</span><span class="s">"mainContent2"</span><span class="nt">&gt;</span>Category<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al16 ch8 ec4"</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Cont"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_BlockSmall"</span> <span class="na">id=</span><span class="s">"mainHref3"</span><span class="nt">&gt;</span>
        <span class="c">&lt;!-- ì¸ë„¤ì¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ --&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">"thumbnail3"</span> <span class="na">src=</span><span class="s">""</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Img"</span> <span class="na">role=</span><span class="s">"img"</span> <span class="na">aria-label=</span><span class="s">"alt text"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Txt"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Title"</span> <span class="na">id=</span><span class="s">"mainTitle3"</span><span class="nt">&gt;</span>Article Title<span class="nt">&lt;/h3&gt;</span>
          <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"MOD_ARTICLEBLOCKS1_Category"</span> <span class="na">id=</span><span class="s">"mainContent3"</span><span class="nt">&gt;</span>Category<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">img</code> íƒœê·¸ì— ê°ê° <code class="language-plaintext highlighter-rouge">thumbnail1, 2, 3</code> í˜•ì‹ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">id</code>ë¥¼ ì„¤ì •í•´ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ <code class="language-plaintext highlighter-rouge">src</code>ë¥¼ ì„¸íŒ…í•´ ì¤„ ê²ƒì´ë‹¤.</li>
</ul>

<h2 id="mainjs">main.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nx">getFeeds</span><span class="p">();</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">getFeeds</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">async</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./GetFeed.bo</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">dataType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">cnt</span><span class="dl">'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">len</span><span class="dl">'</span><span class="p">:</span> <span class="mi">70</span>
        <span class="p">},</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">titleId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#mainTitle</span><span class="dl">'</span><span class="p">;</span>
                    <span class="nx">titleId</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="nx">titleId</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">title</span><span class="p">);</span>

                    <span class="kd">var</span> <span class="nx">contentId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#mainContent</span><span class="dl">'</span><span class="p">;</span>
                    <span class="nx">contentId</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="nx">contentId</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">content</span><span class="p">);</span>

                    <span class="kd">var</span> <span class="nx">hrefId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#mainHref</span><span class="dl">'</span><span class="p">;</span>
                    <span class="nx">hrefId</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                    <span class="nx">$</span><span class="p">(</span><span class="nx">hrefId</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">'</span><span class="s1">href</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">./BoardContent.bo?num=</span><span class="dl">'</span><span class="o">+</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">num</span><span class="o">+</span><span class="dl">'</span><span class="s1">&amp;pageNum=1</span><span class="dl">'</span><span class="p">);</span>
					
                    <span class="kd">var</span> <span class="nx">thumbnailId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#thumbnail</span><span class="dl">'</span><span class="p">;</span>
                    <span class="nx">thumbnailId</span> <span class="o">+=</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">image</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">ì—†ìŒ</span><span class="dl">'</span><span class="p">)</span>
                        <span class="nx">$</span><span class="p">(</span><span class="nx">thumbnailId</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>
                    <span class="k">else</span> 
                        <span class="nx">$</span><span class="p">(</span><span class="nx">thumbnailId</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">./BoardImgAction.bo?thumbnail=</span><span class="dl">'</span><span class="o">+</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">image</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">GetFeed.java</code>ì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„° ì¤‘ ì´ë¯¸ì§€ ì •ë³´ê°€ ìˆì„ ë•Œì—ë§Œ ì¸ë„¤ì¼ ì´ë¯¸ì§€ë¥¼ ì¶œë ¥í•œë‹¤.</li>
</ul>

<h2 id="getfeedjava">GetFeed.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.json.simple.JSONArray</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.json.simple.JSONObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GetFeed</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ajax ì‹œì‘_GetFeed - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="nc">BoardDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDAO</span><span class="o">();</span>
        <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">BoardDTO</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">getPosts</span>
            <span class="o">(</span><span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"cnt"</span><span class="o">)),</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"len"</span><span class="o">)));</span>
		
        <span class="c1">// DBì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ë“¤ì„ jsonì— ì €ì¥</span>
        <span class="nc">JSONArray</span> <span class="n">feedList</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JSONArray</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span>
        <span class="o">{</span>
            <span class="nc">JSONObject</span> <span class="n">feed</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JSONObject</span><span class="o">();</span>
            <span class="n">feed</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"num"</span><span class="o">,</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getNum</span><span class="o">());</span>
            <span class="n">feed</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"title"</span><span class="o">,</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getTitle</span><span class="o">());</span>
            <span class="n">feed</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"content"</span><span class="o">,</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getContent</span><span class="o">());</span>
            <span class="n">feed</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"image"</span><span class="o">,</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">getImage</span><span class="o">());</span>
			
            <span class="n">feedList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">feed</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="c1">// í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°ì´í„° ë³´ë‚´ê¸°</span>
        <span class="c1">// í•œê¸€ì²˜ë¦¬</span>
        <span class="n">response</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
        <span class="c1">// json ë°ì´í„° ë„˜ê¹€</span>
        <span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">().</span><span class="na">print</span><span class="o">(</span><span class="n">feedList</span><span class="o">.</span><span class="na">toJSONString</span><span class="o">());</span>
        <span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">().</span><span class="na">close</span><span class="o">();</span>
		
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">GetFeed.java</code>ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">json</code>ë°ì´í„°ë¥¼ ë„˜ê¸´ë‹¤.<br /><br /></li>
</ul>

<p align="center"><img src="../../assets/images/thumbnail.png" /></p>

<ul>
  <li>ì™„ì„±! ğŸ‘</li>
  <li>ì²¨ë¶€ëœ ì´ë¯¸ì§€ê°€ ìˆì„ ë•Œì—ë§Œ ì¸ë„¤ì¼ì„ ì¶œë ¥í•˜ê³  ì—†ì„ ë•Œì—” ì¶œë ¥í•˜ì§€ ì•ŠëŠ”ë‹¤.<br /><br /></li>
</ul>

<h1 id="ì¶œì²˜">ì¶œì²˜</h1>
<ul>
  <li><a href="https://nm-it-diary.tistory.com/66">[JAVA] ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ, ì¸ë„¤ì¼ ë§Œë“¤ê¸° - Thumbnails.of</a><br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li>ë§ˆê° ê¸°í•œì´ ëŠ˜ì–´ë‚¬ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">D-5</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">OS) Memory Management</title><link href="http://localhost:4000/operating%20system/OS-08-Memory-Management/" rel="alternate" type="text/html" title="OS) Memory Management" /><published>2022-04-02T00:00:00+09:00</published><updated>2022-04-02T00:00:00+09:00</updated><id>http://localhost:4000/operating%20system/OS-08-Memory-Management</id><content type="html" xml:base="http://localhost:4000/operating%20system/OS-08-Memory-Management/"><![CDATA[<h1 id="-ë…¼ë¦¬ì -ì£¼ì†Œì™€-ë¬¼ë¦¬ì -ì£¼ì†Œ">ğŸ‘€ ë…¼ë¦¬ì  ì£¼ì†Œì™€ ë¬¼ë¦¬ì  ì£¼ì†Œ</h1>
<ul>
  <li>
    <p>ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ìœ„ì¹˜í•˜ê³  ìˆëŠ” ê³³ì„ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†ŒëŠ” ë…¼ë¦¬ì  ì£¼ì†Œì™€ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë‚˜ë‰œë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Logical address (= virtual address)</code>
    <ul>
      <li>í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ ë…ë¦½ì ìœ¼ë¡œ ê°€ì§€ëŠ” ì£¼ì†Œ ê³µê°„</li>
      <li>ê° í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ 0ë²ˆì§€ë¶€í„° ì‹œì‘</li>
      <li><code class="language-plaintext highlighter-rouge">CPU</code>ê°€ ë³´ëŠ” ì£¼ì†ŒëŠ” <code class="language-plaintext highlighter-rouge">logical address</code>ì„</li>
      <li>ì™œëƒë©´ ì½”ë“œìƒì˜ ì£¼ì†Œê°€ <code class="language-plaintext highlighter-rouge">logical address</code>ì¸ë° ì´ê²Œ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë°”ë€ë‹¤ í•´ì„œ ì½”ë“œìƒì˜ ì£¼ì†Œë„ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë°”ë€ŒëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ë§Œì•½ ë°”ë€ë‹¤ë©´ ì»´íŒŒì¼ì„ ìƒˆë¡œ í•´ì•¼ í•˜ëŠ”ë° ì´ëŸ¬ë©´ ì´ìƒí•˜ë‹¤. ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">CPU</code>ëŠ” ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ì°¸ê³ í•˜ê²Œ ëœë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Physical address</code>
    <ul>
      <li>ë©”ëª¨ë¦¬ì— ì‹¤ì œë¡œ ì˜¬ë¼ê°€ëŠ” ìœ„ì¹˜</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">CPU</code>ê°€ <code class="language-plaintext highlighter-rouge">instruction</code>ì„ ìˆ˜í–‰í•˜ë‹¤ê°€ ë©”ëª¨ë¦¬ì— ìˆëŠ” ë°ì´í„°ì— ì ‘ê·¼í•  í•„ìš”ê°€ ìˆìœ¼ë©´ ê·¸ ë°ì´í„°ê°€ ìœ„ì¹˜í•˜ê³  ìˆëŠ” ì£¼ì†Œë¥¼ ì•Œì•„ì•¼ í•œë‹¤.</li>
  <li>ì´ë•Œ ì½”ë“œì— ë¬¼ë¦¬ì  ì£¼ì†Œê°€ í•­ìƒ ëª…ì‹œë˜ì–´ ìˆì–´ì„œ ë°”ë¡œ ê·¸ ìœ„ì¹˜ë¡œ ê°€ì„œ ì½ì–´ì˜¤ë©´ ì„œë¡œ í¸í•˜ê² ì§€ë§Œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ì»´í“¨í„°ì™€ í™˜ê²½ì— ë”°ë¼ í•­ìƒ ê°™ì€ ë¬¼ë¦¬ì  ì£¼ì†Œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ë³´ì¥ì´ ì—†ë‹¤.</li>
  <li>ê·¸ë˜ì„œ ì½”ë“œì—ëŠ” ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ì‚¬ìš©í•´ ê° í”„ë¡œì„¸ìŠ¤ë³„ë¡œ ì „ìš© ì£¼ì†Œê³µê°„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ê³  ê·¸ ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ì´ìš©í•´ ë©”ëª¨ë¦¬ì— ì‹¤ì œë¡œ ì˜¬ë ¤ì ¸ ìˆëŠ” ìœ„ì¹˜ë¥¼ ì°¸ê³ í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">CPU</code>ëŠ” ë©”ëª¨ë¦¬ì— ì ‘ê·¼í•  í•„ìš”ê°€ ìˆìœ¼ë©´ ë¨¼ì € ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë³€í™˜í•œ ë’¤ í•´ë‹¹ ìœ„ì¹˜ì— ì ‘ê·¼í•´ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¨ë‹¤.</li>
</ul>

<h2 id="ì£¼ì†Œ-ë°”ì¸ë”©address-binding">ì£¼ì†Œ ë°”ì¸ë”©(Address Binding)</h2>
<ul>
  <li>ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” ê²ƒ</li>
  <li>í•˜ì§€ë§Œ ì£¼ì†Œë³€í™˜ì€ <code class="language-plaintext highlighter-rouge">CPU</code>ê°€ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ í•˜ë“œì›¨ì–´ì ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤.</li>
  <li>ì£¼ì†Œë³€í™˜ì´ í•„ìš”í•  ë•Œë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">CPU</code>ê°€ í•„ìš”í•˜ë©´ ê·¸ ë•Œë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">interrupt</code>ê°€ ì¼ì–´ë‚˜ê²Œ ë  ê²ƒì´ê³  ê·¸ê±´ êµ‰ì¥íˆ ë¹„íš¨ìœ¨ì ì¼ ê²ƒì´ë‹¤.</li>
</ul>

<h3 id="ì£¼ì†Œ-ë°”ì¸ë”©-ì‹œì ì—-ë”°ë¥¸-ë¶„ë¥˜">ì£¼ì†Œ ë°”ì¸ë”© ì‹œì ì— ë”°ë¥¸ ë¶„ë¥˜</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Compile time binding</code>
    <ul>
      <li>ì»´íŒŒì¼ë  ë•Œ ë¬¼ë¦¬ì  ì£¼ì†Œê°€ ê²°ì •ëœë‹¤.</li>
      <li>ì‹œì‘ìœ„ì¹˜ê°€ ë³€ê²½ë˜ë©´ ì¬ì»´íŒŒì¼</li>
      <li>ì»´íŒŒì¼ëŸ¬ëŠ” ì ˆëŒ€ ì½”ë“œ(absolute code) ìƒì„±</li>
      <li>ì˜›ë‚ ì— ë§ì´ ì“°ë‹¤ê°€ ì§€ê¸ˆì€ ì˜ ì•ˆ ì“´ë‹¤.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Load time binding</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Loader</code>ì˜ ì±…ì„í•˜ì— ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ ì£¼ì†Œ ë¶€ì—¬</li>
      <li>í”„ë¡œê·¸ë¨ì´ ë©”ëª¨ë¦¬ì— ë¡œë“œë  ë•Œ ë¬¼ë¦¬ì  ì£¼ì†Œê°€ ê²°ì •ëœë‹¤.</li>
      <li>ì»´íŒŒì¼ëŸ¬ê°€ ì¬ë°°ì¹˜ ê°€ëŠ¥ ì½”ë“œ(relocatable code)ë¥¼ ìƒì„±í•œ ê²½ìš° ê°€ëŠ¥</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Execution time binding (= Run time binding)</code>
    <ul>
      <li>ìˆ˜í–‰ì´ ì‹œì‘ëœ ì´í›„ì—ë„ í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ ìƒ ìœ„ì¹˜ë¥¼ ì˜®ê¸¸ ìˆ˜ ìˆë‹¤.</li>
      <li><code class="language-plaintext highlighter-rouge">CPU</code>ê°€ ì£¼ì†Œë¥¼ ì°¸ì¡°í•  ë•Œë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">binding</code> ì ê²€ (address mapping table)</li>
      <li>í•˜ë“œì›¨ì–´ì—ì„œ ì§€ì›í•´ì•¼ ê°€ëŠ¥í•˜ë‹¤.</li>
      <li>ìµœê·¼ ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹</li>
    </ul>
  </li>
</ul>

<h2 id="memory-management-unit-mmu">Memory-Management Unit (MMU)</h2>
<ul>
  <li>ì£¼ì†Œ ë³€í™˜ì„ ìœ„í•œ í•˜ë“œì›¨ì–´</li>
  <li>ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë§¤í•‘í•´ ì¤€ë‹¤.</li>
  <li>ì‹¤ì œ ë¬¼ë¦¬ì  ì£¼ì†Œì˜ ì‹œì‘ì ì—ì„œ ë…¼ë¦¬ì  ì£¼ì†Œì˜ <code class="language-plaintext highlighter-rouge">offset</code>ë§Œí¼ì„ ë”í•´ì„œ ë¬¼ë¦¬ì  ì£¼ì†Œë¥¼ ì•Œë ¤ì¤€ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">Limit register</code> : ë§Œì•½ í”„ë¡œì„¸ìŠ¤ê°€ ìê¸° ë²”ìœ„ë¥¼ ë„˜ì–´ê°€ëŠ” ìœ„ì¹˜ì— ìˆëŠ” ë°ì´í„°ì— ì ‘ê·¼ì„ ìš”êµ¬í•˜ë©´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ì¤‘ìš” ë°ì´í„°ì— ì ‘ê·¼í•˜ê²Œ ë  ìˆ˜ ìˆë‹¤. ê·¸ë˜ì„œ ì£¼ì†Œë¥¼ ë³€í™˜í•  ë•Œ í”„ë¡œì„¸ìŠ¤ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ì£¼ì†Œì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ë¨¼ì € ì œí•œí•´ë†“ê³  ê·¸ ë²”ìœ„ ì•ˆì—ì„œë§Œ ë³€í™˜í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.<br /><br /></li>
</ul>

<h1 id="ë©”ëª¨ë¦¬-ë¡œë“œ-ê¸°ë²•ë“¤">ë©”ëª¨ë¦¬ ë¡œë“œ ê¸°ë²•ë“¤</h1>
<h2 id="dynamic-loading">Dynamic Loading</h2>
<ul>
  <li>í”„ë¡œì„¸ìŠ¤ ì „ì²´ë¥¼ ë©”ëª¨ë¦¬ì— ë¯¸ë¦¬ ë‹¤ ì˜¬ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•´ë‹¹ ë£¨í‹´ì´ ë¶ˆë ¤ì§ˆ ë•Œ ë©”ëª¨ë¦¬ì— <code class="language-plaintext highlighter-rouge">load</code>í•˜ëŠ” ê²ƒ</li>
  <li><code class="language-plaintext highlighter-rouge">memory utilization</code>ì´ í–¥ìƒë¨</li>
  <li>ê°€ë”ì”© ì‚¬ìš©ë˜ëŠ” ì½”ë“œê°€ ë§ì„ ë•Œ ìœ ìš©í•˜ë‹¤.
    <ul>
      <li>ìì£¼ ì‚¬ìš©ë˜ëŠ” ë¶€ë¶„ì´ í•œì •ì ì¸ë° ì „ì²´ë¥¼ ì˜¬ë¦¬ë©´ ë¹„íš¨ìœ¨ì ì´ë‹¤.</li>
      <li>ì˜ˆ : ì˜¤ë¥˜ ì²˜ë¦¬ ë£¨í‹´</li>
    </ul>
  </li>
  <li>ìš´ì˜ì²´ì œì˜ íŠ¹ë³„í•œ ì§€ì› ì—†ì´ í”„ë¡œê·¸ë¨ ìì²´ì—ì„œ êµ¬í˜„ ê°€ëŠ¥ (<code class="language-plaintext highlighter-rouge">OS</code>ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì§€ì› ê°€ëŠ¥)</li>
</ul>

<h2 id="dynamic-linking">Dynamic Linking</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Linking</code>ì„ ì‹¤í–‰ì‹œê°„(execution time)`ê¹Œì§€ ë¯¸ë£¨ëŠ” ê¸°ë²•</li>
  <li><code class="language-plaintext highlighter-rouge">Static linking</code>
    <ul>
      <li>ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ íŒŒì¼ ì½”ë“œì— í¬í•¨ë¨</li>
      <li>ì‹¤í–‰ íŒŒì¼ì˜ í¬ê¸°ê°€ ì»¤ì§</li>
      <li>ë™ì¼í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¬ë¯€ë¡œ ë©”ëª¨ë¦¬ ë‚­ë¹„ê°€ ìƒê¸´ë‹¤.(ì˜ˆ: <code class="language-plaintext highlighter-rouge">printf</code>í•¨ìˆ˜ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œ)</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Overlays</code>
    <ul>
      <li>ë©”ëª¨ë¦¬ì— í”„ë¡œì„¸ìŠ¤ì˜ ë¶€ë¶„ ì¤‘ ì‹¤ì œ í•„ìš”í•œ ì •ë³´ë§Œì„ ì˜¬ë¦¼</li>
      <li>ì´ë ‡ê²Œ ë³´ë©´ <code class="language-plaintext highlighter-rouge">Dynamic loading</code>ê³¼ ë¹„ìŠ·í•´ ë³´ì´ì§€ë§Œ í”„ë¡œê·¸ë˜ë¨¸ê°€ ìˆ˜ì‘ì—…ìœ¼ë¡œ êµ¬í˜„í•´ì•¼ í•œë‹¤ëŠ” ì ì—ì„œ ë‹¤ë¥´ë‹¤. ì‘ì€ ê³µê°„ì˜ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ë˜ ì´ˆì°½ê¸° ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©í•˜ë˜ ë°©ì‹ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë°ì´ ë§¤ìš° ë³µì¡í•˜ë‹¤.</li>
      <li>í”„ë¡œì„¸ìŠ¤ì˜ í¬ê¸°ê°€ ë©”ëª¨ë¦¬ë³´ë‹¤ í´ ë•Œ ìœ ìš©</li>
      <li>ìš´ì˜ì²´ì œì˜ ì§€ì› ì—†ì´ ì‚¬ìš©ìì— ì˜í•´ êµ¬í˜„</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Dynamic linking</code>
    <ul>
      <li>ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì‹¤í–‰ì‹œ ì—°ê²°ëœë‹¤.</li>
      <li>ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜¸ì¶œ ë¶€ë¶„ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ ë£¨í‹´ì˜ ìœ„ì¹˜ë¥¼ ì°¾ê¸° ìœ„í•œ <code class="language-plaintext highlighter-rouge">stub</code>ì´ë¼ëŠ” ì‘ì€ ì½”ë“œë¥¼ ë‘”ë‹¤.</li>
      <li>ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì´ë¯¸ ë©”ëª¨ë¦¬ì— ìˆìœ¼ë©´ ê·¸ ë£¨í‹´ì˜ ì£¼ì†Œë¡œ ê°€ê³  ì—†ìœ¼ë©´ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ì˜´</li>
      <li>ìš´ì˜ì²´ì œì˜ ë„ì›€ í•„ìš”</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Swapping</code>
    <ul>
      <li>í”„ë¡œì„¸ìŠ¤ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ì„œ <code class="language-plaintext highlighter-rouge">backing store(í•˜ë“œë””ìŠ¤í¬)</code>ë¡œ ì«“ì•„ë‚´ëŠ” ê²ƒ</li>
      <li><code class="language-plaintext highlighter-rouge">Backing store</code> : ë§ì€ ì‚¬ìš©ìì˜ í”„ë¡œì„¸ìŠ¤ ì´ë¯¸ì§€ë¥¼ ë‹´ì„ ë§Œí¼ ì¶©ë¶„íˆ ë¹ ë¥´ê³  í° ì €ì¥ ê³µê°„</li>
      <li>ì¼ë°˜ì ìœ¼ë¡œ ì¤‘ê¸° ìŠ¤ì¼€ì¤„ëŸ¬(swapper)ì— ì˜í•´ <code class="language-plaintext highlighter-rouge">swap in/out</code>ë  í”„ë¡œì„¸ìŠ¤ê°€ ì„ ì •ëœë‹¤.</li>
      <li>í”„ë¡œì„¸ìŠ¤ì˜ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ <code class="language-plaintext highlighter-rouge">swap</code>ì´ ì´ë£¨ì–´ì§„ë‹¤.</li>
      <li><code class="language-plaintext highlighter-rouge">Compile time</code> í˜¹ì€ <code class="language-plaintext highlighter-rouge">load time binding</code>ì—ì„œëŠ” ì›ë˜ ë©”ëª¨ë¦¬ ìœ„ì¹˜ë¡œ <code class="language-plaintext highlighter-rouge">swap in</code>í•´ì•¼ í•¨</li>
      <li><code class="language-plaintext highlighter-rouge">Execution time binding</code>ì—ì„œëŠ” ì¶”í›„ ë¹ˆ ë©”ëª¨ë¦¬ ì˜ì—­ ì•„ë¬´ ê³³ì—ë‚˜ ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.</li>
      <li><code class="language-plaintext highlighter-rouge">swap time</code>ì€ ëŒ€ë¶€ë¶„ <code class="language-plaintext highlighter-rouge">transfer time</code>(swapë˜ëŠ” ì–‘ì— ë¹„ë¡€í•˜ëŠ” ì‹œê°„)ì´ë‹¤.</li>
    </ul>
  </li>
</ul>

<h2 id="allocation-of-physical-memory">Allocation of Physical Memory</h2>
<ul>
  <li>
    <p>ë©”ëª¨ë¦¬ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‘ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰˜ì–´ ì‚¬ìš©ëœë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">OS</code> ìƒì£¼ ì˜ì—­ : <code class="language-plaintext highlighter-rouge">interrupt vector</code>ì™€ í•¨ê»˜ ë‚®ì€ ì£¼ì†Œ ì˜ì—­ ì‚¬ìš©</li>
  <li>ì‚¬ìš©ì í”„ë¡œì„¸ìŠ¤ ì˜ì—­ : ë†’ì€ ì£¼ì†Œ ì˜ì—­ ì‚¬ìš©</li>
</ul>

<h2 id="ì‚¬ìš©ì-í”„ë¡œì„¸ìŠ¤-ì˜ì—­ì˜-í• ë‹¹-ë°©ë²•">ì‚¬ìš©ì í”„ë¡œì„¸ìŠ¤ ì˜ì—­ì˜ í• ë‹¹ ë°©ë²•</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Contiguous allocation</code>
    <ul>
      <li>ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì˜ ì—°ì†ì ì¸ ê³µê°„ì— ì ì¬ë˜ë„ë¡ í•˜ëŠ” ê²ƒ</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Noncontiguous allocation</code>
    <ul>
      <li>í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë©”ëª¨ë¦¬ì˜ ì—¬ëŸ¬ ì˜ì—­ì— ë¶„ì‚°ë˜ì–´ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆë‹¤.</li>
      <li>í˜„ëŒ€ ìš´ì˜ì²´ì œì—ì„œ ì‚¬ìš©</li>
    </ul>
  </li>
</ul>

<h3 id="contiguous-allocation">Contiguous Allocation</h3>
<ul>
  <li>ê³ ì •ë¶„í•  (Fixed partition) ë°©ì‹
    <ul>
      <li>ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ë¥¼ ëª‡ ê°œì˜ ì˜êµ¬ì  ë¶„í• ë¡œ ë‚˜ëˆ”</li>
      <li>ë¶„í• ì˜ í¬ê¸°ê°€ ëª¨ë‘ ë™ì¼í•œ ë°©ì‹ê³¼ ì„œë¡œ ë‹¤ë¥¸ ë°©ì‹ ì¡´ì¬</li>
      <li>ë¶„í• ë‹¹ í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ ì ì¬</li>
      <li>ë™ì‹œì— ë©”ëª¨ë¦¬ì— ë¡œë“œë˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ìˆ˜ê°€ ê³ ì •ë¨</li>
      <li>ìµœëŒ€ ìˆ˜í–‰ ê°€ëŠ¥ í”„ë¡œê·¸ë¨ í¬ê¸° ì œí•œ</li>
      <li><code class="language-plaintext highlighter-rouge">internal fragmentation(ë‚´ë¶€ ì¡°ê°)</code>, <code class="language-plaintext highlighter-rouge">external fragmentation(ì™¸ë¶€ ì¡°ê°)</code> ë°œìƒ</li>
    </ul>
  </li>
  <li>ê°€ë³€ë¶„í•  (Variable partition) ë°©ì‹
    <ul>
      <li>í”„ë¡œê·¸ë¨ì˜ í¬ê¸°ë¥¼ ê³ ë ¤í•´ì„œ í• ë‹¹</li>
      <li>ë¶„í• ì˜ í¬ê¸°, ê°œìˆ˜ê°€ ë™ì ìœ¼ë¡œ ë³€í•¨</li>
      <li>ê¸°ìˆ ì  ê´€ë¦¬ ê¸°ë²• í•„ìš”</li>
      <li><code class="language-plaintext highlighter-rouge">external fragmentation(ì™¸ë¶€ ì¡°ê°)</code> ë°œìƒ</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">External fragmentation(ì™¸ë¶€ ì¡°ê°)</code>
    <ul>
      <li>í”„ë¡œê·¸ë¨ í¬ê¸°ë³´ë‹¤ ë¶„í•  í¬ê¸°ê°€ ì‘ì„ ë•Œ ìƒê¹€</li>
      <li>ì•„ë¬´ í”„ë¡œê·¸ë¨ì—ë„ ë°°ì •ë˜ì§€ ì•Šì€ ë¹ˆ ê³µê°„ì´ì§€ë§Œ í”„ë¡œê·¸ë¨ì´ ì˜¬ë¼ê°ˆ ìˆ˜ ì—†ëŠ” ì‘ì€ ê³µê°„</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Internal fragmentation(ë‚´ë¶€ ì¡°ê°)</code>
    <ul>
      <li>í”„ë¡œê·¸ë¨ í¬ê¸°ë³´ë‹¤ ë¶„í•  í¬ê¸°ê°€ ê¸€ ë•Œ ìƒê¹€</li>
      <li>í•˜ë‚˜ì˜ ë¶„í•  ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ë©”ëª¨ë¦¬ ì¡°ê°</li>
      <li>íŠ¹ì • í”„ë¡œê·¸ë¨ì— ë°°ì •ë˜ì—ˆì§€ë§Œ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” ê³µê°„</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Hole</code>
    <ul>
      <li>ê°€ìš© ë©”ëª¨ë¦¬ ê³µê°„</li>
      <li>ë‹¤ì–‘í•œ í¬ê¸°ì˜ <code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì´ ë©”ëª¨ë¦¬ ì—¬ëŸ¬ ê³³ì— í©ì–´ì ¸ ìˆë‹¤.</li>
      <li>í”„ë¡œì„¸ìŠ¤ê°€ ë„ì°©í•˜ë©´ ìˆ˜ìš©ê°€ëŠ¥í•œ <code class="language-plaintext highlighter-rouge">hole</code>ì„ í• ë‹¹</li>
      <li>ìš´ì˜ì²´ì œëŠ” ë‹¤ìŒì˜ ì •ë³´ ìœ ì§€ - í• ë‹¹ê³µê°„, ê°€ìš©ê³µê°„</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Dynamic Storage-Allocation Problem</code>
    <ul>
      <li>
        <p>ê°€ë³€ ë¶„í•  ë°©ì‹ì—ì„œ size = n ì¸ ìš”ì²­ì„ ë§Œì¡±í•˜ëŠ” ê°€ì¥ ì ì ˆí•œ <code class="language-plaintext highlighter-rouge">hole</code>ì„ ì°¾ëŠ” ë¬¸ì œ</p>
      </li>
      <li><code class="language-plaintext highlighter-rouge">First-fit</code>
        <ul>
          <li>ì‚¬ì´ì¦ˆê°€ n ì´ìƒì¸ ê²ƒ ì¤‘ ìµœì´ˆë¡œ ì°¾ì•„ì§€ëŠ” <code class="language-plaintext highlighter-rouge">hole</code>ì— í• ë‹¹</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">Best-fit</code>
        <ul>
          <li>ì‚¬ì´ì¦ˆê°€ n ì´ìƒì¸ ê°€ì¥ ì‘ì€ <code class="language-plaintext highlighter-rouge">hole</code>ì„ ì°¾ì•„ì„œ í• ë‹¹</li>
          <li><code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì˜ ë¦¬ìŠ¤íŠ¸ê°€ í¬ê¸°ìˆœìœ¼ë¡œ ì •ë ¬ë˜ì§€ ì•Šì€ ê²½ìš° ëª¨ë“  <code class="language-plaintext highlighter-rouge">hole</code> ë¦¬ìŠ¤íŠ¸ë¥¼ íƒìƒ‰í•´ì•¼ í•¨</li>
          <li>ë§ì€ ìˆ˜ì˜ ì•„ì£¼ ì‘ì€ <code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì´ ìƒì„±ë¨</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">Wost-fit</code>
        <ul>
          <li>ê°€ì¥ í° <code class="language-plaintext highlighter-rouge">hole</code>ì— í• ë‹¹</li>
          <li>ëª¨ë“  ë¦¬ìŠ¤íŠ¸ë¥¼ íƒìƒ‰í•´ì•¼ í•¨</li>
          <li>ìƒëŒ€ì ìœ¼ë¡œ ì•„ì£¼ í° <code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì´ ìƒì„±ë¨</li>
        </ul>
      </li>
      <li><code class="language-plaintext highlighter-rouge">First-fit</code>ê³¼ <code class="language-plaintext highlighter-rouge">Best-fit</code>ì´ <code class="language-plaintext highlighter-rouge">Wost-fit</code>ë³´ë‹¤ ì†ë„ì™€ ê³µê°„ ì´ìš©ë¥  ì¸¡ë©´ì—ì„œ íš¨ê³¼ì </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Compaction</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">external fragmentation(ì™¸ë¶€ ì¡°ê°)</code> ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” í•œ ê°€ì§€ ë°©ë²•</li>
      <li>ì‚¬ìš© ì¤‘ì¸ ë©”ëª¨ë¦¬ ì˜ì—­ì„ í•œ êµ°ë°ë¡œ ëª°ê³  <code class="language-plaintext highlighter-rouge">hole</code>ë“¤ì„ ë‹¤ë¥¸ í•œ ê³³ìœ¼ë¡œ ëª°ì•„ í° <code class="language-plaintext highlighter-rouge">block</code>ì„ ë§Œë“œëŠ” ê²ƒ</li>
      <li>ì´ë ‡ê²Œ ë³´ë©´ <code class="language-plaintext highlighter-rouge">Windows</code>ì˜ ë””ìŠ¤í¬ ì¡°ê° ëª¨ìŒê³¼ ë¹„ìŠ·í•´ ë³´ì´ì§€ë§Œ ë””ìŠ¤í¬ ëª¨ìŒì€ ë””ìŠ¤í¬ì— ìˆëŠ” ì¡°ê°ë“¤ì„ ëª¨ìœ¼ëŠ” ê²ƒì¸ë° ë°˜í•´ <code class="language-plaintext highlighter-rouge">Compaction</code>ì€ ì‹¤í–‰ ì¤‘ì¸ ë©”ëª¨ë¦¬ì˜ ì¡°ê°ë“¤ì„ ëª¨ìœ¼ëŠ” ê²ƒì´ë¼ëŠ” ì ì—ì„œ ë‹¤ë¥´ë‹¤.</li>
      <li>ë¹„ìš©ì´ ë§¤ìš° ë§ì´ ë“ ë‹¤.</li>
      <li>ìµœì†Œí•œì˜ ë©”ëª¨ë¦¬ ì´ë™ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">Compaction</code>í•˜ëŠ” ë°©ë²•ì´ ìˆì§€ë§Œ ë§¤ìš° ë³µì¡í•˜ë‹¤.</li>
      <li>í”„ë¡œì„¸ìŠ¤ì˜ ì£¼ì†Œê°€ ì‹¤í–‰ ì‹œê°„ì— ë™ì ìœ¼ë¡œ ì¬ë°°ì¹˜ ê°€ëŠ¥í•œ ê²½ìš°ì—ë§Œ ìˆ˜í–‰ë  ìˆ˜ ìˆë‹¤. ëŸ°íƒ€ì„ ë°”ì¸ë”©ì´ ì§€ì›ë  ë•Œì—ë§Œ ì‚¬ìš© ê°€ëŠ¥</li>
    </ul>
  </li>
</ul>

<h1 id="paging">Paging</h1>
<ul>
  <li>í”„ë¡œì„¸ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">virtual memory</code>ë¥¼ ë™ì¼í•œ ì‚¬ì´ì¦ˆì˜ <code class="language-plaintext highlighter-rouge">page</code>ë¡œ ë‚˜ëˆˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">virtual memory</code>ì˜ ë‚´ìš©ì´ <code class="language-plaintext highlighter-rouge">page</code> ë‹¨ìœ„ë¡œ ë¹„ì—°ì†ì ìœ¼ë¡œ ì €ì¥ëœë‹¤.</li>
  <li>ì¼ë¶€ëŠ” <code class="language-plaintext highlighter-rouge">backing storage</code>ì—, ì¼ë¶€ëŠ” <code class="language-plaintext highlighter-rouge">physical memory</code>ì— ì €ì¥</li>
  <li>
    <p>ê° í˜ì´ì§€ë§ˆë‹¤ ë…¼ë¦¬ì  - ë¬¼ë¦¬ì  ì£¼ì†Œ ë§¤í•‘ ì •ë³´(í˜ì´ì§• í…Œì´ë¸”)ê°€ í•„ìš”í•˜ë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">physical memory</code>ë¥¼ ë™ì¼í•œ í¬ê¸°ì˜ <code class="language-plaintext highlighter-rouge">frame</code>ìœ¼ë¡œ ë‚˜ëˆ”</li>
  <li><code class="language-plaintext highlighter-rouge">logical memory</code>ë¥¼ ë™ì¼ í¬ê¸°ì˜ <code class="language-plaintext highlighter-rouge">page</code>ë¡œ ë‚˜ëˆ”(<code class="language-plaintext highlighter-rouge">frame</code>ê³¼ ê°™ì€ í¬ê¸°)</li>
  <li>ëª¨ë“  ê°€ìš© <code class="language-plaintext highlighter-rouge">frame</code>ë“¤ì„ ê´€ë¦¬</li>
  <li><code class="language-plaintext highlighter-rouge">page table</code>ì„ ì‚¬ìš©í•˜ì—¬ ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë°”ê¾¼ë‹¤.</li>
  <li>
    <p>ì™¸ë¶€ì¡°ê°ì´ ë°œìƒí•˜ì§€ ì•Šì§€ë§Œ í˜ì´ì§•í•œ í”„ë¡œì„¸ìŠ¤ì˜ ë§ˆì§€ë§‰ ì¡°ê°ì€ í˜ì´ì§€ í¬ê¸°ë³´ë‹¤ ì‘ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë‚´ë¶€ì¡°ê°ì€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.</p>
  </li>
  <li>ì†ë„ í–¥ìƒì„ ìœ„í•´ <code class="language-plaintext highlighter-rouge">TLB(Translation Look-aside Buffer)</code>ë¼ëŠ” í•˜ë“œì›¨ì–´ë¥¼ ì‚¬ìš©í•œë‹¤.
    <ul>
      <li>ì¼ì¢…ì˜ ìºì‹œë¡œ ë…¼ë¦¬ì  - ë¬¼ë¦¬ì  ì£¼ì†Œ ìŒì„ ê°€ì§€ê³  ìˆë‹¤.</li>
    </ul>
  </li>
  <li>í˜ì´ì§€ ê°¯ìˆ˜ë§Œí¼ í˜ì´ì§• í…Œì´ë¸”ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ê³µê°„ì´ ë§ì´ í•„ìš”í•˜ë‹¤.</li>
</ul>

<h2 id="two-level-page-table">Two-Level Page Table</h2>
<ul>
  <li>í˜ì´ì§€ í…Œì´ë¸” ê³µê°„ì„ ì¤„ì´ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. (ì†ë„ í–¥ìƒì ì¸ ì¸¡ë©´ì—ì„œëŠ” ë³„ íš¨ê³¼ ì—†ìŒ)</li>
  <li>í˜ì´ì§€ í…Œì´ë¸” ìì²´ë¥¼ í˜ì´ì§€ë¡œ êµ¬ì„±í•´ì„œ í˜ì´ì§€ ì•ˆì— í˜ì´ì§€ê°€ ë˜ ìˆëŠ” í˜•íƒœì´ë‹¤.</li>
  <li>ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í˜ì´ì§€ ì˜ì—­ì€ ì•ˆìª½ í˜ì´ì§€ í…Œì´ë¸”ì„ ì•ˆ ë§Œë“¤ê³  í¬ì¸í„°ë¥¼ <code class="language-plaintext highlighter-rouge">NULL</code>ë¡œ ë‘ê¸° ë•Œë¬¸ì— ê³µê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.</li>
  <li>ì£¼ì†Œ ê³µê°„ì´ ë” ì»¤ì§€ë©´ ë‹¤ë‹¨ê³„ í˜ì´ì§€ í…Œì´ë¸”ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.</li>
</ul>

<h2 id="memory-protection">Memory Protection</h2>
<ul>
  <li>
    <p>í˜ì´ì§€ í…Œì´ë¸” ê° <code class="language-plaintext highlighter-rouge">entry</code>ë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">bit</code>ë¥¼ ë‘”ë‹¤.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Protection bit</code>
    <ul>
      <li>í˜ì´ì§€ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ ì„¤ì •(read/write/read-only ë“± ì—°ì‚°ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œ)</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Valid-invalid bit</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">valid</code> : í•´ë‹¹ ì£¼ì†Œì˜ <code class="language-plaintext highlighter-rouge">frame</code>ì— ê·¸ í”„ë¡œì„¸ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ìœ íš¨í•œ ë‚´ìš©ì´ ìˆìŒì„ ëœ»í•¨(ì ‘ê·¼ í—ˆìš©)</li>
      <li><code class="language-plaintext highlighter-rouge">invalid</code> : í•´ë‹¹ ì£¼ì†Œì˜ <code class="language-plaintext highlighter-rouge">frame</code>ì— ìœ íš¨í•œ ë‚´ìš©ì´ ì—†ìŒ (ì ‘ê·¼ ë¶ˆí—ˆ)
        <ul>
          <li>í”„ë¡œì„¸ìŠ¤ê°€ ê·¸ ì£¼ì†Œ ë¶€ë¶„ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ìš°</li>
          <li>í•´ë‹¹ í˜ì´ì§€ê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì™€ ìˆì§€ ì•Šê³  <code class="language-plaintext highlighter-rouge">swap area</code>ì— ìˆëŠ” ê²½ìš°</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="inverted-page-table">Inverted Page Table</h2>
<ul>
  <li>í˜ì´ì§€ ê°¯ìˆ˜ê°€ ë§ì•„ì§ì— ë”°ë¼ í˜ì´ì§€ í…Œì´ë¸”ì´ ì»¤ì§€ëŠ” ë¬¸ì œë¥¼ ì¤„ì—¬ë³´ë ¤ê³  ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”</li>
  <li>í”„ë¡œì„¸ìŠ¤ë³„ë¡œ í˜ì´ì§€ í…Œì´ë¸”ì„ ë‘ëŠ” ê²ƒì´ ì•„ë‹Œ í˜ì´ì§€ í”„ë ˆì„ í•˜ë‚˜ë‹¹ í˜ì´ì§€ í…Œì´ë¸”ì— í•˜ë‚˜ì˜ <code class="language-plaintext highlighter-rouge">entry</code>ë¥¼ ë‘” ê²ƒ</li>
  <li>ê° <code class="language-plaintext highlighter-rouge">page table entry</code>ëŠ” ê°ê°ì˜ ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ì˜ <code class="language-plaintext highlighter-rouge">page frame</code>ì´ ë‹´ê³  ìˆëŠ” ë‚´ìš© í‘œì‹œ</li>
  <li>ë¬¼ë¦¬ì  ì£¼ì†Œë¥¼ ë³´ê³  ë…¼ë¦¬ì  ì£¼ì†Œë¥¼ ì•Œ ìˆ˜ ìˆëŠ” í…Œì´ë¸”ì´ë¼ í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<h1 id="shared-page">Shared Page</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Shared code</code>
    <ul>
      <li>ê³µìœ ê°€ ê°€ëŠ¥í•œ ì½”ë“œëŠ” <code class="language-plaintext highlighter-rouge">read-only</code>ë¡œ í•œ <code class="language-plaintext highlighter-rouge">frame</code>ì—ë§Œ ì˜¬ë¦¬ëŠ” ê²ƒ</li>
      <li>ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì˜ <code class="language-plaintext highlighter-rouge">logical address space</code>ì—ì„œ ë™ì¼í•œ ìœ„ì¹˜ì— ìˆì–´ì•¼ í•¨</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Private code and data</code>
    <ul>
      <li>ê° í”„ë¡œì„¸ìŠ¤ë“¤ì€ ë…ìì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì— ì˜¬ë¦¼</li>
      <li><code class="language-plaintext highlighter-rouge">private data</code>ëŠ” <code class="language-plaintext highlighter-rouge">logical address space</code> ì•„ë¬´ ê³³ì— ì™€ë„ ë¬´ë°©í•¨</li>
    </ul>
  </li>
</ul>

<h1 id="segmentation">Segmentation</h1>
<ul>
  <li>í”„ë¡œê·¸ë¨ì€ ì˜ë¯¸ ë‹¨ìœ„ì¸ ì—¬ëŸ¬ ê°œì˜ <code class="language-plaintext highlighter-rouge">segment</code>ë¡œ êµ¬ì„±</li>
  <li>ì‘ê²ŒëŠ” í”„ë¡œê·¸ë¨ì„ êµ¬ì„±í•˜ëŠ” í•¨ìˆ˜ í•˜ë‚˜í•˜ë‚˜ì—ì„œ í¬ê²ŒëŠ” í”„ë¡œê·¸ë¨ ì „ì²´ê¹Œì§€ë„ ê°€ëŠ¥</li>
  <li>ì¼ë°˜ì ìœ¼ë¡œëŠ” <code class="language-plaintext highlighter-rouge">code</code>, <code class="language-plaintext highlighter-rouge">data</code>, <code class="language-plaintext highlighter-rouge">stack</code> ë¶€ë¶„ì´ í•˜ë‚˜ì”©ì˜ ì„¸ê·¸ë¨¼íŠ¸ë¡œ ì •ì˜ë¨
    <ul>
      <li><code class="language-plaintext highlighter-rouge">main()</code>, <code class="language-plaintext highlighter-rouge">function</code>, <code class="language-plaintext highlighter-rouge">global variables</code>, <code class="language-plaintext highlighter-rouge">stack</code>, <code class="language-plaintext highlighter-rouge">symbol table</code>, <code class="language-plaintext highlighter-rouge">arrays</code></li>
    </ul>
  </li>
  <li>ë…¼ë¦¬ì  ì£¼ì†ŒëŠ” <code class="language-plaintext highlighter-rouge">segment-number, offest</code> ìŒìœ¼ë¡œ êµ¬ì„±ëœë‹¤.</li>
  <li>ì„¸ê·¸ë¨¼íŠ¸ë³„ ì£¼ì†Œ ë³€í™˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” <code class="language-plaintext highlighter-rouge">segment table</code>ì´ í•„ìš”í•˜ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">segment-number</code>ë¡œë¶€í„° <code class="language-plaintext highlighter-rouge">offest</code>ë§Œí¼ ë–¨ì–´ì§„ ìœ„ì¹˜ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹</li>
  <li>ê° ì„¸ê·¸ë¨¼íŠ¸ë³„ë¡œ <code class="language-plaintext highlighter-rouge">protection bit</code> ì„¤ì •í•˜ê¸°ê°€ ìš©ì´í•˜ë‹¤.</li>
  <li>ì˜ë¯¸ ë‹¨ìœ„ì´ê¸° ë•Œë¬¸ì— ê³µìœ ì™€ ë³´ì•ˆì— ìˆì–´ í˜ì´ì§• ê¸°ë²•ë³´ë‹¤ í›¨ì”¬ íš¨ê³¼ì ì´ë‹¤.(í˜ì´ì§•ì€ í•œ í˜ì´ì§€ ì•ˆì— í•œ ì¢…ë¥˜ë§Œ ë“¤ì–´ìˆì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¢…ë¥˜ë³„ë¡œ ë³´ì•ˆ ì„¤ì •ì„ ë‹¤ë¥´ê²Œ í•´ ì¤˜ì•¼ í•œë‹¤)</li>
  <li>í˜ì´ì§• ê¸°ë²•ë³´ë‹¤ëŠ” í…Œì´ë¸” í¬ê¸°ê°€ ì‘ë‹¤.</li>
  <li>ì™¸ë¶€ì¡°ê° ë°œìƒ</li>
  <li>í• ë‹¹ì€ <code class="language-plaintext highlighter-rouge">first fit / best fit</code> ë°©ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§€ë©° ì„¸ê·¸ë¨¼íŠ¸ì˜ ê¸¸ì´ê°€ ë™ì¼í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê°€ë³€ë¶„í• ì—ì„œì™€ ë™ì¼í•œ ë¬¸ì œì ì´ ë°œìƒí•œë‹¤.</li>
</ul>

<h1 id="segmentation-with-paging">Segmentation with Paging</h1>
<ul>
  <li>ì„¸ê·¸ë¨¼íŠ¸ í•˜ë‚˜ê°€ ì—¬ëŸ¬ê°œì˜ í˜ì´ì§€ë¡œ êµ¬ì„±ëœë‹¤. ë‘˜ì„ ì„ì€ ê²ƒ</li>
  <li>í›¨ì”¬ íš¨ìœ¨ì ì´ë¼ ë§ì´ ì“°ëŠ” ë°©ì‹ì´ë‹¤.</li>
  <li>ë©”ëª¨ë¦¬ì— ì˜¬ë¼ê°ˆ ë• í˜ì´ì§€ ë‹¨ìœ„ë¡œ ì˜¬ë¼ê°€ê³  ê³µìœ ëŠ” ì„¸ê·¸ë¨¼íŠ¸ ë‹¨ìœ„ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì¶œì²˜">ì¶œì²˜</h1>
<ul>
  <li><a href="http://www.kocw.net/home/search/kemView.do?kemId=1046323">ìš´ì˜ì²´ì œ - ì´í™”ì—¬ìëŒ€í•™êµ KOCW ê³µê°œê°•ì˜</a></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Operating System" /><category term="CS" /><category term="OS" /><category term="Process" /><category term="MemoryManagement" /><summary type="html"><![CDATA[ğŸ‘€ ë…¼ë¦¬ì  ì£¼ì†Œì™€ ë¬¼ë¦¬ì  ì£¼ì†Œ ë°ì´í„°ê°€ ë©”ëª¨ë¦¬ì— ìœ„ì¹˜í•˜ê³  ìˆëŠ” ê³³ì„ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†ŒëŠ” ë…¼ë¦¬ì  ì£¼ì†Œì™€ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ë‚˜ë‰œë‹¤.]]></summary></entry><entry><title type="html">MySQL) ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ í…Œì´ë¸” ì´ë™, ë³µì‚¬ ë° ë³€ê²½í•˜ê¸°</title><link href="http://localhost:4000/mysql/mysql-alter-table/" rel="alternate" type="text/html" title="MySQL) ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ í…Œì´ë¸” ì´ë™, ë³µì‚¬ ë° ë³€ê²½í•˜ê¸°" /><published>2022-04-01T00:00:00+09:00</published><updated>2022-04-01T00:00:00+09:00</updated><id>http://localhost:4000/mysql/mysql-alter-table</id><content type="html" xml:base="http://localhost:4000/mysql/mysql-alter-table/"><![CDATA[<h1 id="ë‹¤ë¥¸-ë°ì´í„°ë² ì´ìŠ¤ë¡œ-í…Œì´ë¸”ì„-ì´ë™í•˜ê³ -ì‹¶ì„-ë•Œ">ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ í…Œì´ë¸”ì„ ì´ë™í•˜ê³  ì‹¶ì„ ë•Œ</h1>
<ul>
  <li>í…Œì´ë¸” ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="err">í…Œì´ë¸”ëª…</span> <span class="k">rename</span> <span class="err">ìƒˆ</span> <span class="err">í…Œì´ë¸”ëª…</span><span class="p">;</span>
</code></pre></div></div>
<p><br /></p>

<ul>
  <li>ì´ê±¸ ì´ìš©í•´ì„œ í…Œì´ë¸”ì„ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆë‹¤.</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">alter</span> <span class="k">table</span> <span class="err">ë°ì´í„°ë² ì´ìŠ¤</span><span class="n">A</span><span class="p">.</span><span class="err">í…Œì´ë¸”ëª…</span> <span class="k">rename</span> <span class="err">ë°ì´í„°ë² ì´ìŠ¤</span><span class="n">B</span><span class="p">.</span><span class="err">í…Œì´ë¸”ëª…</span><span class="p">;</span>
</code></pre></div></div>
<p><br /><br /><br /></p>

<h1 id="í…Œì´ë¸”-ë³µì‚¬">í…Œì´ë¸” ë³µì‚¬</h1>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="err">ìƒˆ</span> <span class="err">í…Œì´ë¸”ëª…</span> <span class="k">like</span> <span class="err">ë³µì‚¬í• </span> <span class="err">í…Œì´ë¸”ëª…</span><span class="p">;</span>
</code></pre></div></div>
<p><br /></p>

<ul>
  <li>ì´ê±¸ ì´ìš©í•´ì„œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” í…Œì´ë¸”ì„ ë³µì‚¬í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="err">ë°ì´í„°ë² ì´ìŠ¤</span><span class="n">A</span><span class="p">.</span><span class="err">í…Œì´ë¸”ëª…</span> <span class="k">like</span> <span class="err">ë°ì´í„°ë² ì´ìŠ¤</span><span class="n">B</span><span class="p">.</span><span class="err">í…Œì´ë¸”ëª…</span><span class="p">;</span>
</code></pre></div></div>
<p><br /></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">insert</code> êµ¬ë¬¸ì„ ì´ìš©í•œ ë°©ë²•</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="err">ìƒˆ</span> <span class="err">í…Œì´ë¸”ëª…</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="err">ì›ë³¸í…Œì´ë¸”ëª…</span><span class="p">;</span>
</code></pre></div></div>
<p><br /></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">insert</code> êµ¬ë¬¸ì„ ì´ìš©í•´ì„œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” í…Œì´ë¸” ë³µì‚¬</li>
</ul>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="err">ë°ì´í„°ë² ì´ìŠ¤</span><span class="n">B</span><span class="p">.</span><span class="err">í…Œì´ë¸”ëª…</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="err">ë°ì´í„°ë² ì´ìŠ¤</span><span class="n">A</span><span class="p">.</span><span class="err">í…Œì´ë¸”ëª…</span><span class="p">;</span>
</code></pre></div></div>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="MySQL" /><category term="MySQL" /><category term="alterTable" /><summary type="html"><![CDATA[ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ í…Œì´ë¸”ì„ ì´ë™í•˜ê³  ì‹¶ì„ ë•Œ í…Œì´ë¸” ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.]]></summary></entry><entry><title type="html">Python) ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ 07 ì‹¤ì „ë¬¸ì œ 3. ë–¡ë³¶ì´ ë–¡ ë§Œë“¤ê¸°</title><link href="http://localhost:4000/boj/CodingTestBook-07-8-py/" rel="alternate" type="text/html" title="Python) ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ 07 ì‹¤ì „ë¬¸ì œ 3. ë–¡ë³¶ì´ ë–¡ ë§Œë“¤ê¸°" /><published>2022-04-01T00:00:00+09:00</published><updated>2022-04-01T00:00:00+09:00</updated><id>http://localhost:4000/boj/CodingTestBook-07-8-py</id><content type="html" xml:base="http://localhost:4000/boj/CodingTestBook-07-8-py/"><![CDATA[<h1 id="ë¬¸ì œ-ì¶œì²˜">ë¬¸ì œ ì¶œì²˜</h1>
<hr />

<ul>
  <li>ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ with íŒŒì´ì¬</li>
  <li>Chapter 07 - ì‹¤ì „ë¬¸ì œ 3. ë–¡ë³¶ì´ ë–¡ ë§Œë“¤ê¸°<br /><br /></li>
</ul>

<h1 id="ì œí•œ">ì œí•œ</h1>
<hr />

<ul>
  <li>ì‹œê°„ ì œí•œ : 2 ì´ˆ</li>
  <li>ë©”ëª¨ë¦¬ ì œí•œ : 128 MB<br /><br /></li>
</ul>

<h1 id="ë¬¸ì œ">ë¬¸ì œ</h1>
<hr />

<ul>
  <li>ì˜¤ëŠ˜ ë™ë¹ˆì´ëŠ” ì—¬í–‰ ê°€ì‹  ë¶€ëª¨ë‹˜ì„ ëŒ€ì‹ í•´ì„œ ë–¡ì§‘ ì¼ì„ í•˜ê¸°ë¡œ í–ˆë‹¤. ì˜¤ëŠ˜ì€ ë–¡ë³¶ì´ ë–¡ì„ ë§Œë“œëŠ” ë‚ ì´ë‹¤. ë™ë¹ˆì´ë„¤ ë–¡ë³¶ì´ ë–¡ì€ ì¬ë°Œê²Œë„ ë–¡ë³¶ì´ ë–¡ì˜ ê¸¸ì´ê°€ ì¼ì •í•˜ì§€ ì•Šë‹¤. ëŒ€ì‹ ì— í•œ ë´‰ì§€ ì•ˆì— ë“¤ì–´ê°€ëŠ” ë–¡ì˜ ì´ ê¸¸ì´ëŠ” ì ˆë‹¨ê¸°ë¡œ ì˜ë¼ì„œ ë§ì¶°ì¤€ë‹¤.</li>
  <li>ì ˆë‹¨ê¸°ì— ë†’ì´(H)ë¥¼ ì§€ì •í•˜ë©´ ì¤„ì§€ì–´ì§„ ë–¡ì„ í•œ ë²ˆì— ì ˆë‹¨í•œë‹¤. ë†’ì´ê°€ Hë³´ë‹¤ ê¸´ ë–¡ì€ H ìœ„ì˜ ë¶€ë¶„ì´ ì˜ë¦´ ê²ƒì´ê³ , ë‚®ì€ ë–¡ì€ ì˜ë¦¬ì§€ ì•ŠëŠ”ë‹¤.</li>
  <li>ì˜ˆë¥¼ ë“¤ì–´ ë†’ì´ê°€ 19, 14, 10, 17cmì¸ ë–¡ì´ ë‚˜ë€íˆ ìˆê³  ì ˆë‹¨ê¸° ë†’ì´ë¥¼ 15cmë¡œ ì§€ì •í•˜ë©´ ìë¥¸ ë’¤ ë–¡ì˜ ë†’ì´ëŠ” 15, 14, 10, 15cmê°€ ë  ê²ƒì´ë‹¤. ì˜ë¦° ë–¡ì˜ ë†’ì´ëŠ” ì°¨ë¡€ëŒ€ë¡œ 4, 0, 0, 2cmì´ë‹¤. ì†ë‹˜ì€ 6cmë§Œí¼ì˜ ê¸¸ì´ë¥¼ ê°€ì ¸ê°„ë‹¤.</li>
  <li>ì†ë‹˜ì´ ì™”ì„ ë•Œ ìš”ì²­í•œ ì´ ê¸¸ì´ê°€ Mì¼ ë•Œ ì ì–´ë„ Më§Œí¼ì˜ ë–¡ì„ ì–»ê¸° ìœ„í•´ ì ˆë‹¨ê¸°ì— ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë†’ì´ì˜ ìµœëŒ“ê°’ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.<br /><br /></li>
</ul>

<h1 id="ì…ë ¥">ì…ë ¥</h1>
<hr />

<ul>
  <li>ì²«ì§¸ ì¤„ì— ë–¡ì˜ ê°œìˆ˜ Nê³¼ ìš”ì²­í•œ ë–¡ì˜ ê¸¸ì´ Mì´ ì£¼ì–´ì§„ë‹¤. (1 &lt;= N &lt;= 1,000,000, 1 &lt;= M &lt;= 2,000,000,000)</li>
  <li>ë‘˜ì§¸ ì¤„ì—ëŠ” ë–¡ì˜ ê°œë³„ ë†’ì´ê°€ ì£¼ì–´ì§„ë‹¤. ë–¡ ë†’ì´ì˜ ì´í•©ì€ í•­ìƒ M ì´ìƒì´ë¯€ë¡œ, ì†ë‹˜ì€ í•„ìš”í•œ ì–‘ë§Œí¼ ë–¡ì„ ì‚¬ê°ˆ ìˆ˜ ìˆë‹¤. ë†’ì´ëŠ” 10ì–µë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì–‘ì˜ ì •ìˆ˜ ë˜ëŠ” 0ì´ë‹¤.<br /><br /></li>
</ul>

<h1 id="ì¶œë ¥">ì¶œë ¥</h1>
<hr />

<ul>
  <li>ì ì–´ë„ Më§Œí¼ì˜ ë–¡ì„ ì§‘ì— ê°€ì ¸ê°€ê¸° ìœ„í•´ ì ˆë‹¨ê¸°ì— ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë†’ì´ì˜ ìµœëŒ“ê°’ì„ ì¶œë ¥í•œë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="-í’€ì´">ğŸ‘€ í’€ì´</h1>
<hr />

<ul>
  <li>ì´ì§„íƒìƒ‰ ë¬¸ì œì´ì íŒŒë¼ë©”íŠ¸ë¦­ ì„œì¹˜ ë¬¸ì œë¼ê³  í•œë‹¤.</li>
  <li>ì´ëŸ° ìœ í˜•ì˜ ë¬¸ì œëŠ” í’€ì–´ë³¸ ì ì´ ì—†ì–´ì„œ ì±…ì— ë‚˜ì™€ ìˆëŠ” í•´ì„¤ì„ ë³´ê³  í’€ì—ˆë‹¤.</li>
  <li>ìë¥¸ ë–¡ì˜ ê¸¸ì´ê°€ Mê³¼ ê°™ì•„ì§ˆ ë•Œê¹Œì§€ ì ˆë‹¨ê¸°ì˜ ìœ„ì¹˜ë¥¼ ì˜®ê²¨ê°€ë©´ì„œ ì ì ˆí•œ ë†’ì´(H)ë¥¼ ì°¾ëŠ”ë‹¤.<br /><br /></li>
</ul>

<h1 id="ì½”ë“œ">ì½”ë“œ</h1>
<hr />

<script src="https://gist.github.com/miro7923/16e20d83fcb01090e7464e072607dbdb.js"></script>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="BOJ" /><category term="Algorithm" /><category term="BinarySearch" /><category term="Python" /><summary type="html"><![CDATA[ë¬¸ì œ ì¶œì²˜ ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ with íŒŒì´ì¬ Chapter 07 - ì‹¤ì „ë¬¸ì œ 3. ë–¡ë³¶ì´ ë–¡ ë§Œë“¤ê¸° ì œí•œ ì‹œê°„ ì œí•œ : 2 ì´ˆ ë©”ëª¨ë¦¬ ì œí•œ : 128 MB]]></summary></entry><entry><title type="html">Python) ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ 07 ì‹¤ì „ë¬¸ì œ 2. ë¶€í’ˆ ì°¾ê¸°</title><link href="http://localhost:4000/boj/CodingTestBook-07-5-py/" rel="alternate" type="text/html" title="Python) ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ 07 ì‹¤ì „ë¬¸ì œ 2. ë¶€í’ˆ ì°¾ê¸°" /><published>2022-04-01T00:00:00+09:00</published><updated>2022-04-01T00:00:00+09:00</updated><id>http://localhost:4000/boj/CodingTestBook-07-5-py</id><content type="html" xml:base="http://localhost:4000/boj/CodingTestBook-07-5-py/"><![CDATA[<h1 id="ë¬¸ì œ-ì¶œì²˜">ë¬¸ì œ ì¶œì²˜</h1>
<hr />

<ul>
  <li>ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ with íŒŒì´ì¬</li>
  <li>Chapter 07 - ì‹¤ì „ë¬¸ì œ 2. ë¶€í’ˆ ì°¾ê¸°<br /><br /></li>
</ul>

<h1 id="ì œí•œ">ì œí•œ</h1>
<hr />

<ul>
  <li>ì‹œê°„ ì œí•œ : 1 ì´ˆ</li>
  <li>ë©”ëª¨ë¦¬ ì œí•œ : 128 MB<br /><br /></li>
</ul>

<h1 id="ë¬¸ì œ">ë¬¸ì œ</h1>
<hr />

<ul>
  <li>ë™ë¹ˆì´ë„¤ ì „ì ë§¤ì¥ì—ëŠ” ë¶€í’ˆì´ Nê°œ ìˆë‹¤. ê° ë¶€í’ˆì€ ì •ìˆ˜ í˜•íƒœì˜ ê³ ìœ í•œ ë²ˆí˜¸ê°€ ìˆë‹¤. ì–´ëŠ ë‚  ì†ë‹˜ì´ Mê°œ ì¢…ë¥˜ì˜ ë¶€í’ˆì„ ëŒ€ëŸ‰ìœ¼ë¡œ êµ¬ë§¤í•˜ê² ë‹¤ë©° ë‹¹ì¼ ë‚  ê²¬ì ì„œë¥¼ ìš”ì²­í–ˆë‹¤. ë™ë¹ˆì´ëŠ” ë•Œë¥¼ ë†“ì¹˜ì§€ ì•Šê³  ì†ë‹˜ì´ ë¬¸ì˜í•œ ë¶€í’ˆ Mê°œ ì¢…ë¥˜ë¥¼ ëª¨ë‘ í™•ì¸í•´ì„œ ê²¬ì ì„œë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤. ì´ë•Œ ê°€ê²Œ ì•ˆì— ë¶€í’ˆì´ ëª¨ë‘ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•´ë³´ì.</li>
  <li>ì†ë‹˜ì´ ìš”ì²­í•œ ë¶€í’ˆ ë²ˆí˜¸ì˜ ìˆœì„œëŒ€ë¡œ ë¶€í’ˆì„ í™•ì¸í•´ ë¶€í’ˆì´ ìˆìœ¼ë©´ yesë¥¼, ì—†ìœ¼ë©´ noë¥¼ ì¶œë ¥í•œë‹¤. êµ¬ë¶„ì€ ê³µë°±ìœ¼ë¡œ í•œë‹¤.<br /><br /></li>
</ul>

<h1 id="ì…ë ¥">ì…ë ¥</h1>
<hr />

<ul>
  <li>ì²«ì§¸ ì¤„ì— ì •ìˆ˜ Nì´ ì£¼ì–´ì§„ë‹¤. (1 &lt;= N &lt;= 1,000,000)</li>
  <li>ë‘˜ì§¸ ì¤„ì—ëŠ” ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ Nê°œì˜ ì •ìˆ˜ê°€ ì£¼ì–´ì§„ë‹¤. ì´ë•Œ ì •ìˆ˜ëŠ” 1ë³´ë‹¤ í¬ê³  1,000,000 ì´í•˜ì´ë‹¤.</li>
  <li>ì…‹ì§¸ ì¤„ì—ëŠ” ì •ìˆ˜ Mì´ ì£¼ì–´ì§„ë‹¤. (1 &lt;= M &lt;= 100,000)</li>
  <li>ë„·ì§¸ ì¤„ì—ëŠ” ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ Mê°œì˜ ì •ìˆ˜ê°€ ì£¼ì–´ì§„ë‹¤. ì´ë•Œ ì •ìˆ˜ëŠ” 1ë³´ë‹¤ í¬ê³  1,000,000 ì´í•˜ì´ë‹¤.<br /><br /></li>
</ul>

<h1 id="ì¶œë ¥">ì¶œë ¥</h1>
<hr />

<ul>
  <li>ì²«ì§¸ ì¤„ì— ê³µë°±ìœ¼ë¡œ êµ¬ë¶„í•˜ì—¬ ê° ë¶€í’ˆì´ ì¡´ì¬í•˜ë©´ yesë¥¼, ì—†ìœ¼ë©´ noë¥¼ ì¶œë ¥í•œë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="-í’€ì´">ğŸ‘€ í’€ì´</h1>
<hr />

<ul>
  <li>ì´ì§„íƒìƒ‰ìœ¼ë¡œ í’€ ìˆ˜ ìˆëŠ” ë¬¸ì œì´ì§€ë§Œ ì±…ì—ëŠ” ì´ì§„íƒìƒ‰ ì™¸ì—ë„ ë‘ ê°€ì§€ ë°©ë²•ì„ ë” ì‚¬ìš©í•´ í‘¸ëŠ” ë°©ë²•ì´ ë‚˜ì™€ ìˆì–´ì„œ ëª¨ë‘ ì—°ìŠµí•´ ë³´ì•˜ë‹¤.</li>
  <li>ì´ì§„íƒìƒ‰ìœ¼ë¡œ í’€ ê²½ìš°ì—ëŠ” ê°€ê²Œì— ìˆëŠ” ë¶€í’ˆ ë°°ì—´ì„ ë¨¼ì € ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œ í›„ì— ì†ë‹˜ ë°°ì—´ì˜ ì›ì†Œë¥¼ í•˜ë‚˜ì”© ì´ì§„íƒìƒ‰ìœ¼ë¡œ ì°¾ëŠ”ë‹¤.<br /><br /></li>
</ul>

<h1 id="ì½”ë“œ">ì½”ë“œ</h1>
<hr />

<ul>
  <li>ì´ì§„íƒìƒ‰ ì½”ë“œ</li>
</ul>

<script src="https://gist.github.com/miro7923/c1027fffb78b83143e2238e337f9fd37.js"></script>

<ul>
  <li>ê³„ìˆ˜ì •ë ¬ì„ ì‚¬ìš©í•œ ì½”ë“œ</li>
</ul>

<script src="https://gist.github.com/miro7923/cac49cf2696f190a80f965bd68662e02.js"></script>

<ul>
  <li>ì§‘í•© ìë£Œí˜•ì„ ì‚¬ìš©í•œ ì½”ë“œ</li>
</ul>

<script src="https://gist.github.com/miro7923/71c4854afe7c44680d6208f1caabab6a.js"></script>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="BOJ" /><category term="Algorithm" /><category term="BinarySearch" /><category term="Python" /><summary type="html"><![CDATA[ë¬¸ì œ ì¶œì²˜ ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ with íŒŒì´ì¬ Chapter 07 - ì‹¤ì „ë¬¸ì œ 2. ë¶€í’ˆ ì°¾ê¸° ì œí•œ ì‹œê°„ ì œí•œ : 1 ì´ˆ ë©”ëª¨ë¦¬ ì œí•œ : 128 MB]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 21 - ê²Œì‹œë¬¼ì— ì²¨ë¶€ëœ ì´ë¯¸ì§€ì™€ íŒŒì¼ ë‹¤ë¥¸ ê²½ë¡œì— ì €ì¥í•˜ê¸°</title><link href="http://localhost:4000/project%20log/cafe-project-21/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 21 - ê²Œì‹œë¬¼ì— ì²¨ë¶€ëœ ì´ë¯¸ì§€ì™€ íŒŒì¼ ë‹¤ë¥¸ ê²½ë¡œì— ì €ì¥í•˜ê¸°" /><published>2022-04-01T00:00:00+09:00</published><updated>2022-04-01T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-21</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-21/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©">ì§„í–‰ìƒí™©</h1>
<ul>
  <li>ê²Œì‹œë¬¼ì— ì´ë¯¸ì§€ë¥¼ ì²¨ë¶€í•˜ê³  ë³¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
  <li>í•œ ê²Œì‹œë¬¼ì— ì´ë¯¸ì§€ì™€ ì¼ë°˜ íŒŒì¼ì„ í•¨ê»˜ ì—…ë¡œë“œ í•  ìˆ˜ ìˆê²Œ í–ˆë‹¤. ê·¸ë˜ì„œ ì´ë¯¸ì§€ì™€ ì¼ë°˜ íŒŒì¼ì„ ë‹¤ë¥¸ ê²½ë¡œì— ì—…ë¡œë“œí•  ê²ƒì´ë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">COS</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆë‹¤.</li>
</ul>

<h2 id="cos-ë¼ì´ë¸ŒëŸ¬ë¦¬-ë‹¤ìš´ë¡œë“œ-ë°-ì„¤ì¹˜">COS ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜</h2>
<ul>
  <li><a href="http://www.servlets.com/cos/">http://www.servlets.com/</a></li>
  <li>ìœ„ ì‚¬ì´íŠ¸ì— ì ‘ì†í•´ì„œ í•˜ë‹¨ì— <code class="language-plaintext highlighter-rouge">Download</code> íƒ­ì— ìˆëŠ” ì••ì¶•íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•œë‹¤.</li>
  <li>ë‹¤ìš´ë°›ì€ íŒŒì¼ ì••ì¶•ì„ í‘¼ í›„ <code class="language-plaintext highlighter-rouge">cos.jar</code> íŒŒì¼ì„ <code class="language-plaintext highlighter-rouge">WEB-INF/lib</code> í´ë”ì— ë„£ëŠ”ë‹¤.</li>
</ul>

<h2 id="boardwritejsp">boardWrite.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"_r"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/leftNav.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al-o1 de-o2 de10"</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Page"</span><span class="nt">&gt;</span>
    	<span class="nt">&lt;h2&gt;</span>ê²Œì‹œê¸€ ì‘ì„±<span class="nt">&lt;/h2&gt;</span>
    	<span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">"write"</span> <span class="na">action=</span><span class="s">"./BoardWriteAction.bo"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">enctype=</span><span class="s">"multipart/form-data"</span> <span class="na">onsubmit=</span><span class="s">"return finalCheck();"</span><span class="nt">&gt;</span>
    	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"id"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">id</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì œëª© <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"title"</span> <span class="na">id=</span><span class="s">"title"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_MsgField"</span><span class="nt">&gt;</span>ë‚´ìš© <span class="nt">&lt;/label&gt;</span>
          <span class="nt">&lt;textarea</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_MsgField"</span> <span class="na">name=</span><span class="s">"content"</span><span class="nt">&gt;&lt;/textarea&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì´ë¯¸ì§€ ë“±ë¡ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">name=</span><span class="s">"image"</span> <span class="na">id=</span><span class="s">"image"</span> <span class="na">oninput=</span><span class="s">"formatCheck();"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>íŒŒì¼ ë“±ë¡ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">name=</span><span class="s">"file"</span> <span class="na">id=</span><span class="s">"file"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn"</span><span class="nt">&gt;</span>ê¸€ ë“±ë¡<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/form&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<ul>
  <li>ì´ë¯¸ì§€ íŒŒì¼ ë“±ë¡ë„ <code class="language-plaintext highlighter-rouge">input</code> íƒœê·¸ì˜ <code class="language-plaintext highlighter-rouge">file</code> ì†ì„±ì„ ì‚¬ìš©í•œë‹¤.</li>
</ul>

<h2 id="boardcontentjs">BoardContent.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">formatCheck</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// í™•ì¥ì í™•ì¸í•  ì •ê·œì‹</span>
    <span class="kd">var</span> <span class="nx">regex</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="dl">"</span><span class="s2">(.*?)</span><span class="se">\</span><span class="s2">.(jpg|jpeg|png|gif)</span><span class="dl">"</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">maxSize</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">;</span>
	
    <span class="kd">var</span> <span class="nx">fileSize</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#image</span><span class="dl">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">size</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">fileSize</span> <span class="o">&gt;</span> <span class="nx">maxSize</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">5MB ì´í•˜ë§Œ ì²¨ë¶€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">crossBrowsing</span><span class="p">();</span>
    <span class="p">}</span>
	
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">regex</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#image</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">()))</span>
    <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">í™•ì¥ìê°€ jpeg, jpg, png, gifì¸ ì´ë¯¸ì§€ íŒŒì¼ë§Œ ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤.</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">crossBrowsing</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">crossBrowsing</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">agent</span> <span class="o">=</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
	
    <span class="c1">// í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§• ì²˜ë¦¬</span>
    <span class="c1">// IEì¼ ë•Œ</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">appName</span> <span class="o">==</span> <span class="dl">'</span><span class="s1">Netscape</span><span class="dl">'</span> <span class="o">&amp;&amp;</span> <span class="nb">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="dl">'</span><span class="s1">Trident</span><span class="dl">'</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="nx">agent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="dl">"</span><span class="s2">msie</span><span class="dl">"</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#image</span><span class="dl">'</span><span class="p">).</span><span class="nx">replaceWith</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#image</span><span class="dl">'</span><span class="p">).</span><span class="nx">clone</span><span class="p">(</span><span class="kc">true</span><span class="p">));</span>
    <span class="k">else</span> <span class="c1">// ê·¸ ì™¸ ë¸Œë¼ìš°ì €</span>
        <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#image</span><span class="dl">'</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>	
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œë¥¼ ì‹œë„í•˜ë©´ íŒŒì¼ í¬ê¸°ì™€ í™•ì¥ì í™•ì¸ì„ í†µí•´ ìœ íš¨í•œ íŒŒì¼ë§Œ ë“±ë¡í•  ìˆ˜ ìˆê²Œ í•œë‹¤.</li>
</ul>

<h2 id="boardwriteactionjava">BoardWriteAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.File</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.FilePart</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.MultipartParser</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.ParamPart</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.Part</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardWriteAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardWriteAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
		
        <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDTO</span><span class="o">();</span>
		
        <span class="nc">ServletContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">();</span>
		
        <span class="c1">// íŒŒì¼ì˜ ì €ì¥í¬ê¸°</span>
        <span class="kt">int</span> <span class="n">maxSize</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="o">;</span> <span class="c1">// 10MB</span>
		
        <span class="nc">MultipartParser</span> <span class="n">mp</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MultipartParser</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">maxSize</span><span class="o">);</span>
        <span class="n">mp</span><span class="o">.</span><span class="na">setEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
        <span class="nc">Part</span> <span class="n">part</span><span class="o">;</span>
		
        <span class="k">while</span> <span class="o">((</span><span class="n">part</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="na">readNextPart</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="c1">// form íƒœê·¸ë¡œ ì €ì¥ëœ íŒŒë¼ë¯¸í„°ë¥¼ ì½ì–´ì˜´</span>
            <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">part</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
			
            <span class="k">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isParam</span><span class="o">())</span>
            <span class="o">{</span>
                <span class="c1">// íŒŒì¼ì´ ì•„ë‹ ë•Œ</span>
                <span class="nc">ParamPart</span> <span class="n">param</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ParamPart</span><span class="o">)</span><span class="n">part</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="na">getStringValue</span><span class="o">();</span>
				
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"param name :"</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">" value : "</span> <span class="o">+</span> <span class="n">value</span><span class="o">);</span>
				
                <span class="c1">// ê° íŒŒë¼ë¯¸í„°ì— ë§ì¶° dtoì— ì €ì¥</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"id"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"title"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
                <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"content"</span><span class="o">))</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">value</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"image"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ì´ë¯¸ì§€ íŒŒì¼ì¼ ë•Œ</span>
                <span class="c1">// ì´ë¯¸ì§€ ì €ì¥ ê²½ë¡œ ì§€ì •</span>
                <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/images"</span><span class="o">));</span>
				
                <span class="c1">// ê²½ë¡œê°€ ì—†ìœ¼ë©´ ìƒì„±</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
				
                <span class="nc">FilePart</span> <span class="n">filePart</span> <span class="o">=</span> <span class="o">(</span><span class="nc">FilePart</span><span class="o">)</span> <span class="n">part</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">file</span> <span class="o">=</span> <span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">file</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">{</span>
                    <span class="c1">// ì§€ì •í•œ ê²½ë¡œì— íŒŒì¼ ì“°ê¸°</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">writeTo</span><span class="o">(</span><span class="n">dir</span><span class="o">);</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setImage</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"img name: "</span><span class="o">+</span><span class="n">file</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="k">else</span> 
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"image; name: "</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"; EMPTY"</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">part</span><span class="o">.</span><span class="na">isFile</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">name</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"file"</span><span class="o">))</span>
            <span class="o">{</span>
                <span class="c1">// ì¼ë°˜ íŒŒì¼ì¼ ë•Œ</span>
                <span class="nc">File</span> <span class="n">dir</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/upload"</span><span class="o">));</span>
				
                <span class="c1">// ê²½ë¡œ ì—†ìœ¼ë©´ ìƒì„±</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">dir</span><span class="o">.</span><span class="na">isDirectory</span><span class="o">())</span> <span class="n">dir</span><span class="o">.</span><span class="na">mkdir</span><span class="o">();</span>
				
                <span class="nc">FilePart</span> <span class="n">filePart</span> <span class="o">=</span> <span class="o">(</span><span class="nc">FilePart</span><span class="o">)</span> <span class="n">part</span><span class="o">;</span>
                <span class="nc">String</span> <span class="n">file</span> <span class="o">=</span> <span class="n">filePart</span><span class="o">.</span><span class="na">getFileName</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">file</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
                <span class="o">{</span>
                    <span class="n">filePart</span><span class="o">.</span><span class="na">writeTo</span><span class="o">(</span><span class="n">dir</span><span class="o">);</span> <span class="c1">// ì§€ì •í•œ ê²½ë¡œì— íŒŒì¼ ì“°ê¸°</span>
                    <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"file name: "</span><span class="o">+</span><span class="n">file</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="k">else</span>
                    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"file; name: "</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s">"; EMPTY"</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
		
        <span class="c1">// ì‚¬ìš©ì ipì£¼ì†Œ ì €ì¥</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setIp</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getRemoteAddr</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : "</span><span class="o">+</span><span class="n">dto</span><span class="o">);</span>
		
        <span class="c1">// DBì— DTO ë³´ë‚´ì„œ ì €ì¥</span>
        <span class="nc">BoardDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDAO</span><span class="o">();</span>
        <span class="n">dao</span><span class="o">.</span><span class="na">insertPost</span><span class="o">(</span><span class="n">dto</span><span class="o">);</span>
		
        <span class="c1">// ì™„ë£Œë˜ë©´ ê¸€ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™</span>
        <span class="nc">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActionForward</span><span class="o">();</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">"./BoardList.bo"</span><span class="o">);</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setRedirect</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
		
        <span class="k">return</span> <span class="n">forward</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>í•œ ê²Œì‹œë¬¼ì—ì„œ ì´ë¯¸ì§€ì™€ ì¼ë°˜íŒŒì¼ ë‘ ê°œê°€ ì—…ë¡œë“œ ë˜ëŠ”ë° íŒŒì¼ ì¢…ë¥˜ë³„ë¡œ ê²½ë¡œë¥¼ ë‚˜ëˆ ì„œ ì €ì¥í•˜ê³  ì‹¶ì—ˆë‹¤.</li>
  <li>í•œ í´ë”ì— ë“¤ì–´ ìˆìœ¼ë©´ ì •ì‹ ì—†ê¸°ë„ í•˜ì§€ë§Œ ì¢…ë¥˜ë³„ë¡œ êµ¬ë¶„í•´ ë†“ìœ¼ë©´ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ë• ì´ë¯¸ì§€ë§Œ ì €ì¥ëœ í´ë”ì—ì„œ ì°¾ì•„ì„œ ê°€ì ¸ì˜¤ë©´ ë˜ë‹ˆê¹Œ í•œêº¼ë²ˆì— ì„ì¸ í´ë”ì—ì„œ ì°¾ì•„ì˜¤ëŠ” ê²ƒ ë³´ë‹¤ëŠ” ë¹ ë¥´ê²Œ ì°¾ì•„ì˜¬ ìˆ˜ ìˆì„ ê²ƒì´ë¼ ìƒê°í–ˆê¸° ë•Œë¬¸ì´ë‹¤.</li>
  <li>ê·¸ë˜ì„œ <code class="language-plaintext highlighter-rouge">MultipartParser</code>ë¥¼ ì‚¬ìš©í•´ì„œ íŒŒë¼ë¯¸í„° ì´ë¦„ë³„ë¡œ ì—…ë¡œë“œ ê²½ë¡œë¥¼ êµ¬ë¶„í•´ì„œ íŒŒì¼ì„ ì—…ë¡œë“œ í•œë‹¤.</li>
</ul>

<h2 id="boardcontentjsp">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;tbody&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"5"</span> <span class="na">style=</span><span class="s">"white-space:pre-wrap; word-wrap:break-word; word-break: break-all;"</span><span class="nt">&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getContent</span><span class="o">()</span> <span class="nt">%&gt;&lt;br&gt;&lt;br&gt;</span>
      <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"./BoardImgAction.bo?img_name=</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getImage</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;</span>
      <span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;</span>ì²¨ë¶€íŒŒì¼<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"3"</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- ì²¨ë¶€íŒŒì¼ì´ ìˆì„ ë•Œì—ë§Œ í•˜ì´í¼ë§í¬ ì—°ê²° --&gt;</span>
      <span class="nt">&lt;%</span><span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
        <span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="nt">%&gt;</span>
      <span class="nt">&lt;%</span> <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span> <span class="nt">%&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./BoardFileDownloadAction.bo?file_name=</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="nt">%&gt;&lt;/a&gt;</span>
      <span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/tbody&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ë³¸ë¬¸ í˜ì´ì§€ì— ë“¤ì–´ì˜¤ë©´ ì²¨ë¶€ëœ ì´ë¯¸ì§€ê°€ ìˆì„ ë•Œì—ë§Œ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.</li>
</ul>

<h2 id="boardimgactionjava">BoardImgAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLEncoder</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.ServletOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardImgAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardImgAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// ì „ë‹¬ëœ ì´ë¯¸ì§€ íŒŒì¼ ì´ë¦„ ì €ì¥</span>
        <span class="nc">String</span> <span class="n">imgName</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"img_name"</span><span class="o">);</span>
		
        <span class="c1">// ì„œë²„ì— ì—…ë¡œë“œ ëœ í´ë” ì°¾ê¸°</span>
        <span class="nc">String</span> <span class="n">savePath</span> <span class="o">=</span> <span class="s">"images"</span><span class="o">;</span>
		
        <span class="c1">// ì„œë²„ì— ì—…ë¡œë“œ ëœ íŒŒì¼ ìœ„ì¹˜ ê³„ì‚°</span>
        <span class="nc">ServletContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">downloadPath</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="n">savePath</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"download path: "</span><span class="o">+</span><span class="n">downloadPath</span><span class="o">);</span>
		
        <span class="c1">// ë‹¤ìš´ë¡œë“œ í•  ì´ë¯¸ì§€ì˜ ì „ì²´ ê²½ë¡œ ê³„ì‚°</span>
        <span class="c1">// ì‚¬ìš©ì OSì— ë”°ë¼ ì—°ê²°ì êµ¬ë¶„</span>
        <span class="nc">String</span> <span class="n">imgPath</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">agent</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getHeader</span><span class="o">(</span><span class="s">"User-Agent"</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">agent</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="s">"Windows"</span><span class="o">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
            <span class="n">imgPath</span> <span class="o">=</span> <span class="n">downloadPath</span> <span class="o">+</span> <span class="s">"\\"</span> <span class="o">+</span> <span class="n">imgName</span><span class="o">;</span>
        <span class="k">else</span> 
            <span class="n">imgPath</span> <span class="o">=</span> <span class="n">downloadPath</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">imgName</span><span class="o">;</span>
		
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"imgPath: "</span><span class="o">+</span><span class="n">imgPath</span><span class="o">);</span>
		
        <span class="c1">// íŒŒì¼ ì €ì¥ ë°°ì—´</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">4096</span><span class="o">];</span>
		
        <span class="c1">// ë°ì´í„° ì£¼ê³ ë°›ì„ í†µë¡œ ìƒì„±</span>
        <span class="nc">FileInputStream</span> <span class="n">fis</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileInputStream</span><span class="o">(</span><span class="n">imgPath</span><span class="o">);</span>
		
        <span class="c1">// MIME íƒ€ì… ì •ë³´ ì–»ì–´ì˜¤ê¸°</span>
        <span class="nc">String</span> <span class="n">mimeType</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getMimeType</span><span class="o">(</span><span class="n">imgPath</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"MIME type: "</span><span class="o">+</span><span class="n">mimeType</span><span class="o">);</span>
		
        <span class="k">if</span> <span class="o">(</span><span class="n">mimeType</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">mimeType</span> <span class="o">=</span> <span class="s">"application/octet-stream"</span><span class="o">;</span>
		
        <span class="c1">// ì „ë‹¬ë°›ì€ MIME íƒ€ì…ìœ¼ë¡œ ë¸Œë¼ìš°ì € ì •ë³´ ì„¤ì •</span>
        <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="n">mimeType</span><span class="o">);</span>
		
        <span class="c1">// ì¸í„°ë„· ìµìŠ¤í”Œë¡œëŸ¬ ì¼ ë•Œ êµ¬ë¶„í•´ì„œ ì²˜ë¦¬</span>
        <span class="kt">boolean</span> <span class="n">ieBrowser</span> <span class="o">=</span> <span class="o">(</span><span class="n">agent</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="s">"MISE"</span><span class="o">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">agent</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="s">"Trident"</span><span class="o">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ieBrowser</span><span class="o">)</span>
            <span class="n">imgName</span> <span class="o">=</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">imgName</span><span class="o">,</span> <span class="s">"utf-8"</span><span class="o">).</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">"\\+"</span><span class="o">,</span> <span class="s">"%20"</span><span class="o">);</span>
        <span class="k">else</span> 
            <span class="n">imgName</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="n">imgName</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">),</span> <span class="s">"iso-8859-1"</span><span class="o">);</span>
		
        <span class="c1">// ì‘ë‹µì •ë³´ ì„¤ì •</span>
        <span class="n">response</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"Content-Disposition"</span><span class="o">,</span> <span class="n">mimeType</span><span class="o">);</span>
		
        <span class="c1">// ì¶œë ¥ìŠ¤íŠ¸ë¦¼ ìƒì„±</span>
        <span class="nc">ServletOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">();</span>
		
        <span class="kt">int</span> <span class="n">data</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">while</span> <span class="o">((</span><span class="n">data</span> <span class="o">=</span> <span class="n">fis</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
		
        <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
		
        <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">fis</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì—¬ê¸°ê¹Œì§€ í•˜ë©´ ê²Œì‹œê¸€ì— ì…ì¥í–ˆì„ ë•Œ ì—…ë¡œë“œ í•œ ì´ë¯¸ì§€ê°€ ì¶œë ¥ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì¶œì²˜">ì¶œì²˜</h1>
<ul>
  <li><a href="https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&amp;blogId=cacung82&amp;logNo=220502809071">[JAVA] MultipartParser íŒŒì¼ ì €ì¥ê²½ë¡œë¥¼ íŒŒë¼ë©”í„°ë¡œ ë°›ì•„ì„œ ì—…ë¡œë“œí•˜ê¸°</a></li>
  <li><a href="https://velog.io/@jgkim0320/Java-%EA%B0%81%EA%B0%81-%EB%8B%A4%EB%A5%B8-%EA%B2%BD%EB%A1%9C%EB%A1%9C-File-Upload">Java ê°ê° ë‹¤ë¥¸ ê²½ë¡œë¡œ File Upload</a>
<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">D-4</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">Python) ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ 06 ì‹¤ì „ë¬¸ì œ 4. ë‘ ë°°ì—´ì˜ ì›ì†Œ êµì²´</title><link href="http://localhost:4000/boj/CodingTestBook-06-12-py/" rel="alternate" type="text/html" title="Python) ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ 06 ì‹¤ì „ë¬¸ì œ 4. ë‘ ë°°ì—´ì˜ ì›ì†Œ êµì²´" /><published>2022-03-31T00:00:00+09:00</published><updated>2022-03-31T00:00:00+09:00</updated><id>http://localhost:4000/boj/CodingTestBook-06-12-py</id><content type="html" xml:base="http://localhost:4000/boj/CodingTestBook-06-12-py/"><![CDATA[<h1 id="ë¬¸ì œ-ì¶œì²˜">ë¬¸ì œ ì¶œì²˜</h1>
<hr />

<ul>
  <li>ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ with íŒŒì´ì¬</li>
  <li>Chapter 06 - ì‹¤ì „ë¬¸ì œ 4. ë‘ ë°°ì—´ì˜ ì›ì†Œ êµì²´<br /><br /></li>
</ul>

<h1 id="ì œí•œ">ì œí•œ</h1>
<hr />

<ul>
  <li>ì‹œê°„ ì œí•œ : 2 ì´ˆ</li>
  <li>ë©”ëª¨ë¦¬ ì œí•œ : 128 MB<br /><br /></li>
</ul>

<h1 id="ë¬¸ì œ">ë¬¸ì œ</h1>
<hr />

<ul>
  <li>ë™ë¹ˆì´ëŠ” ë‘ ê°œì˜ ë°°ì—´ Aì™€ Bë¥¼ ê°€ì§€ê³  ìˆë‹¤. ë‘ ë°°ì—´ì€ Nê°œì˜ ì›ì†Œë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ë°°ì—´ì˜ ì›ì†ŒëŠ” ëª¨ë‘ ìì—°ìˆ˜ì´ë‹¤. ë™ë¹ˆì´ëŠ” ìµœëŒ€ Kë²ˆì˜ ë°”ê¿”ì¹˜ê¸° ì—°ì‚°ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ”ë°, ë°”ê¿”ì¹˜ê¸° ì—°ì‚°ì´ë€ ë°°ì—´ Aì— ìˆëŠ” ì›ì†Œ í•˜ë‚˜ì™€ ë°°ì—´ Bì— ìˆëŠ” ì›ì†Œ í•˜ë‚˜ë¥¼ ê³¨ë¼ì„œ ë‘ ì›ì†Œë¥¼ ì„œë¡œ ë°”ê¾¸ëŠ” ê²ƒì„ ë§í•œë‹¤. ë™ë¹ˆì´ì˜ ìµœì¢… ëª©í‘œëŠ” ë°°ì—´ Aì˜ ëª¨ë“  ì›ì†Œì˜ í•©ì´ ìµœëŒ€ê°€ ë˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë©°, ì—¬ëŸ¬ë¶„ì€ ë™ë¹ˆì´ë¥¼ ë„ì™€ì•¼ í•œë‹¤.</li>
  <li>N, K, ê·¸ë¦¬ê³  ë°°ì—´ Aì™€ Bì˜ ì •ë³´ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ìµœëŒ€ Kë²ˆì˜ ë°”ê¿”ì¹˜ê¸° ì—°ì‚°ì„ ìˆ˜í–‰í•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë°°ì—´ Aì˜ ëª¨ë“  ì›ì†Œì˜ í•©ì˜ ìµœëŒ“ê°’ì„ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.<br /><br /></li>
</ul>

<h1 id="ì…ë ¥">ì…ë ¥</h1>
<hr />

<ul>
  <li>ì²«ì§¸ ì¤„ì— N, Kê°€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì…ë ¥ëœë‹¤. (1 &lt;= N &lt;= 100,000,0 &lt;= K &lt;= N)</li>
  <li>ë‘ ë²ˆì§¸ ì¤„ì— ë°°ì—´ Aì˜ ì›ì†Œë“¤ì´ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì…ë ¥ëœë‹¤. ëª¨ë“  ì›ì†ŒëŠ” 10,000,000ë³´ë‹¤ ì‘ì€ ìì—°ìˆ˜ì´ë‹¤.</li>
  <li>ì„¸ ë²ˆì§¸ ì¤„ì— ë°°ì—´ Bì˜ ì›ì†Œë“¤ì´ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì…ë ¥ëœë‹¤. ëª¨ë“  ì›ì†ŒëŠ” 10,000,000ë³´ë‹¤ ì‘ì€ ìì—°ìˆ˜ì´ë‹¤.<br /><br /></li>
</ul>

<h1 id="ì¶œë ¥">ì¶œë ¥</h1>
<hr />

<ul>
  <li>ìµœëŒ€ Kë²ˆì˜ ë°”ê¿”ì¹˜ê¸° ì—°ì‚°ì„ ìˆ˜í–‰í•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë°°ì—´ Aì˜ ëª¨ë“  ì›ì†Œì˜ í•©ì˜ ìµœëŒ“ê°’ì„ ì¶œë ¥í•œë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="-í’€ì´">ğŸ‘€ í’€ì´</h1>
<hr />

<ul>
  <li><code class="language-plaintext highlighter-rouge">ë°°ì—´ A</code>ì˜ <code class="language-plaintext highlighter-rouge">ìµœì†Ÿê°’</code>ì„ <code class="language-plaintext highlighter-rouge">ë°°ì—´ B</code>ì˜ <code class="language-plaintext highlighter-rouge">ìµœëŒ“ê°’</code>ê³¼ <code class="language-plaintext highlighter-rouge">K</code>ë²ˆë§Œí¼ ë°”ê¿”ê°€ë©´ ëœë‹¤.</li>
  <li>ê·¸ëŸ´ë ¤ë©´ <code class="language-plaintext highlighter-rouge">ë°°ì—´ AëŠ” ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬</code>, <code class="language-plaintext highlighter-rouge">ë°°ì—´ BëŠ” ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬</code>ì„ í•´ì•¼ í•œë‹¤.</li>
  <li>ê·¸ í›„ <code class="language-plaintext highlighter-rouge">0</code>ë²ˆì§¸ë¶€í„° <code class="language-plaintext highlighter-rouge">K - 1</code>ë²ˆì§¸ ì›ì†Œê¹Œì§€ ë‘ ë°°ì—´ì˜ ì›ì†Œë¥¼ ë°”ê¿”ì£¼ë©´ ë˜ëŠ”ë° <code class="language-plaintext highlighter-rouge">ë°°ì—´ A</code>ì˜ <code class="language-plaintext highlighter-rouge">i</code>ë²ˆì§¸ ì›ì†Œê°€ <code class="language-plaintext highlighter-rouge">ë°°ì—´ B</code>ì˜ <code class="language-plaintext highlighter-rouge">i</code>ë²ˆì§¸ ì›ì†Œë³´ë‹¤ ì‘ì„ ë•Œì—ë§Œ ë°”ê¿”ì¤€ë‹¤. ë§Œì•½ <code class="language-plaintext highlighter-rouge">ë°°ì—´ A</code>ì˜ <code class="language-plaintext highlighter-rouge">i</code>ë²ˆì§¸ ì›ì†Œê°€ <code class="language-plaintext highlighter-rouge">ë°°ì—´ B</code>ì˜ <code class="language-plaintext highlighter-rouge">i</code>ë²ˆì§¸ ì›ì†Œë³´ë‹¤ í¬ë‹¤ë©´ ê±°ê¸°ë¶€í„°ëŠ” <code class="language-plaintext highlighter-rouge">ë°°ì—´ B</code>ì˜ ì›ì†Œê°€ í•­ìƒ ì‘ì€ ê²ƒì´ê¸° ë•Œë¬¸ì— ë‚¨ì€ <code class="language-plaintext highlighter-rouge">K</code>ë²ˆë§Œí¼ ê³„ì† ë°”ê¾¸ë©´ ì˜¤ë‹µì„ ë°›ê²Œ ë  ê²ƒì´ë‹¤.<br /><br /></li>
</ul>

<h1 id="ì½”ë“œ">ì½”ë“œ</h1>
<hr />

<script src="https://gist.github.com/miro7923/e0b6d22501b86b0f97b9e17a7ea0c974.js"></script>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="BOJ" /><category term="Algorithm" /><category term="BFS" /><category term="Python" /><summary type="html"><![CDATA[ë¬¸ì œ ì¶œì²˜ ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”©í…ŒìŠ¤íŠ¸ë‹¤ with íŒŒì´ì¬ Chapter 06 - ì‹¤ì „ë¬¸ì œ 4. ë‘ ë°°ì—´ì˜ ì›ì†Œ êµì²´ ì œí•œ ì‹œê°„ ì œí•œ : 2 ì´ˆ ë©”ëª¨ë¦¬ ì œí•œ : 128 MB]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 20 - íŒŒì¼ì—…ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-20/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 20 - íŒŒì¼ì—…ë¡œë“œ ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-03-31T00:00:00+09:00</published><updated>2022-03-31T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-20</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-20/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©">ì§„í–‰ìƒí™©</h1>
<ul>
  <li>íŒŒì¼ì—…ë¡œë“œ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">COS</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆë‹¤.</li>
</ul>

<h2 id="cos-ë¼ì´ë¸ŒëŸ¬ë¦¬-ë‹¤ìš´ë¡œë“œ-ë°-ì„¤ì¹˜">COS ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‹¤ìš´ë¡œë“œ ë° ì„¤ì¹˜</h2>
<ul>
  <li><a href="http://www.servlets.com/cos/">http://www.servlets.com/</a></li>
  <li>ìœ„ ì‚¬ì´íŠ¸ì— ì ‘ì†í•´ì„œ í•˜ë‹¨ì— <code class="language-plaintext highlighter-rouge">Download</code> íƒ­ì— ìˆëŠ” ì••ì¶•íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•œë‹¤.</li>
  <li>ë‹¤ìš´ë°›ì€ íŒŒì¼ ì••ì¶•ì„ í‘¼ í›„ <code class="language-plaintext highlighter-rouge">cos.jar</code> íŒŒì¼ì„ <code class="language-plaintext highlighter-rouge">WEB-INF/lib</code> í´ë”ì— ë„£ëŠ”ë‹¤.</li>
</ul>

<h2 id="boardwritejsp">boardWrite.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"_r"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/leftNav.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"al-o1 de-o2 de10"</span> <span class="na">class=</span><span class="s">"MOD_SUBNAVIGATION1_Page"</span><span class="nt">&gt;</span>
    	<span class="nt">&lt;h2&gt;</span>ê²Œì‹œê¸€ ì‘ì„±<span class="nt">&lt;/h2&gt;</span>
    	<span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">"write"</span> <span class="na">action=</span><span class="s">"./BoardWriteAction.bo"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">enctype=</span><span class="s">"multipart/form-data"</span> <span class="na">onsubmit=</span><span class="s">"return finalCheck();"</span><span class="nt">&gt;</span>
    	<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"id"</span> <span class="na">value=</span><span class="s">"</span><span class="nt">&lt;%=</span><span class="n">id</span><span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì œëª© <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"title"</span> <span class="na">id=</span><span class="s">"title"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_MsgField"</span><span class="nt">&gt;</span>ë‚´ìš© <span class="nt">&lt;/label&gt;</span>
          <span class="nt">&lt;textarea</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_MsgField"</span> <span class="na">name=</span><span class="s">"content"</span><span class="nt">&gt;&lt;/textarea&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>íŒŒì¼ ë“±ë¡ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">type=</span><span class="s">"file"</span> <span class="na">name=</span><span class="s">"file"</span> <span class="na">id=</span><span class="s">"file"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn"</span><span class="nt">&gt;</span>ê¸€ ë“±ë¡<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/form&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê¸°ì¡´ì— ê¸€ì„ ì‘ì„±í•˜ë˜ í˜ì´ì§€ì— ì—…ë¡œë“œ í•  íŒŒì¼ì„ ë“±ë¡í•˜ëŠ” íƒœê·¸ë¥¼ ì¶”ê°€í–ˆë‹¤.</li>
  <li>ì‚¬ìš©ìê°€ ì„ íƒí•œ íŒŒì¼ ê°ì²´ê°€ ì „ì†¡ë  ìˆ˜ ìˆë„ë¡ ì¸ì½”ë”© íƒ€ì…ì„ <code class="language-plaintext highlighter-rouge">multipart/form-data</code>ë¡œ ì§€ì •í•´ ì£¼ì—ˆë‹¤.</li>
</ul>

<h2 id="boardwriteactionjava">BoardWriteAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.oreilly.servlet.MultipartRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.oreilly.servlet.multipart.DefaultFileRenamePolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDAO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.board.db.BoardDTO</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardWriteAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardWriteAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// í•œê¸€ì²˜ë¦¬</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"UTF-8"</span><span class="o">);</span>
		
        <span class="c1">// íŒŒì¼ ì—…ë¡œë“œ ë¨¼ì € í•˜ê¸°</span>
        <span class="c1">// 1. ì €ì¥ê²½ë¡œ ìƒì„±</span>
        <span class="nc">ServletContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">realPath</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="s">"/upload"</span><span class="o">);</span>
		
        <span class="c1">// 2. íŒŒì¼ì˜ ì €ì¥í¬ê¸°</span>
        <span class="kt">int</span> <span class="n">maxSize</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="o">;</span> <span class="c1">// 10MB</span>
		
        <span class="c1">// 3. íŒŒì¼ì—…ë¡œë“œ(ê°ì²´ ìƒì„±)</span>
        <span class="nc">MultipartRequest</span> <span class="n">multi</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MultipartRequest</span><span class="o">(</span>
                <span class="n">request</span><span class="o">,</span> 
                <span class="n">realPath</span><span class="o">,</span>
                <span class="n">maxSize</span><span class="o">,</span>
                <span class="s">"utf-8"</span><span class="o">,</span>
                <span class="k">new</span> <span class="nf">DefaultFileRenamePolicy</span><span class="o">()</span>
                <span class="o">);</span>
		
        <span class="c1">// íŒŒë¼ë©”í„°ë¥¼ DTOì— ì €ì¥</span>
        <span class="c1">// MultipartRequest ê°ì²´ ì•ˆì— ë“¤ì€ íŒŒë¼ë¯¸í„° ì •ë³´ì— ì ‘ê·¼í•´ì•¼ í•œë‹¤.</span>
        <span class="nc">BoardDTO</span> <span class="n">dto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDTO</span><span class="o">();</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">multi</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"content"</span><span class="o">));</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">multi</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"id"</span><span class="o">));</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">multi</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"title"</span><span class="o">));</span>
        
        <span class="c1">// íŒŒì¼ì´ë¦„ì— ì ‘ê·¼í•  ë•Œì—” getFilesystemName() ë©”ì†Œë“œ ì‚¬ìš©</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setFile</span><span class="o">(</span><span class="n">multi</span><span class="o">.</span><span class="na">getFilesystemName</span><span class="o">(</span><span class="s">"file"</span><span class="o">));</span>
		
        <span class="c1">// ì‚¬ìš©ì ipì£¼ì†Œ ì €ì¥</span>
        <span class="n">dto</span><span class="o">.</span><span class="na">setIp</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">getRemoteAddr</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : "</span><span class="o">+</span><span class="n">dto</span><span class="o">);</span>
		
        <span class="c1">// DBì— DTO ë³´ë‚´ì„œ ì €ì¥</span>
        <span class="nc">BoardDAO</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BoardDAO</span><span class="o">();</span>
        <span class="n">dao</span><span class="o">.</span><span class="na">insertPost</span><span class="o">(</span><span class="n">dto</span><span class="o">);</span>
		
        <span class="c1">// ì™„ë£Œë˜ë©´ ê¸€ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™</span>
        <span class="nc">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActionForward</span><span class="o">();</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">"./BoardList.bo"</span><span class="o">);</span>
        <span class="n">forward</span><span class="o">.</span><span class="na">setRedirect</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
		
        <span class="k">return</span> <span class="n">forward</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="boarddao---insertpostdto">BoardDAO - insertPost(dto)</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertPost</span><span class="o">(</span><span class="nc">BoardDTO</span> <span class="n">dto</span><span class="o">)</span>
<span class="o">{</span>
    <span class="kt">int</span> <span class="n">postNum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> 
		
    <span class="k">try</span> <span class="o">{</span>
        <span class="c1">// 1.2. DB ì—°ê²°</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">getCon</span><span class="o">();</span>
			
        <span class="c1">// 3. sql ì‘ì„± &amp; pstmt ê°ì²´</span>
        <span class="c1">// ì´ë²ˆ ì°¨ë¡€ì— DBì— ì €ì¥ë  ê¸€ë²ˆí˜¸ ê³„ì‚°</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"select max(num) from cafe_board"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="n">rs</span> <span class="o">=</span> <span class="n">pstmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">();</span>
			
        <span class="k">if</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span>
            <span class="n">postNum</span> <span class="o">=</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
			
        <span class="c1">// 3. ë°ì´í„° ì‚½ì…ìš© sql ì‘ì„± &amp; pstmt ì„¤ì •</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="s">"insert into cafe_board(num, id, title, content, readcount, re_ref, re_lev, re_seq, date, ip, file) "</span>
                <span class="o">+</span> <span class="s">"values(?,?,?,?,?,?,?,?,now(),?,?)"</span><span class="o">;</span>
        <span class="n">pstmt</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="na">prepareStatement</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
			
        <span class="c1">// ? ì±„ìš°ê¸°</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">postNum</span><span class="o">);</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getTitle</span><span class="o">());</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="c1">// ì²˜ìŒì— ì¡°íšŒìˆ˜ 0</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">6</span><span class="o">,</span> <span class="n">postNum</span><span class="o">);</span> <span class="c1">// ë‹µê¸€ì˜ ê·¸ë£¹. ì¼ë°˜ê¸€ì˜ ê¸€ë²ˆí˜¸ì™€ ë™ì¼í•˜ê²Œ ë§Œë“¦</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="c1">// ë‹µê¸€ì˜ ë ˆë²¨. ì²˜ìŒì—” ë“¤ì—¬ì“°ê¸° ì—†ìŒ</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setInt</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span> <span class="c1">// ë‹µê¸€ì˜ ìˆœì„œ. ì²˜ìŒì—” ê°€ì¥ ìµœìƒë‹¨</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">9</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getIp</span><span class="o">());</span>
			
        <span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="s">"ì—†ìŒ"</span><span class="o">);</span>
        <span class="k">else</span> 
            <span class="n">pstmt</span><span class="o">.</span><span class="na">setString</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">());</span>
			
        <span class="c1">// 4. sql ì‹¤í–‰</span>
        <span class="n">pstmt</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">();</span>
			
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"DAO : ê²Œì‹œê¸€ DB ì‚½ì… ì™„ë£Œ"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">finally</span> <span class="o">{</span>
        <span class="n">closeDB</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ê¸°ì¡´ì— ìƒˆ ê²Œì‹œê¸€ì„ <code class="language-plaintext highlighter-rouge">DB</code> ì‚½ì…í•˜ëŠ” ë™ì‘ì„ ìˆ˜í–‰í•˜ë˜ <code class="language-plaintext highlighter-rouge">BoardWriteAction</code>ê³¼ <code class="language-plaintext highlighter-rouge">insertPost()</code> ë©”ì†Œë“œë¥¼ ì•½ê°„ ìˆ˜ì •í–ˆë‹¤.</li>
</ul>

<h2 id="boardcontentjsp">boardContent.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;tbody&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"5"</span> <span class="na">style=</span><span class="s">"white-space:pre-wrap; word-wrap:break-word; word-break: break-all;"</span><span class="nt">&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getContent</span><span class="o">()</span> <span class="nt">%&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;tr&gt;</span>
    <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;</span>ì²¨ë¶€íŒŒì¼<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">"3"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- ì²¨ë¶€íŒŒì¼ì´ ìˆì„ ë•Œì—ë§Œ í•˜ì´í¼ë§í¬ ì—°ê²° --&gt;</span>
      <span class="nt">&lt;%</span> <span class="k">if</span> <span class="o">(</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"ì—†ìŒ"</span><span class="o">))</span> <span class="o">{</span> <span class="nt">%&gt;</span>
        <span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="nt">%&gt;</span>
      <span class="nt">&lt;%</span> <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span> <span class="nt">%&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"./BoardFileDownloadAction.bo?file_name=</span><span class="nt">&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="nt">%&gt;</span><span class="s">"</span><span class="nt">&gt;&lt;%=</span><span class="n">dto</span><span class="o">.</span><span class="na">getFile</span><span class="o">()</span> <span class="nt">%&gt;&lt;/a&gt;</span>
      <span class="nt">&lt;%</span> <span class="o">}</span> <span class="nt">%&gt;</span>
    <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;/tbody&gt;</span>
</code></pre></div></div>

<ul>
  <li>ê²Œì‹œê¸€ ë‚´ìš©ì„ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ì—ì„œëŠ” ì²¨ë¶€íŒŒì¼ì´ ìˆì„ ë•Œì—ë§Œ í•˜ì´í¼ë§í¬ë¥¼ ì—°ê²°í•˜ë„ë¡ í–ˆë‹¤.</li>
</ul>

<p align="center"><img src="../../assets/images/fileDownload.png" width="500" /></p>
<p align="center"><img src="../../assets/images/fileDownloadNull.png" width="500" /></p>

<ul>
  <li>ì—¬ê¸°ê¹Œì§€ í•˜ë©´ íŒŒì¼ ìœ ë¬´ì— ë”°ë¼ì„œ í•˜ì´í¼ë§í¬ ì—°ê²°ê¹Œì§€ ëœë‹¤.</li>
</ul>

<h2 id="boardfiledownloadactionjava">BoardFileDownloadAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLEncoder</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.ServletOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardFileDownloadAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : BoardFileDownloadAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// ì „ë‹¬ëœ íŒŒì¼ ì´ë¦„ ì €ì¥</span>
        <span class="nc">String</span> <span class="n">fileName</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"file_name"</span><span class="o">);</span>
		
        <span class="c1">// ì„œë²„ì— ì—…ë¡œë“œ ëœ í´ë” ì°¾ê¸°</span>
        <span class="nc">String</span> <span class="n">savePath</span> <span class="o">=</span> <span class="s">"upload"</span><span class="o">;</span>
		
        <span class="c1">// ì„œë²„ì— ì—…ë¡œë“œ ëœ íŒŒì¼ì˜ ìœ„ì¹˜ ê³„ì‚°(ë¬¼ë¦¬ì  ê²½ë¡œ)</span>
        <span class="nc">ServletContext</span> <span class="n">ctx</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">();</span>
        <span class="nc">String</span> <span class="n">downloadPath</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getRealPath</span><span class="o">(</span><span class="n">savePath</span><span class="o">);</span>
		
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"downloadPath : "</span><span class="o">+</span><span class="n">downloadPath</span><span class="o">);</span>
		
        <span class="c1">// ë‹¤ìš´ë¡œë“œ í•  íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œ ê³„ì‚°</span>
        <span class="c1">// ì‚¬ìš©ì OSì— ë”°ë¼ ì—°ê²°ë¬¸ì êµ¬ë¶„</span>
        <span class="nc">String</span> <span class="n">filePath</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">agent</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getHeader</span><span class="o">(</span><span class="s">"User-Agent"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"agent: "</span><span class="o">+</span><span class="n">agent</span><span class="o">);</span>
		
        <span class="k">if</span> <span class="o">(</span><span class="n">agent</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="s">"Windows"</span><span class="o">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
            <span class="n">filePath</span> <span class="o">=</span> <span class="n">downloadPath</span> <span class="o">+</span> <span class="s">"\\"</span> <span class="o">+</span> <span class="n">fileName</span><span class="o">;</span>
        <span class="k">else</span>
            <span class="n">filePath</span> <span class="o">=</span> <span class="n">downloadPath</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">fileName</span><span class="o">;</span>
		
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"filePath : "</span><span class="o">+</span><span class="n">filePath</span><span class="o">);</span>
		
        <span class="c1">///////////////////////////////////////////</span>
		
        <span class="c1">// íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ë°°ì—´(ë²„í¼)</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">4096</span><span class="o">];</span> <span class="c1">// 4kb</span>
		
        <span class="c1">// ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆëŠ” í†µë¡œ ë§Œë“¤ê¸°</span>
        <span class="nc">FileInputStream</span> <span class="n">fis</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileInputStream</span><span class="o">(</span><span class="n">filePath</span><span class="o">);</span>
		
        <span class="c1">// MIME íƒ€ì… ì–»ì–´ì˜¤ê¸°</span>
        <span class="nc">String</span> <span class="n">mimeType</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="na">getMimeType</span><span class="o">(</span><span class="n">filePath</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"mimeType: "</span><span class="o">+</span><span class="n">mimeType</span><span class="o">);</span>
		
        <span class="c1">// MIME íƒ€ì… ì •ë³´ê°€ ì—†ëŠ” ê²½ìš°</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">mimeType</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="c1">// ì‹¤ì œë¡œ ì˜ ì•Œë ¤ì§€ì§€ ì•Šì€ ì´ì§„íŒŒì¼ì„ ì˜ë¯¸í•˜ë©°, ë¸Œë¼ìš°ì €ê°€ ìë™ ì‹¤í–‰í•˜ì§€ ì•Šê³  ì‹¤í–‰ì—¬ë¶€ë¥¼ ì§ˆë¬¸í•œë‹¤.</span>
            <span class="n">mimeType</span> <span class="o">=</span> <span class="s">"application/octet-stream"</span><span class="o">;</span>
        <span class="o">}</span>
		
        <span class="c1">// ë¸Œë¼ìš°ì €ê°€ ì „ë‹¬ë°›ì€ MIME íƒ€ì…ìœ¼ë¡œ ì‘ë‹µì •ë³´ ì„¤ì •</span>
        <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="n">mimeType</span><span class="o">);</span>
		
        <span class="c1">// IE / ê·¸ ì™¸ ë‚˜ë¨¸ì§€ ë¸Œë¼ìš°ì € êµ¬ë¶„</span>
        <span class="kt">boolean</span> <span class="n">ieBrowser</span> <span class="o">=</span> <span class="o">(</span><span class="n">agent</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="s">"MISE"</span><span class="o">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">||</span> <span class="n">agent</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="s">"Trident"</span><span class="o">)</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">ieBrowser</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="c1">// ì¸í„°ë„· ìµìŠ¤í”Œë¡œëŸ¬ì¼ ë•Œ</span>
            <span class="c1">// ì¸í„°ë„· ìµìŠ¤í”Œë¡œëŸ¬ì—ì„œëŠ” í•œê¸€ ë‹¤ìš´ë¡œë“œì‹œ í•œê¸€ ì¸ì½”ë”©ì´ ê¹¨ì ¸ì„œ utf-8ë¡œ ë°”ê¿”ì¤€ë‹¤.</span>
            <span class="c1">// ì¸í„°ë„· ìµìŠ¤í”Œë¡œëŸ¬ì—ì„œëŠ” ê³µë°±ë¬¸ì í‘œì‹œê°€ [+]ë¼ì„œ [%20]ìœ¼ë¡œ ë°”ê¿”ì¤€ë‹¤.</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="nc">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">fileName</span><span class="o">,</span> <span class="s">"utf-8"</span><span class="o">).</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">"\\+"</span><span class="o">,</span> <span class="s">"%20"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">else</span>
        <span class="o">{</span>
            <span class="c1">// ê·¸ ì™¸ ë¸Œë¼ìš°ì €</span>
            <span class="c1">// ë¸Œë¼ìš°ì € ë‹¤ìš´ë¡œë“œì‹œ í•œê¸€ ê¹¨ì§ ì²˜ë¦¬</span>
            <span class="c1">// 8859-1 &lt; EUC-KR &lt; MS949 &lt; UTF-8</span>
            <span class="c1">// -&gt; ë°©í–¥ìœ¼ë¡œ ê°ˆìˆ˜ë¡ ì¸ì½”ë”© ë²”ìœ„ê°€ ì»¤ì§ (í•œê¸€ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë²”ìœ„ê°€ ëŠ˜ì–´ë‚¨)</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="n">fileName</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">),</span> <span class="s">"iso-8859-1"</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="c1">// ë¸Œë¼ìš°ì €ì—ì„œ í•´ì„ë˜ëŠ”(ë¯¸ë¦¬ë³´ê¸° í˜•íƒœë¡œ ë°”ë¡œ ë³¼ ìˆ˜ ìˆëŠ”) íŒŒì¼ë„ ë‹¤ìš´ë¡œë“œ í˜•íƒœë¡œ ì²˜ë¦¬ê°€ëŠ¥í•˜ê²Œ ë³€ê²½</span>
        <span class="n">response</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"Content-Disposition"</span><span class="o">,</span> <span class="s">"attachment; filename="</span> <span class="o">+</span> <span class="n">fileName</span><span class="o">);</span>
		
        <span class="c1">// ë‹¤ìš´ë¡œë“œí•  íŒŒì¼ ì¶œë ¥</span>
        <span class="nc">ServletOutputStream</span> <span class="n">out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">();</span>
		
        <span class="kt">int</span> <span class="n">data</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="c1">// ë°ì´í„°ë¥¼ ë°°ì—´ì„ ì‚¬ìš©í•´ ë°°ì—´ì˜ ê¸¸ì´ë§Œí¼ ì˜ë¼ì„œ dataì— ì €ì¥í•œë‹¤. EOFê°€ ì•„ë‹ ë•Œê¹Œì§€</span>
        <span class="k">while</span> <span class="o">((</span><span class="n">data</span> <span class="o">=</span> <span class="n">fis</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">b</span><span class="o">.</span><span class="na">length</span><span class="o">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span>
        <span class="o">{</span>
            <span class="c1">// ê°€ì ¸ì˜¨ data ê¸¸ì´ë§Œí¼ ì¶œë ¥</span>
            <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">data</span><span class="o">);</span>
        <span class="o">}</span>
		
        <span class="c1">// ServletOutputStreamì€ ë²„í¼ì˜ ê¸¸ì´ê°€ ë‹¤ ì°¼ì„ ë•Œì—ë§Œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê¸° ë•Œë¬¸ì— </span>
        <span class="c1">// flushë¡œ ë²„í¼ì˜ ë¹ˆ ê³µê°„ì„ ì±„ì›Œì„œ ì „ì†¡í•¨</span>
        <span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
		
        <span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="n">fis</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ì—…ë¡œë“œ ëœ íŒŒì¼ì„ í´ë¦­í•˜ë©´ íŒŒì¼ ë‹¤ìš´ë¡œë“œë¥¼ ì²˜ë¦¬í•˜ëŠ” ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
  <li>ë‹¤ìš´ë¡œë“œ í•  íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì„¤ì •í•  ë•Œ <code class="language-plaintext highlighter-rouge">Mac OS</code>ì—ì„œëŠ” íŒŒì¼ ê²½ë¡œ êµ¬ë¶„ìë¥¼ <code class="language-plaintext highlighter-rouge">"/"</code>ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° <code class="language-plaintext highlighter-rouge">Windows OS</code>ì—ì„œëŠ” <code class="language-plaintext highlighter-rouge">"\"</code>ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">filePath</code>ë¥¼ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì—ì„œ <code class="language-plaintext highlighter-rouge">"\\"</code>ë§Œ ì“°ë©´ ë§¥ì—ì„œ ê²½ë¡œë¥¼ ì œëŒ€ë¡œ ëª» ì°¾ëŠ”ë‹¤.(ë‚œ ë§¥ë¶ì„ ì“°ëŠ”ë° ìˆ˜ì—…ì€ ìœˆë„ìš° ê¸°ë°˜ì´ë¼ì„œ ì²˜ìŒì— ìœˆë„ìš° ë²„ì „ìœ¼ë¡œ ë”°ë¼í•˜ë©´ì„œ <code class="language-plaintext highlighter-rouge">"\\"</code> ì“°ë‹ˆê¹Œ ì•ˆ ë˜ì„œ í—¤ë©¨ì—ˆìŒ)</li>
  <li>
    <p>ê·¸ë˜ì„œ ì‚¬ìš©ìì˜ OSì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì„ ì¶”ê°€í–ˆë‹¤.</p>
  </li>
  <li>ì—¬ê¸°ê¹Œì§€ í•˜ë©´ ë‹¤ìš´ë¡œë“œë„ ì˜ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">D-4</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry><entry><title type="html">JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 19 - ë©”ì¼ ë³´ë‚´ê¸° ê¸°ëŠ¥ ì¶”ê°€</title><link href="http://localhost:4000/project%20log/cafe-project-19/" rel="alternate" type="text/html" title="JAVA Servlet í”„ë¡œì íŠ¸) Cafe(ì›¹ ì‚¬ì´íŠ¸) ë§Œë“¤ê¸° 19 - ë©”ì¼ ë³´ë‚´ê¸° ê¸°ëŠ¥ ì¶”ê°€" /><published>2022-03-30T00:00:00+09:00</published><updated>2022-03-30T00:00:00+09:00</updated><id>http://localhost:4000/project%20log/cafe-project-19</id><content type="html" xml:base="http://localhost:4000/project%20log/cafe-project-19/"><![CDATA[<h1 id="ê°œë°œí™˜ê²½">ê°œë°œí™˜ê²½</h1>
<ul>
  <li>MacBook Air (M1, 2020)</li>
  <li>OpenJDK 8</li>
  <li>Eclipse 2021-12</li>
  <li>tomcat 8.5</li>
  <li>MySQL Workbench 8.0.19<br /><br /><br /></li>
</ul>

<h1 id="ì‹œì‘">ì‹œì‘</h1>
<ul>
  <li>2022.3.4 ~ <br /><br /><br /></li>
</ul>

<h1 id="ì£¼ì œ">ì£¼ì œ</h1>
<ul>
  <li>ì›¹ ë°±ì—”ë“œ ìˆ˜ì—… ì¤‘ ì¤‘ê°„ ê³¼ì œë¡œ ê°œì¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê²Œ ë˜ì—ˆë‹¤.</li>
  <li>íšŒì›ê°€ì…/ë¡œê·¸ì¸/íƒˆí‡´ ë“± ê¸°ë³¸ì ì¸ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œì„ ê°€ì§„ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤. ì£¼ì–´ì§„ ê¸°í•œì€ <code class="language-plaintext highlighter-rouge">í•œ ë‹¬</code></li>
  <li>ë‚˜ëŠ” <code class="language-plaintext highlighter-rouge">ë‹¤ìŒ ì¹´í˜</code>ë¥¼ ì†Œê·œëª¨ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ í–ˆë‹¤. í‰ì†Œ ìì£¼ ì´ìš©í•˜ê¸°ë„ í–ˆê³  ê³¼ì œì˜ í‰ê°€ ê¸°ì¤€ì—ì„œ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë‹¤ ë‹´ê³  ìˆê¸°ë„ í–ˆê¸° ë•Œë¬¸ì— ì´ë²ˆ ê¸°íšŒì— êµ¬í˜„í•´ ë³´ë©´ ê·¸ë™ì•ˆ ë°°ìš´ ê²ƒë“¤ì„ í™œìš©í•˜ê¸°ì— ì¢‹ì„ ê±° ê°™ì•˜ë‹¤.</li>
  <li>í‰ê°€ ê¸°ì¤€ì— ì‚¬ì´íŠ¸ì˜ ë””ìì¸ êµ¬í˜„(HTML/CSS ë“± í”„ë¡ íŠ¸ì—”ë“œ)ì€ í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³¸ì¸ì´ ì“°ê³  ì‹¶ì€ HTML/CSS í…œí”Œë¦¿ì„ êµ¬í•œ ë’¤ íšŒì› ê´€ë¦¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤.<br /><br /><br /></li>
</ul>

<h1 id="ì§„í–‰ìƒí™©">ì§„í–‰ìƒí™©</h1>
<ul>
  <li>ì‚¬ì´íŠ¸ ê´€ë¦¬ìì—ê²Œ ë©”ì¼ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆë‹¤.</li>
  <li>ìë°” ë©”ì¼ <code class="language-plaintext highlighter-rouge">API</code>ë¥¼ ì‚¬ìš©í–ˆë‹¤.</li>
  <li><code class="language-plaintext highlighter-rouge">JSP 2.3 &amp; Servlet 3.1</code> ì±…ì„ ì°¸ê³ í–ˆë‹¤.</li>
</ul>

<h2 id="ìë°”-ë©”ì¼-api-ì¶”ê°€">ìë°” ë©”ì¼ API ì¶”ê°€</h2>
<ul>
  <li><a href="https://javaee.github.io/javamail/">javax.mail.jar</a> - <code class="language-plaintext highlighter-rouge">javax.mail.jar</code>ë§Œ ë‹¤ìš´ë¡œë“œ í›„ <code class="language-plaintext highlighter-rouge">WEB-INF/lib</code>ì— ë„£ìœ¼ë©´ ëœë‹¤.</li>
  <li><a href="https://www.oracle.com/java/technologies/java-archive-downloads-java-plat-downloads.html#jaf-1.1.1-fcs-oth-JPR">actication.jar</a> - ì—¬ê¸°ì„œ <code class="language-plaintext highlighter-rouge">jaf-1_1_1.zip</code> ë‹¤ìš´ë¡œë“œ í›„ ì••ì¶• í’€ì–´ì„œ <code class="language-plaintext highlighter-rouge">activation.jar</code> íŒŒì¼ë§Œ <code class="language-plaintext highlighter-rouge">WEB-INF/lib</code>ì— ë„£ìœ¼ë©´ ëœë‹¤.</li>
</ul>

<h2 id="contactusjsp">contactUs.jsp</h2>

<div class="language-jsp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;%@ page </span><span class="na">language=</span><span class="s">"java"</span><span class="na"> contentType=</span><span class="s">"text/html; charset=UTF-8"</span><span class="na">
    pageEncoding=</span><span class="s">"UTF-8"</span><span class="nt">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>

<span class="c">&lt;!-- Start Head --&gt;</span>
  <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/top.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${pageContext.request.contextPath }/js/contactUs.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="c">&lt;!-- End Head --&gt;</span>

<span class="nt">&lt;body</span> <span class="na">class=</span><span class="s">"modern"</span><span class="nt">&gt;</span>

<span class="c">&lt;!--
START MODULE AREA 2: Menu 1
--&gt;</span>
  <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/subTop.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
<span class="c">&lt;!--
END MODULE AREA 2: Menu 1
--&gt;</span>

<span class="c">&lt;!--
START MODULE AREA 3: Sub Navigation 1
--&gt;</span>
<span class="nt">&lt;section&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"_r"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- &lt;div data-layout="de6 ec5 ec-n3"&gt;
      &lt;p&gt;&lt;/p&gt;
    &lt;/div&gt; --&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">data-layout=</span><span class="s">"de10 ec-half"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h3&gt;</span>Contact us<span class="nt">&lt;/h3&gt;</span>
      <span class="nt">&lt;form</span> <span class="na">name=</span><span class="s">"mail"</span> <span class="na">action=</span><span class="s">"./SendMailAction.bo"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">onsubmit=</span><span class="s">"return finalCheck();"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_NameField"</span><span class="nt">&gt;</span>ì´ë¦„ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_NameField"</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"nameMsg"</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_EmailField"</span><span class="nt">&gt;</span>ë‹µë³€ ë°›ì„ ì´ë©”ì¼ <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_EmailField"</span> <span class="na">type=</span><span class="s">"email"</span> <span class="na">name=</span><span class="s">"email"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"emailMsg"</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_TelField"</span><span class="nt">&gt;</span>ì œëª© <span class="nt">&lt;/label&gt;&lt;input</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_TelField"</span> <span class="na">type=</span><span class="s">"tel"</span> <span class="na">name=</span><span class="s">"title"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"titleMsg"</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formRow"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"MOD_TEXTFORM_MsgField"</span><span class="nt">&gt;</span>ë‚´ìš© <span class="nt">&lt;/label&gt;&lt;textarea</span> <span class="na">id=</span><span class="s">"MOD_TEXTFORM_MsgField"</span> <span class="na">placeholder=</span><span class="s">"ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."</span> <span class="na">name=</span><span class="s">"content"</span><span class="nt">&gt;&lt;/textarea&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"btn"</span><span class="nt">&gt;</span>ë³´ë‚´ê¸°<span class="nt">&lt;/button&gt;</span>
      <span class="nt">&lt;/form&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
<span class="c">&lt;!--
END MODULE AREA 3: Sub Navigation 1
--&gt;</span>

<span class="c">&lt;!--
START MODULE AREA 5: Footer 2
--&gt;</span>
  <span class="nt">&lt;jsp:include </span><span class="na">page=</span><span class="s">"../inc/bottom.jsp"</span><span class="nt">&gt;&lt;/jsp:include&gt;</span>
<span class="c">&lt;!--
END MODULE AREA 5: Footer 2
--&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"${pageContext.request.contextPath }/js/index.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<ul>
  <li>í¼íƒœê·¸ë¥¼ ì´ìš©í•´ ì…ë ¥í•œ ì •ë³´ë“¤ì„ ì„œë¸”ë¦¿ìœ¼ë¡œ ì „ì†¡í•œë‹¤.</li>
</ul>

<h2 id="contactusjs">contactUs.js</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">finalCheck</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kd">var</span> <span class="nx">mail</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">mail</span><span class="p">;</span>
	
    <span class="k">if</span> <span class="p">(</span><span class="nx">mail</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”!</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">mail</span><span class="p">.</span><span class="nx">name</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
	
    <span class="k">if</span> <span class="p">(</span><span class="nx">mail</span><span class="p">.</span><span class="nx">email</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì—°ë½ ë°›ì„ ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”!</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">mail</span><span class="p">.</span><span class="nx">email</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
	
    <span class="k">if</span> <span class="p">(</span><span class="nx">mail</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”!</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">mail</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
	
    <span class="k">if</span> <span class="p">(</span><span class="nx">mail</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nx">alert</span><span class="p">(</span><span class="dl">'</span><span class="s1">ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”!</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">mail</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>ë©”ì¼ì„ ë³´ë‚´ê¸° ì „ ëª¨ë“  í•„ë“œê°€ ì…ë ¥ë˜ì—ˆëŠ”ì§€ í™•ì¸ í›„ ëª¨ë“  ë¶„ê¸°ê°€ <code class="language-plaintext highlighter-rouge">true</code>ì¼ ë•Œì—ë§Œ ì„œë¸”ë¦¿ìœ¼ë¡œ ì´ë™í•œë‹¤.</li>
</ul>

<h2 id="boardfrontcontrollerjava">BoardFrontController.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.RequestDispatcher</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.ServletException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServlet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardFrontController</span> <span class="kd">extends</span> <span class="nc">HttpServlet</span>
<span class="o">{</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">doProcess</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">ServletException</span><span class="o">,</span> <span class="nc">IOException</span> 
    <span class="o">{</span>
        <span class="c1">// 1. ì „ë‹¬ë˜ëŠ” ê°€ìƒì£¼ì†Œ ê³„ì‚°</span>
        <span class="c1">// .. ìƒëµ</span>
		
        <span class="c1">// 2. ê°€ìƒì£¼ì†Œ ë§¤í•‘</span>
        <span class="nc">Action</span> <span class="n">action</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="nc">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		
        <span class="c1">// .. ìƒëµ</span>
        <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">command</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">"/SendMailAction.bo"</span><span class="o">))</span>
        <span class="o">{</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"C : /SendMailAction.bo í˜¸ì¶œ"</span><span class="o">);</span>
			
            <span class="n">action</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SendMailAction</span><span class="o">();</span>
			
            <span class="k">try</span> <span class="o">{</span>
                <span class="n">forward</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="c1">// .. ìƒëµ</span>
		
        <span class="c1">// 3. í˜ì´ì§€ ì´ë™</span>
        <span class="c1">// .. ìƒëµ</span>
    <span class="o">}</span>
 
    <span class="c1">// .. ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ì»¨íŠ¸ë¡¤ëŸ¬</code>ì—ì„œ ë©”ì¼ ì „ì†¡ ë™ì‘ì„ ìˆ˜í–‰í•  ì„œë¸”ë¦¿ìœ¼ë¡œ ì—°ê²°í•œë‹¤.</li>
</ul>

<h2 id="sendmailactionjava">SendMailAction.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Properties</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.mail.Address</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.mail.Authenticator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.mail.Message</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.mail.Session</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.mail.Transport</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.mail.internet.InternetAddress</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.mail.internet.MimeMessage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.project.cafe.action.Action</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.project.cafe.action.ActionForward</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SendMailAction</span> <span class="kd">implements</span> <span class="nc">Action</span> 
<span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nc">ActionForward</span> <span class="nf">execute</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> 
    <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"M : SendMailAction - execute() í˜¸ì¶œ"</span><span class="o">);</span>
		
        <span class="c1">// í•œê¸€ì²˜ë¦¬</span>
        <span class="n">request</span><span class="o">.</span><span class="na">setCharacterEncoding</span><span class="o">(</span><span class="s">"utf-8"</span><span class="o">);</span>
		
        <span class="c1">// íŒŒë¼ë¯¸í„° ì €ì¥</span>
        <span class="nc">String</span> <span class="n">sender</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"email"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">receiver</span> <span class="o">=</span> <span class="s">"ë©”ì¼ì„ ë°›ëŠ”ë° ì‚¬ìš©í•  ê´€ë¦¬ì ë©”ì¼ì£¼ì†Œ"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">title</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"title"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"content"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getParameter</span><span class="o">(</span><span class="s">"name"</span><span class="o">);</span>
		
        <span class="nc">StringBuilder</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">();</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"ì´ë¦„ : "</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&lt;br&gt;"</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"ë©”ì¼ì£¼ì†Œ : "</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">sender</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"&lt;br&gt;"</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">"ë‚´ìš© : "</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
		
        <span class="c1">// ë©”ì¼ ë³´ë‚´ëŠ” ë™ì‘ ìˆ˜í–‰</span>
        <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/html; charset=utf-8"</span><span class="o">);</span>
        <span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
		
        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// ì„œë²„ ì •ë³´ë¥¼ Properies ê°ì²´ì— ì €ì¥</span>
            <span class="nc">Properties</span> <span class="n">properties</span> <span class="o">=</span> <span class="nc">System</span><span class="o">.</span><span class="na">getProperties</span><span class="o">();</span>
			
            <span class="c1">// Starttls Commandë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ì •</span>
            <span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.starttls.enable"</span><span class="o">,</span> <span class="s">"true"</span><span class="o">);</span>
			
            <span class="c1">// SMTP ì„œë²„ë¥¼ ì§€ì •</span>
            <span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.host"</span><span class="o">,</span> <span class="s">"smtp.gmail.com"</span><span class="o">);</span>
			
            <span class="c1">// AUTH commandë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì¸ì¦ì„ í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ì„¤ì • ë¶€ë¶„</span>
            <span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.auth"</span><span class="o">,</span> <span class="s">"true"</span><span class="o">);</span>
			
            <span class="c1">// ì„œë²„ í¬íŠ¸ë¥¼ ì§€ì •í•˜ëŠ” ë¶€ë¶„</span>
            <span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.port"</span><span class="o">,</span> <span class="s">"587"</span><span class="o">);</span>
			
            <span class="c1">// ì¸ì¦ ì •ë³´ ìƒì„±</span>
            <span class="nc">Authenticator</span> <span class="n">auth</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">GoogleAuthentication</span><span class="o">();</span>
			
            <span class="c1">// ë©”ì¼ì„ ì „ì†¡í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ë‹¨ìœ„ì¸ Session ê°ì²´ ìƒì„±</span>
            <span class="nc">Session</span> <span class="n">s</span> <span class="o">=</span> <span class="nc">Session</span><span class="o">.</span><span class="na">getDefaultInstance</span><span class="o">(</span><span class="n">properties</span><span class="o">,</span> <span class="n">auth</span><span class="o">);</span>
			
            <span class="c1">// ìƒì„±í•œ Session ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì†¡í•  Message ê°ì²´ ìƒì„±</span>
            <span class="nc">Message</span> <span class="n">message</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MimeMessage</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
			
            <span class="c1">// ë©”ì¼ì„ ì†¡ì‹ í•  ì†¡ì‹  ì£¼ì†Œ ìƒì„±</span>
            <span class="nc">Address</span> <span class="n">senderAddr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InternetAddress</span><span class="o">(</span><span class="n">sender</span><span class="o">);</span>
			
            <span class="c1">// ë©”ì¼ì„ ìˆ˜ì‹ í•  ìˆ˜ì‹  ì£¼ì†Œ ìƒì„±</span>
            <span class="nc">Address</span> <span class="n">receiverAddr</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">InternetAddress</span><span class="o">(</span><span class="n">receiver</span><span class="o">);</span>
			
            <span class="c1">// ë©”ì¼ ì „ì†¡ì— í•„ìš”í•œ ê°’ë“¤ ì„¤ì •</span>
            <span class="n">message</span><span class="o">.</span><span class="na">setHeader</span><span class="o">(</span><span class="s">"content-type"</span><span class="o">,</span> <span class="s">"text/html; charset=utf-8"</span><span class="o">);</span>
            <span class="n">message</span><span class="o">.</span><span class="na">setFrom</span><span class="o">(</span><span class="n">senderAddr</span><span class="o">);</span>
            <span class="n">message</span><span class="o">.</span><span class="na">addRecipient</span><span class="o">(</span><span class="nc">Message</span><span class="o">.</span><span class="na">RecipientType</span><span class="o">.</span><span class="na">TO</span><span class="o">,</span> <span class="n">receiverAddr</span><span class="o">);</span>
            <span class="n">message</span><span class="o">.</span><span class="na">setSubject</span><span class="o">(</span><span class="n">title</span><span class="o">);</span>
            <span class="n">message</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">(),</span> <span class="s">"text/html; charset=utf-8"</span><span class="o">);</span>
            <span class="n">message</span><span class="o">.</span><span class="na">setSentDate</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
			
            <span class="c1">// ë©”ì‹œì§€ë¥¼ ë©”ì¼ë¡œ ì „ì†¡</span>
            <span class="nc">Transport</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
			
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;script&gt;"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"alert('ë©”ì¼ì´ ì •ìƒì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.');"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"location.href='./Contact.bo';"</span><span class="o">);</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"&lt;/script&gt;"</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"SMTP ì„œë²„ê°€ ì˜ëª» ì„¤ì •ë˜ì—ˆê±°ë‚˜ ì„œë¹„ìŠ¤ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤."</span><span class="o">);</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
		
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li>ë°›ì€ ë©”ì¼ì„ ì—´ì–´ë³¼ ë•Œ ì¤„ì„ ë°”ê¿”ì„œ ë³´ì—¬ì£¼ê¸° ìœ„í•´ì„œ <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code> íƒœê·¸ë¥¼ ì¶”ê°€í–ˆë‹¤.</li>
  <li>ì²˜ìŒì—” <code class="language-plaintext highlighter-rouge">\n</code>ê³¼ <code class="language-plaintext highlighter-rouge">System.lineSeparator()</code> ë“± ìë°”ì—ì„œ ì¤„ì„ ë°”ê¾¸ëŠ” ì½”ë“œë¥¼ ì¼ëŠ”ë° ë©”ì¼ì„ ë°›ìœ¼ë©´ ì¤„ì´ ë°”ë€Œì§€ ì•Šì•„ì„œ í•œì°¸ ì°¾ì•„ í—¤ë©¨ë‹¤.</li>
  <li>ì•Œê³ ë³´ë‹ˆ ë©”ì¼ì´ ì¶œë ¥ë˜ëŠ” í•„ë“œë„ <code class="language-plaintext highlighter-rouge">HTML</code>ì´ë¼ <code class="language-plaintext highlighter-rouge">HTML</code>íƒœê·¸ë¡œ ì¤„ë°”ê¿ˆì„ ì‘ì„±í•´ì•¼ í–ˆë‹¤. <code class="language-plaintext highlighter-rouge">message.setContent(sb.toString(), "text/html; charset=utf-8");</code>ì´ êµ¬ë¬¸ì˜ <code class="language-plaintext highlighter-rouge">"text/html; charset=utf-8"</code>ì´ íŒíŠ¸ì˜€ë‹¤â€¦</li>
  <li><a href="https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&amp;blogId=deeperain&amp;logNo=221387794478">ì°¸ê³ ê¸€</a></li>
</ul>

<h2 id="googleauthenticationjava">GoogleAuthentication.java</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.project.cafe.board.action</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.mail.Authenticator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.mail.PasswordAuthentication</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GoogleAuthentication</span> <span class="kd">extends</span> <span class="nc">Authenticator</span> 
<span class="o">{</span>
    <span class="nc">PasswordAuthentication</span> <span class="n">passAuth</span><span class="o">;</span>
	
    <span class="kd">public</span> <span class="nf">GoogleAuthentication</span><span class="o">()</span>
    <span class="o">{</span>
        <span class="c1">// ì²«ë²ˆì§¸ ì¸ìëŠ” êµ¬ê¸€ ì•„ì´ë””, ë‘ë²ˆì§¸ëŠ” ë¹„ë°€ë²ˆí˜¸</span>
        <span class="n">passAuth</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PasswordAuthentication</span><span class="o">(</span><span class="s">"êµ¬ê¸€ì•„ì´ë””"</span><span class="o">,</span> <span class="s">"ì•± ë¹„ë°€ë²ˆí˜¸"</span><span class="o">);</span>
    <span class="o">}</span>
	
    <span class="kd">public</span> <span class="nc">PasswordAuthentication</span> <span class="nf">getPasswordAuthentication</span><span class="o">()</span> <span class="o">{</span><span class="k">return</span> <span class="n">passAuth</span><span class="o">;}</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">êµ¬ê¸€ SMTP</code>ë¥¼ ì‚¬ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì— êµ¬ê¸€ ê³„ì • ì¸ì¦ ì •ë³´ë¥¼ ë°›ì•„ì˜¤ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆë‹¤.</li>
  <li>ì•± ë¹„ë°€ë²ˆí˜¸ëŠ” <a href="https://myaccount.google.com/apppasswords?rapt=AEjHL4NLJqxIzXCjpOREZBAtKSdJowWSk6Hl9qx59piLBQz_fNsRxBDDi02cYrIZw8GPr-zDU_3xzV4uoyYm_F6zLxRmucszuQ">ì•± ë¹„ë°€ë²ˆí˜¸ ì„¤ì •</a> í˜ì´ì§€ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</li>
</ul>

<p align="center"><img src="../../assets/images/mailTest.png" width="400" /></p>

<ul>
  <li>ì´ì œ ë©”ì¼ì„ ë³´ë‚´ë³´ë©´ ì‘ì„±í•œ ëŒ€ë¡œ ì˜ ê°„ë‹¤! ğŸ‘<br /><br /><br /></li>
</ul>

<h1 id="ë§ˆê°ê¹Œì§€">ë§ˆê°ê¹Œì§€</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">D-5</code></li>
</ul>]]></content><author><name>Yujin Hwang</name><email>miro7923@gmail.com</email></author><category term="Project Log" /><category term="Project" /><category term="Cafe" /><category term="Log" /><summary type="html"><![CDATA[ê°œë°œí™˜ê²½ MacBook Air (M1, 2020) OpenJDK 8 Eclipse 2021-12 tomcat 8.5 MySQL Workbench 8.0.19]]></summary></entry></feed>