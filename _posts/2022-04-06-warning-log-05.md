---
title: ì—ëŸ¬í•´ê²° Log) JAVA JSP Servlet ê¸€ ë‚´ìš© ìˆ˜ì •í•  ë•Œ ì²¨ë¶€íŒŒì¼ì´ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œ2
toc: true
toc_sticky: true
toc_label: ëª©ì°¨
published: true
categories:
    - ErrorLog
tags:
    - Error
    - Solve
    - Log
---
# ì‚¬ìš©í™˜ê²½
* MacBook Air (M1, 2020) 16GB
* JDK 8
* Eclipse 2021-12
* tomcat 8.5<br><br><br>

# ì—ëŸ¬ì˜ ë°œìƒ
* ë¬´ìŠ¨ ë²„ê·¸ê°€ ìˆ˜ì •ì„ í•´ë„í•´ë„ ê³„ì† ë‚˜ì˜¤ëŠ”ì§€... ì–¼ë ëš±ë•… ëŒì•„ê°€ëŠ” ëŠë‚Œì´ë‹¤ ğŸ¥²
* ê²Œì‹œê¸€ì„ ìˆ˜ì •í•  ë•Œ ì²¨ë¶€íŒŒì¼ì´ ì‚¬ë¼ì§€ëŠ” ë²„ê·¸ë¥¼ í•´ê²°í–ˆë‹¤ê³  ìƒê°í–ˆëŠ”ë° ì™„ë²½íˆ í•´ê²°ë˜ì§€ ì•Šì•˜ë‹¤.
* ì—¬ì „íˆ ì¼ë¶€ ì¼€ì´ìŠ¤ì—ì„œ ì œëŒ€ë¡œ ì²˜ë¦¬ê°€ ë˜ì§€ ì•Šì•„ `DB` ìƒì—ì„œì˜ íŒŒì¼ëª…ì´ `null`ë¡œ ë°”ë€ŒëŠ” ë¬¸ì œê°€ ì¡´ì¬í–ˆë‹¤.
* ê·¸ë˜ì„œ ì¢€ ë” ê·¼ë³¸ì ì¸ ì›ì¸ì„ ë– ì˜¬ë ¤ ë³´ì•˜ë‹¤... ê²Œì‹œê¸€ì„ ìˆ˜ì •í•˜ë©° íŒŒì¼ ì—…ë¡œë“œ ë‹¨ê³„ë¥¼ ê±°ì¹˜ëŠ” ê³¼ì •ì—ì„œ `DTO` ìƒì„± ì‹œ íŒŒì¼ëª…ì´ ì§€ì •ë˜ì§€ ì•Šì•„ `null`ë¡œ ë‚¨ì•„ìˆëŠ” ê²ƒì´ `DB` ìˆ˜ì • ë™ì‘ ë•Œ ë„˜ì–´ì™€ì„œ ë¬¸ì œë¼ë©´ `DB`ì— ì ‘ê·¼í•˜ëŠ” ë©”ì„œë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ë¹ ë¥´ì§€ ì•Šì„ê¹Œ...

# ë¬¸ì œ í•´ê²°
* ê¸°ì¡´ì— ì‘ì„±í–ˆë˜ ê²Œì‹œê¸€ ìˆ˜ì • ë©”ì„œë“œ

```java
public int modifyPost(BoardDTO dto)
{
    int ret = -1;
		
    try {
        con = getCon();
			
        // ë²ˆí˜¸ë¡œ í•´ë‹¹ ê¸€ ì°¾ê¸°
        sql = "select * from cafe_board where num=?";
        pstmt = con.prepareStatement(sql);
			
        pstmt.setInt(1, dto.getNum());
			
        rs = pstmt.executeQuery();
			
        if (rs.next())
        {
            // update ë™ì‘ ìˆ˜í–‰
            sql = "update cafe_board set title=?, image=?, image_uid=?, file=?, file_uid=? content=? where num=?";
            pstmt = con.prepareStatement(sql);
				
            pstmt.setString(1, dto.getTitle());
            pstmt.setString(2, dto.getContent());
            pstmt.setString(3, dto.getImage());
            pstmt.setString(4, dto.getImage_uid());
            pstmt.setString(5, dto.getFile());
            pstmt.setString(6, dto.getFile_uid());
            pstmt.setInt(7, dto.getNum());
				
            ret = pstmt.executeUpdate();
				
            System.out.println("DAO : ê¸€ ìˆ˜ì • ì™„ë£Œ");
        }
    }
    catch (Exception e) {
        e.printStackTrace();
    }
    finally {
        closeDB();
    }
		
    return ret;
}
```

* ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì€ `DTO`ë¥¼ ê·¸ëŒ€ë¡œ ë°›ì•„ì„œ ë°”ë¡œ ì—…ë°ì´íŠ¸ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤. 
* ì´ëŸ¬ë‹ˆ `DTO`ì˜ íŒŒì¼ëª… í•„ë“œê°€ `null`ë¡œ ë„˜ì–´ì™€ë„ ì•„ë¬´ í•„í„°ë§ ì—†ì´ `DB`ì— `null`ì´ ì €ì¥ë˜ëŠ” ê²ƒì´ì—ˆë‹¤.
<br><br>

* ìˆ˜ì •í•œ ë©”ì„œë“œ

```java
public int modifyPost(BoardDTO dto)
{
    int ret = -1;
		
    try {
        con = getCon();
			
        // ë²ˆí˜¸ë¡œ í•´ë‹¹ ê¸€ ì°¾ê¸°
        sql = "select * from cafe_board where num=?";
        pstmt = con.prepareStatement(sql);
			
        pstmt.setInt(1, dto.getNum());
			
        rs = pstmt.executeQuery();
			
        if (rs.next())
        {
            // update ë™ì‘ ìˆ˜í–‰
            // ìƒˆë¡œ ìˆ˜ì •í•œ ê¸€ì—ì„œ íŒŒì¼ ì •ë³´ê°€ ìˆìœ¼ë©´ ê·¸ê±¸ë¡œ ìˆ˜ì • / ì—†ìœ¼ë©´ ê·¸ëŒ€ë¡œ ë†”ë‘ 
            if (dto.getImage() != null && dto.getImage_uid() != null)
            {
                sql = "update cafe_board set image=?, image_uid=? where num=?";
                pstmt = con.prepareStatement(sql);
					
                pstmt.setString(1, dto.getImage());
                pstmt.setString(2, dto.getImage_uid());
                pstmt.setInt(3, dto.getNum());
					
                pstmt.executeUpdate();
            }
				
            if (dto.getFile() != null && dto.getFile_uid() != null)
            {
                sql = "update cafe_board set file=?, file_uid=? where num=?";
                pstmt = con.prepareStatement(sql);
					
                pstmt.setString(1, dto.getFile());
                pstmt.setString(2, dto.getFile_uid());
                pstmt.setInt(3, dto.getNum());
					
                pstmt.executeUpdate();
            }
				
            sql = "update cafe_board set title=?, content=? where num=?";
            pstmt = con.prepareStatement(sql);
				
            pstmt.setString(1, dto.getTitle());
            pstmt.setString(2, dto.getContent());
            pstmt.setInt(3, dto.getNum());
				
            ret = pstmt.executeUpdate();
				
            System.out.println("DAO : ê¸€ ìˆ˜ì • ì™„ë£Œ");
        }
    }
    catch (Exception e) {
        e.printStackTrace();
    }
    finally {
        closeDB();
    }
		
    return ret;
}
```

* ì „ë‹¬ë˜ì–´ ì˜¨ `DTO`ì— íŒŒì¼ëª… ì •ë³´ê°€ ìˆì„ ë•Œì—ë§Œ ì—…ë°ì´íŠ¸ê°€ ë˜ë„ë¡ ìˆ˜ì •í–ˆë‹¤.
* ì´ë ‡ê²Œ í•˜ë‹ˆê¹Œ ê·¸ë™ì•ˆ ê³ ë¯¼í–ˆë˜ ë¬¸ì œë“¤ì´ ì‹¹ í•´ê²°ë˜ì—ˆë‹¤.
* ì—­ì‹œ ê·¼ë³¸ì ì¸ ì›ì¸ì„ ì œê±°í–ˆì–´ì•¼...

* ì´ë ‡ê²Œ ë¬¸ì œ í•´ê²°~!! ğŸ‘
